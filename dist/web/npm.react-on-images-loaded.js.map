{"version":3,"sources":["webpack:///./node_modules/react-on-images-loaded/lib/OnImagesLoaded.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","call","parent","getPrototypeOf","_interopRequireDefault","obj","__esModule","_react","_react2","_propTypes2","truthy","el","includes","OnImagesLoaded","_Component","instance","TypeError","_classCallCheck","this","state","loaded","loadCounter","imageCount","_onLoadEvent","bind","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_inherits","_props","onWillMount","delay","timeout","tempTimeout","tempDelay","_delay","_timeout","Math","max","mounted","_imgs","_removeImageEventListeners","_props2","onLoaded","onTimeout","onDidMount","timingSetup","imageLoad","getElementsByTagName","_addImageEventListeners","_setOnTimeoutEvent","_this","setState","addEventListener","removeEventListener","_this2","setTimeout","_hasTimedOut","_runOnTimeoutFunction","_props3","_this3","_this4","_hasBeenFullyAndProperlyLoaded","_runOnLoadFunction","_this5","timedOut","_props4","className","classNameOnLoaded","classNameOnMount","_this6","_hasDefinedClassName","_depreciatedClassNameHandler","createElement","placeholder","ref","ctx","children","_state","_props5","Component","propTypes","func","isRequired","number","string","module"],"mappings":"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","file":"npm.react-on-images-loaded.js","sourcesContent":["// @ts-check\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n// travis demands that test be\n// \"test\": \"echo 'no tests yet'\",\n// instead of test: jest\n\nvar truthy = function truthy(el) {\n\treturn ![false, undefined, null].includes(el);\n};\n\nvar OnImagesLoaded = (function (_Component) {\n\t_inherits(OnImagesLoaded, _Component);\n\n\tfunction OnImagesLoaded(props) {\n\t\t_classCallCheck(this, OnImagesLoaded);\n\n\t\t_get(Object.getPrototypeOf(OnImagesLoaded.prototype), 'constructor', this).call(this, props);\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\tloadCounter: 0,\n\t\t\timageCount: 0\n\t\t};\n\t\tthis._onLoadEvent = this._onLoadEvent.bind(this);\n\t}\n\n\t_createClass(OnImagesLoaded, [{\n\t\tkey: 'timingSetup',\n\t\tvalue: function timingSetup() {\n\t\t\tvar _props = this.props;\n\t\t\tvar onWillMount = _props.onWillMount;\n\t\t\tvar delay = _props.delay;\n\t\t\tvar timeout = _props.timeout;\n\n\t\t\tonWillMount ? onWillMount() : null;\n\t\t\tvar tempTimeout = timeout;\n\t\t\tvar tempDelay = delay;\n\n\t\t\ttempTimeout = truthy(tempTimeout) ? tempTimeout : 7000;\n\t\t\tthis._delay = truthy(tempDelay) ? tempDelay : 0;\n\t\t\tthis._timeout = Math.max(tempTimeout, this._delay);\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\tthis.mounted = false;\n\t\t\tthis._imgs.length > 0 ? this._removeImageEventListeners() : null;\n\t\t}\n\t}, {\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _props2 = this.props;\n\t\t\tvar onLoaded = _props2.onLoaded;\n\t\t\tvar onTimeout = _props2.onTimeout;\n\t\t\tvar onDidMount = _props2.onDidMount;\n\n\t\t\tthis.timingSetup();\n\t\t\tthis.mounted = true;\n\t\t\tthis._imgs = this.imageLoad.getElementsByTagName('img');\n\t\t\tif (this._imgs.length === 0) {\n\t\t\t\tif (onLoaded) {\n\t\t\t\t\tonLoaded();\n\t\t\t\t} else if (onTimeout) {\n\t\t\t\t\tonTimeout();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonDidMount ? onDidMount() : null;\n\t\t\t\tthis._addImageEventListeners();\n\t\t\t\tthis._setOnTimeoutEvent();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_addImageEventListeners',\n\t\tvalue: function _addImageEventListeners() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.setState({ imageCount: this._imgs.length }, function () {\n\t\t\t\tfor (var i = 0; i < _this._imgs.length; i++) {\n\t\t\t\t\t_this._imgs[i].addEventListener('load', _this._onLoadEvent);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_removeImageEventListeners',\n\t\tvalue: function _removeImageEventListeners() {\n\t\t\tfor (var i = 0; i < this._imgs.length; i++) {\n\t\t\t\tthis._imgs[i].removeEventListener('load', this._onLoadEvent);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_setOnTimeoutEvent',\n\t\tvalue: function _setOnTimeoutEvent() {\n\t\t\tvar _this2 = this;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t_this2._hasTimedOut ? _this2._runOnTimeoutFunction() : null;\n\t\t\t}, this._timeout);\n\t\t}\n\t}, {\n\t\tkey: '_runOnTimeoutFunction',\n\t\tvalue: function _runOnTimeoutFunction() {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (this.mounted) {\n\t\t\t\t(function () {\n\t\t\t\t\tvar _props3 = _this3.props;\n\t\t\t\t\tvar onTimeout = _props3.onTimeout;\n\t\t\t\t\tvar onLoaded = _props3.onLoaded;\n\n\t\t\t\t\t_this3.setState({ loaded: true }, function () {\n\t\t\t\t\t\tif (onTimeout) {\n\t\t\t\t\t\t\tonTimeout();\n\t\t\t\t\t\t} else if (onLoaded) {\n\t\t\t\t\t\t\tonLoaded();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onLoadEvent',\n\t\tvalue: function _onLoadEvent() {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (this.mounted) {\n\t\t\t\tthis.setState({ loadCounter: this.state.loadCounter + 1 }, function () {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t_this4._hasBeenFullyAndProperlyLoaded ? _this4._runOnLoadFunction() : null;\n\t\t\t\t\t}, _this4._delay);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_runOnLoadFunction',\n\t\tvalue: function _runOnLoadFunction() {\n\t\t\tvar _this5 = this;\n\n\t\t\tif (this.mounted) {\n\t\t\t\t(function () {\n\t\t\t\t\tvar onLoaded = _this5.props.onLoaded;\n\n\t\t\t\t\t_this5.setState({ loaded: true, timedOut: false }, function () {\n\t\t\t\t\t\tonLoaded ? onLoaded() : null;\n\t\t\t\t\t});\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_depreciatedClassNameHandler',\n\t\tvalue: function _depreciatedClassNameHandler() {\n\t\t\tvar _props4 = this.props;\n\t\t\tvar className = _props4.className;\n\t\t\tvar classNameOnLoaded = _props4.classNameOnLoaded;\n\t\t\tvar classNameOnMount = _props4.classNameOnMount;\n\n\t\t\tif (className) {\n\t\t\t\treturn className;\n\t\t\t} else if (!this.state.loaded) {\n\t\t\t\treturn classNameOnMount;\n\t\t\t} else {\n\t\t\t\treturn classNameOnLoaded;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this6 = this;\n\n\t\t\tif (this.imageLoad && this._hasDefinedClassName) {\n\t\t\t\tthis.imageLoad.className = this._depreciatedClassNameHandler();\n\t\t\t}\n\t\t\treturn _react2['default'].createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\tthis.state.loaded ? null : this.props.placeholder,\n\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ ref: function (ctx) {\n\t\t\t\t\t\t\t_this6.imageLoad = ctx;\n\t\t\t\t\t\t} },\n\t\t\t\t\tthis.props.children\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: '_hasBeenFullyAndProperlyLoaded',\n\t\tget: function get() {\n\t\t\tvar _state = this.state;\n\t\t\tvar loadCounter = _state.loadCounter;\n\t\t\tvar imageCount = _state.imageCount;\n\t\t\tvar loaded = _state.loaded;\n\n\t\t\treturn this.mounted && loadCounter >= imageCount && !loaded;\n\t\t}\n\t}, {\n\t\tkey: '_hasTimedOut',\n\t\tget: function get() {\n\t\t\treturn this.mounted && !this.state.loaded;\n\t\t}\n\t}, {\n\t\tkey: '_hasDefinedClassName',\n\t\tget: function get() {\n\t\t\tvar _props5 = this.props;\n\t\t\tvar classNameOnLoaded = _props5.classNameOnLoaded;\n\t\t\tvar classNameOnMount = _props5.classNameOnMount;\n\t\t\tvar className = _props5.className;\n\n\t\t\treturn !!(classNameOnLoaded || classNameOnMount || className);\n\t\t}\n\t}]);\n\n\treturn OnImagesLoaded;\n})(_react.Component);\n\nexports['default'] = OnImagesLoaded;\n\nOnImagesLoaded.propTypes = {\n\tonTimeout: _propTypes2['default'].func,\n\tonLoaded: _propTypes2['default'].func.isRequired,\n\tdelay: _propTypes2['default'].number,\n\t// depreciated\n\tonDidMount: _propTypes2['default'].func,\n\tonWillMount: _propTypes2['default'].func,\n\tclassNameOnLoaded: _propTypes2['default'].string,\n\tclassNameOnMount: _propTypes2['default'].string,\n\tclassName: _propTypes2['default'].string\n};\nmodule.exports = exports['default'];"],"sourceRoot":""}