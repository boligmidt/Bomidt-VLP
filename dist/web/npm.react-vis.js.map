{"version":3,"sources":["webpack:///./node_modules/react-vis/es/utils/react-utils.js","webpack:///./node_modules/react-vis/es/animation.js","webpack:///./node_modules/react-vis/es/utils/data-utils.js","webpack:///./node_modules/react-vis/es/utils/scales-utils.js","webpack:///./node_modules/react-vis/es/plot/series/abstract-series.js","webpack:///./node_modules/react-vis/es/theme.js","webpack:///./node_modules/react-vis/es/utils/series-utils.js","webpack:///./node_modules/react-vis/es/plot/series/arc-series.js","webpack:///./node_modules/react-vis/es/plot/series/area-series.js","webpack:///./node_modules/react-vis/es/plot/borders.js","webpack:///./node_modules/react-vis/es/plot/chart-label.js","webpack:///./node_modules/react-vis/es/utils/axis-utils.js","webpack:///./node_modules/react-vis/es/plot/circular-grid-lines.js","webpack:///./node_modules/react-vis/es/plot/series/contour-series.js","webpack:///./node_modules/react-vis/es/plot/crosshair.js","webpack:///./node_modules/react-vis/es/plot/series/custom-svg-series.js","webpack:///./node_modules/react-vis/es/plot/axis/decorative-axis-ticks.js","webpack:///./node_modules/react-vis/es/plot/axis/decorative-axis.js","webpack:///./node_modules/react-vis/es/plot/gradient-defs.js","webpack:///./node_modules/react-vis/es/plot/grid-lines.js","webpack:///./node_modules/react-vis/es/plot/series/heatmap-series.js","webpack:///./node_modules/react-vis/es/plot/series/hexbin-series.js","webpack:///./node_modules/react-vis/es/plot/highlight.js","webpack:///./node_modules/react-vis/es/plot/hint.js","webpack:///./node_modules/react-vis/es/plot/series/bar-series.js","webpack:///./node_modules/react-vis/es/plot/series/horizontal-bar-series.js","webpack:///./node_modules/react-vis/es/plot/series/bar-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/series/horizontal-bar-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/horizontal-grid-lines.js","webpack:///./node_modules/react-vis/es/plot/series/rect-series.js","webpack:///./node_modules/react-vis/es/plot/series/horizontal-rect-series.js","webpack:///./node_modules/react-vis/es/plot/series/rect-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/series/horizontal-rect-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/series/label-series.js","webpack:///./node_modules/react-vis/es/plot/series/line-series.js","webpack:///./node_modules/react-vis/es/plot/series/mark-series.js","webpack:///./node_modules/react-vis/es/plot/series/line-mark-series.js","webpack:///./node_modules/react-vis/es/plot/series/mark-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/series/line-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/series/line-mark-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/series/polygon-series.js","webpack:///./node_modules/react-vis/es/plot/series/vertical-bar-series.js","webpack:///./node_modules/react-vis/es/plot/series/vertical-bar-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/vertical-grid-lines.js","webpack:///./node_modules/react-vis/es/plot/series/vertical-rect-series.js","webpack:///./node_modules/react-vis/es/plot/series/vertical-rect-series-canvas.js","webpack:///./node_modules/react-vis/es/plot/voronoi.js","webpack:///./node_modules/react-vis/es/plot/series/whisker-series.js","webpack:///./node_modules/react-vis/es/utils/chart-utils.js","webpack:///./node_modules/react-vis/es/plot/series/canvas-wrapper.js","webpack:///./node_modules/react-vis/es/plot/xy-plot.js","webpack:///./node_modules/react-vis/es/plot/axis/axis-line.js","webpack:///./node_modules/react-vis/es/plot/axis/axis-ticks.js","webpack:///./node_modules/react-vis/es/plot/axis/axis-title.js","webpack:///./node_modules/react-vis/es/plot/axis/axis.js","webpack:///./node_modules/react-vis/es/plot/axis/x-axis.js","webpack:///./node_modules/react-vis/es/plot/axis/y-axis.js","webpack:///./node_modules/react-vis/es/legends/continuous-color-legend.js","webpack:///./node_modules/react-vis/es/legends/continuous-size-legend.js","webpack:///./node_modules/react-vis/es/legends/discrete-color-legend-item.js","webpack:///./node_modules/react-vis/es/legends/discrete-color-legend.js","webpack:///./node_modules/react-vis/es/legends/searchable-discrete-color-legend.js","webpack:///./node_modules/react-vis/es/parallel-coordinates/index.js","webpack:///./node_modules/react-vis/es/radar-chart/index.js","webpack:///./node_modules/react-vis/es/radial-chart/index.js","webpack:///./node_modules/react-vis/es/sankey/sankey-link.js","webpack:///./node_modules/react-vis/es/sankey/index.js","webpack:///./node_modules/react-vis/es/sunburst/index.js","webpack:///./node_modules/react-vis/es/treemap/treemap-leaf.js","webpack:///./node_modules/react-vis/es/treemap/treemap-dom.js","webpack:///./node_modules/react-vis/es/treemap/treemap-svg.js","webpack:///./node_modules/react-vis/es/treemap/index.js","webpack:///./node_modules/react-vis/es/make-vis-flexible.js","webpack:///./node_modules/react-vis/es/index.js"],"names":["_React$version$split2","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","sliceIterator","TypeError","_slicedToArray","version","split","major","minor","versionHigherThanThirteen","Number","getDOMNode","ref","USED_MESSAGES","HIDDEN_PROCESSES","test","production","warning","message","onlyShowMessageOnce","arguments","global","process","console","warn","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","prototype","_extends","assign","source","hasOwnProperty","call","ANIMATION_PROPTYPES","oneOfType","string","shape","stiffness","number","nonAnimatedProps","arrayOf","damping","bool","propTypes","animatedProps","isRequired","animation","onStart","func","onEnd","extractAnimatedPropValues","otherProps","obj","keys","indexOf","_objectWithoutProperties","reduce","result","animatedPropName","_PureComponent","Animation","instance","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","_motionEndHandler","_renderChildren","_ref","children","interpolator","_interpolator","child","Children","only","interpolatedProps","data","_data","map","row","index","correspondingCell","parent","cloneElement","_animation","Math","random","_updateInterpolator","subClass","superClass","create","constructor","setPrototypeOf","_inherits","oldProps","newProps","animationStyle","noWobble","getAnimationStyle","style","createElement","defaultStyle","onRest","displayName","AnimationPropType","transformValueToString","toString","toDateString","_SCALE_FUNCTIONS","_toConsumableArray","arr2","from","_defineProperty","LINEAR_SCALE_TYPE","ORDINAL_SCALE_TYPE","CATEGORY_SCALE_TYPE","LITERAL_SCALE_TYPE","LOG_SCALE_TYPE","TIME_SCALE_TYPE","SCALE_FUNCTIONS","literalScale","XYPLOT_ATTR","toTitleCase","str","toUpperCase","slice","getScaleFnFromScaleObject","scaleObject","type","domain","range","modDomain","scale","padding","invert","_scale$range","_scale$range2","lower","upper","start","min","stop","max","step","floor","addInvertFunctionToOrdinalScaleObject","getDomainByAccessor","allData","accessor","accessor0","values","d","value0","_isDefined","_createScaleObjectForValue","attr","distance","baseValue","isValue","_getScaleDistanceAndAdjustedDomain","concat","_normalizeValues","setOfValues","Set","getUniquePropertyValues","scaleFn","nextValue","currentValue","Infinity","nextDistance","abs","_getSmallestDistanceIndex","adjustedDomain","_computeLeftDomainAdjustment","_computeRightDomainAdjustment","bestDistIndex","_computeScaleDistance","domain0","domainN","getScaleObjectFromProps","fallbackValue","_props$","_props$2","noFallBack","_props$3","_props$4","addValueToArray","_collectScaleObjectFromProps","_props$_adjustBy","_adjustBy","adjustBy","_props$_adjustWhat","_adjustWhat","_isScaleAdjustmentPossible","_adjustCategoricalScale","allSeriesData","_allData","_props$_adjustWhat2","adjustWhat","domainLength","scaleDomain0","scaleDomainN","scaleDistance","forEach","_getScaleDistanceAndA","_adjustContinuousScale","getAttributeScale","_getAttrValue","getAttributeFunctor","getAttr0Functor","_scaleObject$baseValu","getAttributeValue","getScalePropTypesByAttribute","_ref2","any","array","oneOf","extractScalePropsFromProps","attributes","find","a","isPlainSet","isUnderscoreSet","usesGet","getMissingScaleProps","isNaN","parseFloat","_domain","domainPadding","_padDomain","defaultValue","response","unknown","copy","getFontColorFromBackground","background","l","getXYPlotValues","XYPlotScales","prev","scaleInput","OPTIONAL_SCALE_PROPS_REGS","RegExp","getOptionalScaleProps","acc","prop","every","reg","match","width","height","object","onValueMouseOver","onValueMouseOut","onValueClick","onValueRightClick","onSeriesMouseOver","onSeriesMouseOut","onSeriesClick","onSeriesRightClick","onNearestX","onNearestXY","stack","AbstractSeries","_temp","_len","args","_key","apply","_seriesClickHandler","event","_seriesMouseOutHandler","_seriesMouseOverHandler","_seriesRightClickHandler","_valueClickHandler","_this$props","_valueMouseOutHandler","_this$props2","_valueMouseOverHandler","_this$props3","_valueRightClickHandler","_this$props4","_props","_handleNearestXY","_handleNearestX","e","preventDefault","onParentMouseMove","_props2","_props2$marginTop","marginTop","_props2$marginLeft","marginLeft","evt","nativeEvent","currentTarget","rect","getBoundingClientRect","x","clientX","y","clientY","touches","pageX","pageY","left","clientLeft","top","clientTop","_props3","minDistance","POSITIVE_INFINITY","valueIndex","coordinate","_getXYCoordinateInContainer","xScaleFn","_getAttributeFunctor","item","currentCoordinate","newDistance","innerX","_props4","yScaleFn","foundPoint","voronoiInstance","innerY","get","defaultProps","className","DISCRETE_COLOR_RANGE","EXTENDED_DISCRETE_COLOR_RANGE","CONTINUOUS_COLOR_RANGE","SIZE_RANGE","DEFAULT_OPACITY","DEFAULT_COLOR","isSeriesChild","getSeriesChildren","toArray","filter","getStackedData","areSomeSeriesStacked","some","series","latestAttrPositions","accumulator","seriesIndex","seriesType","_series$props","_series$props$cluster","cluster","preppedData","radius","angle","seriesHasAngleRadius","cos","sin","prepareData","attr0","baseAttr","dIndex","_extends2","_latestAttrPositions$2","_latestAttrPositions$","prevD","nextD","getSeriesPropsFromChildren","seriesTypesInfo","sameTypeTotal","sameTypeIndex","clusters","add","collectSeriesTypesInfo","_opacityValue","seriesTypeInfo","_colorValue","getRadialDomain","res","ANIMATED_SERIES_PROPS","getStackParams","_stackBy","valuePosAttr","_props$sameTypeTotal","_props$sameTypeIndex","ATTRIBUTES","center","arcClassName","padAngle","modifyRow","angle0","truedAngle","PI","truedAngle0","_AbstractSeries","ArcSeries","scaleProps","_getAllScaleProps","state","nextProps","setState","defaultScaleProps","_getDefaultScaleProps","userScaleProps","missingScaleProps","innerWidth","innerHeight","radiusRange","_radiusValue","angleType","_this2","disableSeries","hideSeries","cloneData","stroke","radiusDomain","radius0","fill","opacity","predefinedClassName","onMouseOver","onMouseOut","onClick","onContextMenu","pointerEvents","transform","arcArg","innerRadius","outerRadius","startAngle","endAngle","arcedData","arc","rowStyle","rowClassName","AreaSeries","y0","curve","getNull","area","defined","y1","nullAccessor","_getAttr0Functor","_getAttributeValue","newOpacity","isFinite","_renderArea","bottom","right","marginBottom","marginRight","CLASSES","container","Borders","all","requiresSVG","_React$PureComponent","ChartLabel","includeMargin","text","xPos","xPercent","yPos","yPercent","PureComponent","ORIENTATION","TOP","LEFT","RIGHT","BOTTOM","VERTICAL","HORIZONTAL","DIRECTION","getTicksTotalFromSize","size","getTickValues","tickTotal","tickValues","ticks","CircularGridLines","centerX","centerY","_getDefaultProps","rRange","xScale","yScale","cx","cy","r","ContourSeries","bandwidth","colorRange","contouredData","geo","_getDomain","getDomain","colorScale","polygon","defaultTitleFormat","getFirstNonEmptyValue","title","defaultItemsFormat","v","Boolean","Crosshair","items","itemsFormat","titleFormat","titleItem","innerLeft","_props$orientation","orientation","innerClassName","line","box","_renderCrosshairTitle","_renderCrosshairItems","DEFAULT_STYLE","predefinedComponents","points","starPoints","c","innerAngle","outerAngle","join","CustomSVGSeries","customComponent","contents","seriesComponent","positionInPixels","innerComponent","defaultType","positionFunctions","propsSize","aggStyle","getInnerComponent","onMouseEnter","onMouseLeave","decorativeAxisTick","axisDomain","numberOfTicks","axisStart","axisEnd","tickValue","tickSize","_generateFit","slope","offset","generateFit","pointSlope","axisScale","slopeVertical","val","generatePoints","tickAngle","atan","getAxisAngle","point","tickProps","x1","x2","y2","textProps","textAnchor","DecorativeAxis","DEFAULT_FORMAT","strokeWidth","GradientDefs","direction","GridLines","isVertical","tickXAttr","tickYAttr","_pathProps","pos","pathProps","HeatmapSeries","rectStyle","xDistance","_getScaleDistance","yDistance","attrs","isDomainAdjustmentNeeded","HexbinSeries","sizeHexagonsWithCount","xOffset","yOffset","hex","hexagonPath","hexagon","hexes","countDomain","getColorDomain","color","getLocs","xLoc","offsetX","yLoc","offsetY","Highlight","dragging","brushArea","brushing","startLocX","startLocY","dragArea","_state","enableX","enableY","highlightWidth","highlightHeight","touchWidth","touchHeight","_state2","_state3","_state3$brushArea","clickedOutsideDragX","clickedOutsideDragY","_props5","onBrushStart","onDragStart","drag","_getLocs","startArea","resetDrag","emptyBrush","clickedOutsideDrag","_clickedOutsideDrag","_state4","_props6","onBrushEnd","onDragEnd","noHorizontal","isNulled","_convertAreaToCoordinates","_props7","onBrush","onDrag","_state5","_getLocs2","_getDrawArea","_brushArea","_getDragArea","_this3","_props8","highlightX","highlightY","_state$brushArea","leftPos","topPos","onMouseDown","startBrushing","onMouseMove","onMouseUp","stopBrushing","onTouchEnd","onTouchCancel","onContextMenuCapture","ALIGN","AUTO","LEFT_EDGE","RIGHT_EDGE","BOTTOM_EDGE","TOP_EDGE","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","defaultFormat","Hint","_props$align","align","horizontal","vertical","_mapOrientationToAlign","_getXCSS","_getYCSS","getAlignStyle","_getAlign","position","_getAlignStyle","positionClassName","_getAlignClassNames","_getCSSLeft","_getCSSRight","verticalAlign","_getCSSTop","_getCSSBottom","format","_getPositionInfo2","_getPositionInfo","content","formattedProp","scales","BarSeries","linePosAttr","lineSizeAttr","valueSizeAttr","barWidth","_getStackParams","lineFunctor","valueFunctor","value0Functor","fillFunctor","strokeFunctor","opacityFunctor","halfSpace","_attrs","totalSpaceAvailable","totalSpaceCenter","spacePerBar","barStartingPoint","HorizontalBarSeries","zeroBaseValue","BarSeriesCanvas","ctx","getScaleDistance","totalSpaceStartingPoint","lineSize","fillColor","strokeColor","rowOpacity","linePos","valuePos","valueSize","beginPath","fillStyle","g","b","strokeStyle","HorizontalBarSeriesCanvas","renderLayer","HorizontalGridLines","RectSeries","line0Functor","HorizontalRectSeries","RectSeriesCanvas","line0","HorizontalRectSeriesCanvas","getTextAnchor","labelAnchorX","leftOfMiddle","getDominantBaseline","labelAnchorY","aboveMiddle","LabelSeries","allowOffsetToBeReversed","getLabel","rotation","xRange","yRange","xFunctor","yFunctor","markStyle","xVal","yVal","labelRotation","dominantBaseline","textContent","label","STROKE_STYLES","dashed","solid","LineSeries","strokeDasharray","_renderLine","MarkSeries","scalingFunctions","_renderCircle","lineStyle","LineMarkSeries","MarkSeriesCanvas","p","LineSeriesCanvas","lineWidth","setLineDash","context","closePath","LineMarkSeriesCanvas","generatePath","PolygonSeries","VerticalBarSeries","VerticalGridLines","VerticalRectSeries","NOOP","f","Voronoi","extent","nodes","onBlur","_onClick","_onMouseUp","_onMouseDown","onHover","polygonStyle","polygons","handleTouchEvent","handler","_evt$nativeEvent","document","elementFromPoint","parentNode","childNodes","getNodeIndex","onTouchStart","onTouchMove","WhiskerSeries","crossBarWidth","whiskerMarkProps","sizeFunctor","valueClickHandler","valueRightClickHandler","valueMouseOverHandler","valueMouseOutHandler","positiveXVariance","xVariance","negativeXVariance","positiveYVariance","yVariance","negativeYVariance","hasXWhiskers","hasYWhiskers","styleAttr","crossBarExtension","rightLineAttrs","leftLineAttrs","rightCrossBarAttrs","leftCrossBarAttrs","upperLineAttrs","lowerLineAttrs","upperCrossBarAttrs","lowerCrossBarAttrs","getInnerDimensions","defaultMargins","margin","marginProps","_marginProps$left","_marginProps$top","_marginProps$right","_marginProps$bottom","getRadialLayoutMargin","marginX","marginY","MarginPropType","DEFAULT_MARGINS","MAX_DRAWS","drawLayers","layers","drawIteration","clearRect","layer","_Component","CanvasWrapper","canvas","getContext","pixelRatio","drawChildren","newChildren","oldChildren","childrenShouldAnimate","oldAnimatedProps","newAnimatedProps","drawCycle","setInterval","clearInterval","engageDrawLoop","window","devicePixelRatio","cleanseData","_React$Component","XYPlot","stackBy","scaleMixins","_getScaleMixins","dontCheckIfEmpty","onDoubleClick","onWheel","nextData","nextScaleMixins","hasTreeStructure","newMixins","oldMixins","checkIfMixinsAreEqual","dimensions","seriesProps","XYPlotValues","dataProps","render","_getInnerDimensions","colorRanges","opacityType","sizeRange","filteredData","optionalScaleProps","zeroBaseProps","_child$type$getParent","getParentConfig","specifiedDomain","components","componentsToRender","isCanvas","_componentsToRender$","_isPlotEmpty","_getClonedChildComponents","_clickHandler","_doubleClickHandler","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","_mouseLeaveHandler","_mouseEnterHandler","_touchMoveHandler","_touchEndHandler","_touchCancelHandler","_wheelHandler","renderCanvasComponents","Component","component","onParentMouseDown","onParentMouseEnter","onParentMouseLeave","onParentMouseUp","onParentTouchMove","_touchStartHandler","onParentTouchStart","AxisLine","lineProps","AxisTicks","_isAxisVertical","tickLabelAngle","_props$tickSizeOuter","tickSizeOuter","_props$tickPadding","tickPadding","labelOffset","_areTicksWrapped","dy","_props2$tickSizeOuter","_props2$tickSizeInner","tickSizeInner","wrap","tickFormat","tickFormatFn","_getTickFormatFn","translateFn","_getTickContainerPropsGetterFn","_getTickLineProps","_getTickLabelProps","labelNode","shouldRenderAsOwnNode","isValidElement","includes","shouldAddProps","containerWidth","tickCount","transformation","end","middle","ADJUSTMENT_FOR_TEXT_SIZE","AxisTitle","outerGroupTransform","_transformation$orien","innerGroupTransform","defaultAnimatedProps","attrAxis","hideTicks","hideLine","on0","Axis","_getDefaultAxisProps","axisClassName","XAxis","YAxis","endColor","endTitle","midColor","midTitle","startColor","startTitle","ContinuousColorLegend","colors","circlesTotal","endSize","startSize","ContinuousSizeLegend","circles","borderRadius","DiscreteColorLegendItem","disabled","strokeDasharrayStyle","element","DiscreteColorLegend","onItemClick","onItemMouseEnter","onItemMouseLeave","searchText","onSearchChange","searchPlaceholder","searchFn","s","String","toLowerCase","SearchableDiscreteColorLegend","onChange","filteredItems","placeholder","getLabels","domains","name","ParallelCoordinates","brushFilters","hideInnerMostValues","showMarks","axes","sortedDomain","t","getAxes","lines","rowIndex","withinFilteredRange","mappedData","getValue","selectedName","deselectedLineStyle","getLines","labelSeries","labels","xType","yDomain","trigger","colorType","fontSize","strokeOpacity","getCoordinate","axisEndPoint","startingAngle","RadarChart","renderAxesOverPolygons","_ref3","dataPoint","getPolygons","polygonPoints","_ref4","_ref5","dataName","getPolygonPoints","xDomain","fillOpacity","DEFAULT_RADIUS_MARGIN","RadialChart","getAngle","getSubLabel","hideRootNode","labelsAboveChildren","labelsRadiusMultiplier","labelsStyle","showLabels","sort","pie","reverse","getWedgesToRender","radialDomain","arcProps","radiusNoFallBack","radiusType","defaultMargin","getMaxRadius","accessors","updatedAngle","newLabels","generateLabels","getAngle0","getRadius","getRadius0","subLabel","DEFAULT_LINK_COLOR","DEFAULT_LINK_OPACITY","SankeyLink","node","onLinkClick","onLinkMouseOver","onLinkMouseOut","ALIGNMENTS","justify","Sankey","hasVoronoi","hideLabels","layout","links","linkOpacity","nodePadding","nodeWidth","nodesCopy","linksCopy","sankeyInstance","nodeAlign","iterations","nWidth","path","yType","link","x0","sourceLinks","targetLinks","rects","LISTENERS_TO_OVERWRITE","Sunburst","getSize","partitionFunction","partition","structuredInput","hierarchy","sum","descendants","cell","depth","getNodesToRender","labelData","rotateLabels","dontRotateLabel","rotAngle","labelStyle","buildLabels","propName","getColor","ANIMATED_PROPS","TreemapLeaf","mode","onLeafClick","onLeafMouseOver","onLeafMouseOut","useCirclePacking","leafStyle","TreemapDOM","nodeProps","TreemapSVG","_nodes$reduce","maxY","minY","maxX","minX","rows","updatedNodes","onSeriesMouseEnter","onSeriesMouseLeave","sizeType","nodeHeight","getCircularNodes","getNonCircularNodes","TREEMAP_TILE_MODES","squarify","resquarify","dice","slicedice","binary","_getScaleFns","compatibleProps","Treemap","sortFunction","mappedNodes","pack","packingFunction","tileFn","treemap","tile","treemapingFunction","renderMode","_getNodesToRender","TreemapElement","CONTAINER_REF","resizeSubscribers","DEBOUNCE_DURATION","timeoutId","debounceEmitResize","clearTimeout","setTimeout","emitResize","cb","subscribeToDebouncedResize","addEventListener","splice","removeSubscriber","removeEventListener","makeFlexible","isWidthFlexible","isHeightFlexible","ResultClass","_onResize","containerElement","offsetHeight","offsetWidth","newHeight","newWidth","_Component$propTypes","cancelSubscription","updatedDimensions","getDisplayName","makeWidthFlexible","makeVisFlexible"],"mappings":"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","file":"npm.react-vis.js","sourcesContent":["var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nvar _React$version$split = React.version.split('.'),\n    _React$version$split2 = _slicedToArray(_React$version$split, 2),\n    major = _React$version$split2[0],\n    minor = _React$version$split2[1];\n\nvar versionHigherThanThirteen = Number(minor) > 13 || Number(major) > 13;\n\nexport var isReactDOMSupported = function isReactDOMSupported() {\n  return versionHigherThanThirteen;\n};\n\n/**\n * Support React 0.13 and greater where refs are React components, not DOM\n * nodes.\n * @param {*} ref React's ref.\n * @returns {Element} DOM element.\n */\nexport var getDOMNode = function getDOMNode(ref) {\n  if (!isReactDOMSupported()) {\n    return ref && ref.getDOMNode();\n  }\n  return ref;\n};\n\nvar USED_MESSAGES = {};\nvar HIDDEN_PROCESSES = {\n  test: true,\n  production: true\n};\n\n/**\n * Warn the user about something\n * @param {String} message - the message to be shown\n * @param {Boolean} onlyShowMessageOnce - whether or not we allow the\n - message to be show multiple times\n */\nexport function warning(message) {\n  var onlyShowMessageOnce = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  /* eslint-disable no-undef, no-process-env */\n  if (global.process && HIDDEN_PROCESSES[process.env.NODE_ENV]) {\n    return;\n  }\n  /* eslint-enable no-undef, no-process-env */\n  if (!onlyShowMessageOnce || !USED_MESSAGES[message]) {\n    /* eslint-disable no-console */\n    console.warn(message);\n    /* eslint-enable no-console */\n    USED_MESSAGES[message] = true;\n  }\n}\n\n/**\n * Convience wrapper for warning\n * @param {String} message - the message to be shown\n */\nexport function warnOnce(message) {\n  warning(message, true);\n}","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { interpolate } from 'd3-interpolate';\nimport { spring, Motion, presets } from 'react-motion';\n\nvar ANIMATION_PROPTYPES = PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n  stiffness: PropTypes.number,\n  nonAnimatedProps: PropTypes.arrayOf(PropTypes.string),\n  damping: PropTypes.number\n}), PropTypes.bool]);\n\nvar propTypes = {\n  animatedProps: PropTypes.arrayOf(PropTypes.string).isRequired,\n  animation: ANIMATION_PROPTYPES,\n  onStart: PropTypes.func,\n  onEnd: PropTypes.func\n};\n\n/**\n * Format the animation style object\n * @param {Object|String} animationStyle - The animation style property, either the name of a\n * presets are one of noWobble, gentle, wobbly, stiff\n */\nfunction getAnimationStyle() {\n  var animationStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : presets.noWobble;\n\n  if (typeof animationStyle === 'string') {\n    return presets[animationStyle] || presets.noWobble;\n  }\n  var damping = animationStyle.damping,\n      stiffness = animationStyle.stiffness;\n\n  return _extends({\n    damping: damping || presets.noWobble.damping,\n    stiffness: stiffness || presets.noWobble.stiffness\n  }, animationStyle);\n}\n\n/**\n * Extract the animated props from the entire props object.\n * @param {Object} props Props.\n * @returns {Object} Object of animated props.\n */\nexport function extractAnimatedPropValues(props) {\n  var animatedProps = props.animatedProps,\n      otherProps = _objectWithoutProperties(props, ['animatedProps']);\n\n  return animatedProps.reduce(function (result, animatedPropName) {\n    if (otherProps.hasOwnProperty(animatedPropName)) {\n      result[animatedPropName] = otherProps[animatedPropName];\n    }\n    return result;\n  }, {});\n}\n\nvar Animation = function (_PureComponent) {\n  _inherits(Animation, _PureComponent);\n\n  function Animation(props) {\n    _classCallCheck(this, Animation);\n\n    var _this = _possibleConstructorReturn(this, (Animation.__proto__ || Object.getPrototypeOf(Animation)).call(this, props));\n\n    _this._motionEndHandler = function () {\n      if (_this.props.onEnd) {\n        _this.props.onEnd();\n      }\n    };\n\n    _this._renderChildren = function (_ref) {\n      var i = _ref.i;\n      var children = _this.props.children;\n\n      var interpolator = _this._interpolator;\n      var child = React.Children.only(children);\n      var interpolatedProps = interpolator ? interpolator(i) : interpolator;\n\n      // interpolator doesnt play nice with deeply nested objected\n      // so we expose an additional prop for situations like these, soit _data,\n      // which stores the full tree and can be recombined with the sanitized version\n      // after interpolation\n      var data = interpolatedProps && interpolatedProps.data || null;\n      if (data && child.props._data) {\n        data = data.map(function (row, index) {\n          var correspondingCell = child.props._data[index];\n          return _extends({}, row, {\n            parent: correspondingCell.parent,\n            children: correspondingCell.children\n          });\n        });\n      }\n\n      return React.cloneElement(child, _extends({}, child.props, interpolatedProps, {\n        data: data || child.props.data || null,\n        // enforce re-rendering\n        _animation: Math.random()\n      }));\n    };\n\n    _this._updateInterpolator(props);\n    return _this;\n  }\n\n  _createClass(Animation, [{\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(props) {\n      this._updateInterpolator(this.props, props);\n      if (props.onStart) {\n        props.onStart();\n      }\n    }\n\n    /**\n     * Render the child into the parent.\n     * @param {Number} i Number generated by the spring.\n     * @returns {React.Component} Rendered react element.\n     * @private\n     */\n\n  }, {\n    key: '_updateInterpolator',\n\n\n    /**\n     * Update the interpolator function and assign it to this._interpolator.\n     * @param {Object} oldProps Old props.\n     * @param {Object} newProps New props.\n     * @private\n     */\n    value: function _updateInterpolator(oldProps, newProps) {\n      this._interpolator = interpolate(extractAnimatedPropValues(oldProps), newProps ? extractAnimatedPropValues(newProps) : null);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var animationStyle = getAnimationStyle(this.props.animation);\n      var defaultStyle = { i: 0 };\n      var style = { i: spring(1, animationStyle) };\n      // In order to make Motion re-run animations each time, the random key is\n      // always passed.\n      // TODO: find a better solution for the spring.\n      var key = Math.random();\n      return React.createElement(\n        Motion,\n        _extends({ defaultStyle: defaultStyle, style: style, key: key }, { onRest: this._motionEndHandler }),\n        this._renderChildren\n      );\n    }\n  }]);\n\n  return Animation;\n}(PureComponent);\n\nAnimation.propTypes = propTypes;\nAnimation.displayName = 'Animation';\n\nexport default Animation;\n\nexport var AnimationPropType = ANIMATION_PROPTYPES;","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * Get unique property values from an array.\n * @param {Array} arr Array of data.\n * @param {string} propertyName Prop name.\n * @returns {Array} Array of unique values.\n */\nexport function getUniquePropertyValues(arr, accessor) {\n  var setOfValues = new Set(arr.map(accessor));\n  return Array.from(setOfValues);\n}\n\n/**\n * Add zero to the domain.\n * @param {Array} arr Add zero to the domain.\n * @param {Number} value Add zero to domain.\n * @returns {Array} Adjusted domain.\n */\nexport function addValueToArray(arr, value) {\n  var result = [].concat(arr);\n  if (result[0] > value) {\n    result[0] = value;\n  }\n  if (result[result.length - 1] < value) {\n    result[result.length - 1] = value;\n  }\n  return result;\n}\n\n/**\n * Transforms a value ( number or date ) to a string.\n * @param {Date | number} value The value as date or number.\n * @returns {string | number} The value as string.\n */\nexport function transformValueToString(value) {\n  return Object.prototype.toString.call(value) === '[object Date]' ? value.toDateString() : value;\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _SCALE_FUNCTIONS;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport { scaleLinear, scalePoint, scaleOrdinal, scaleLog, scaleTime, scaleUtc } from 'd3-scale';\nimport { extent } from 'd3-array';\nimport { set } from 'd3-collection';\nimport { hsl } from 'd3-color';\n\nimport PropTypes from 'prop-types';\n\nimport { warning } from './react-utils';\nimport { getUniquePropertyValues, addValueToArray } from './data-utils';\n\n/**\n * Linear scale name.\n * @type {string}\n * @const\n */\nvar LINEAR_SCALE_TYPE = 'linear';\n\n/**\n * Ordinal scale name.\n * @type {string}\n * @const\n */\nvar ORDINAL_SCALE_TYPE = 'ordinal';\n\n/**\n * Category scale.\n * @type {string}\n * @const\n */\nvar CATEGORY_SCALE_TYPE = 'category';\n\n/**\n * Literal scale.\n * Differs slightly from d3's identity scale in that it does not coerce value\n * into numbers, it simply returns exactly what you give it\n * @type {string}\n * @const\n */\nvar LITERAL_SCALE_TYPE = 'literal';\n\n/**\n * Log scale name.\n * @type {string}\n * @const\n */\nvar LOG_SCALE_TYPE = 'log';\n\n/**\n * Time scale name.\n * @type {string}\n * @const\n */\nvar TIME_SCALE_TYPE = 'time';\n\n/**\n * Time UTC scale name.\n * @type {string}\n * @const\n */\nvar TIME_UTC_SCALE_TYPE = 'time-utc';\n\n/**\n * Scale functions that are supported in the library.\n * @type {Object}\n * @const\n */\nvar SCALE_FUNCTIONS = (_SCALE_FUNCTIONS = {}, _defineProperty(_SCALE_FUNCTIONS, LINEAR_SCALE_TYPE, scaleLinear), _defineProperty(_SCALE_FUNCTIONS, ORDINAL_SCALE_TYPE, scalePoint), _defineProperty(_SCALE_FUNCTIONS, CATEGORY_SCALE_TYPE, scaleOrdinal), _defineProperty(_SCALE_FUNCTIONS, LITERAL_SCALE_TYPE, literalScale), _defineProperty(_SCALE_FUNCTIONS, LOG_SCALE_TYPE, scaleLog), _defineProperty(_SCALE_FUNCTIONS, TIME_SCALE_TYPE, scaleTime), _defineProperty(_SCALE_FUNCTIONS, TIME_UTC_SCALE_TYPE, scaleUtc), _SCALE_FUNCTIONS);\n\n/**\n * Attrs for which a scale can be set up at XYPlot level\n * @type {Array}\n * @const\n */\n\nvar XYPLOT_ATTR = ['color', 'fill', 'opacity', 'stroke'];\n\n/**\n * Title case a given string\n * @param {String} str Array of values.\n * @returns {String} titlecased string\n */\nfunction toTitleCase(str) {\n  return '' + str[0].toUpperCase() + str.slice(1);\n}\n\n/**\n * Find the smallest distance between the values on a given scale and return\n * the index of the element, where the smallest distance was found.\n * It returns the first occurrence of i where\n * `scale(value[i]) - scale(value[i - 1])` is minimal\n * @param {Array} values Array of values.\n * @param {Object} scaleObject Scale object.\n * @returns {number} Index of an element where the smallest distance was found.\n * @private\n */\nexport function _getSmallestDistanceIndex(values, scaleObject) {\n  var scaleFn = getScaleFnFromScaleObject(scaleObject);\n  var result = 0;\n  if (scaleFn) {\n    var nextValue = void 0;\n    var currentValue = scaleFn(values[0]);\n    var distance = Infinity;\n    var nextDistance = void 0;\n\n    for (var i = 1; i < values.length; i++) {\n      nextValue = scaleFn(values[i]);\n      nextDistance = Math.abs(nextValue - currentValue);\n      if (nextDistance < distance) {\n        distance = nextDistance;\n        result = i;\n      }\n      currentValue = nextValue;\n    }\n  }\n  return result;\n}\n\n/**\n * This is a workaround for issue that ordinal scale\n * does not have invert method implemented in d3-scale.\n * @param {Object} Ordinal d3-scale object.\n * @returns {void}\n * @private\n */\n\nfunction addInvertFunctionToOrdinalScaleObject(scale) {\n  if (scale.invert) {\n    return;\n  }\n\n  scale.invert = function invert(value) {\n    var _scale$range = scale.range(),\n        _scale$range2 = _slicedToArray(_scale$range, 2),\n        lower = _scale$range2[0],\n        upper = _scale$range2[1];\n\n    var start = Math.min(lower, upper);\n    var stop = Math.max(lower, upper);\n\n    if (value < start + scale.padding() * scale.step()) {\n      return scale.domain()[0];\n    }\n\n    if (value > stop - scale.padding() * scale.step()) {\n      return scale.domain()[scale.domain().length - 1];\n    }\n\n    var index = Math.floor((value - start - scale.padding() * scale.step()) / scale.step());\n    return scale.domain()[index];\n  };\n}\n\n/**\n * Crate a scale function from the scale object.\n * @param {Object} scaleObject Scale object.\n - scaleObject.domain {Array}\n - scaleObject.range {Array}\n - scaleObject.type {string}\n - scaleObject.attr {string}\n * @returns {*} Scale function.\n * @private\n */\nexport function getScaleFnFromScaleObject(scaleObject) {\n  if (!scaleObject) {\n    return null;\n  }\n  var type = scaleObject.type,\n      domain = scaleObject.domain,\n      range = scaleObject.range;\n\n  var modDomain = domain[0] === domain[1] ? domain[0] === 0 ? [-1, 0] : [-domain[0], domain[0]] : domain;\n  if (type === LITERAL_SCALE_TYPE) {\n    return literalScale(range[0]);\n  }\n  var scale = SCALE_FUNCTIONS[type]().domain(modDomain).range(range);\n  if (type === ORDINAL_SCALE_TYPE) {\n    scale.padding(0.5);\n    addInvertFunctionToOrdinalScaleObject(scale);\n  }\n  return scale;\n}\n\n/**\n * Get the domain from the array of data.\n * @param {Array} allData All data.\n * @param {function} accessor - accessor for main value.\n * @param {function} accessor0 - accessor for the naught value.\n * @param {string} type Scale type.\n * @returns {Array} Domain.\n * @private\n */\nexport function getDomainByAccessor(allData, accessor, accessor0, type) {\n  var domain = void 0;\n\n  // Collect both attr and available attr0 values from the array of data.\n  var values = allData.reduce(function (data, d) {\n    var value = accessor(d);\n    var value0 = accessor0(d);\n    if (_isDefined(value)) {\n      data.push(value);\n    }\n    if (_isDefined(value0)) {\n      data.push(value0);\n    }\n    return data;\n  }, []);\n\n  if (!values.length) {\n    return [];\n  }\n\n  // Create proper domain depending on the type of the scale.\n  if (type !== ORDINAL_SCALE_TYPE && type !== CATEGORY_SCALE_TYPE) {\n    domain = extent(values);\n  } else {\n    domain = set(values).values();\n  }\n  return domain;\n}\n\n/**\n * Create custom scale object from the value. When the scale is created from\n * this object, it should return the same value all time.\n * @param {string} attr Attribute.\n * @param {*} value Value.\n * @param {string} type - the type of scale being used\n * @param {function} accessor - the accessor function\n * @param {function} accessor0 - the accessor function for the potential naught value\n * @returns {Object} Custom scale object.\n * @private\n */\nfunction _createScaleObjectForValue(attr, value, type, accessor, accessor0) {\n  if (type === LITERAL_SCALE_TYPE) {\n    return {\n      type: LITERAL_SCALE_TYPE,\n      domain: [],\n      range: [value],\n      distance: 0,\n      attr: attr,\n      baseValue: undefined,\n      isValue: true,\n      accessor: accessor,\n      accessor0: accessor0\n    };\n  }\n  if (typeof value === 'undefined') {\n    return null;\n  }\n  return {\n    type: CATEGORY_SCALE_TYPE,\n    range: [value],\n    domain: [],\n    distance: 0,\n    attr: attr,\n    baseValue: undefined,\n    isValue: true,\n    accessor: accessor,\n    accessor0: accessor0\n  };\n}\n\n/**\n * Create a regular scale object for a further use from the existing parameters.\n * @param {Array} domain - Domain.\n * @param {Array} range - Range.\n * @param {string} type - Type.\n * @param {number} distance - Distance.\n * @param {string} attr - Attribute.\n * @param {number} baseValue - Base value.\n * @param {function} accessor - Attribute accesor\n * @param {function} accessor0 - Attribute accesor for potential naught value\n * @returns {Object} Scale object.\n * @private\n */\nfunction _createScaleObjectForFunction(_ref) {\n  var domain = _ref.domain,\n      range = _ref.range,\n      type = _ref.type,\n      distance = _ref.distance,\n      attr = _ref.attr,\n      baseValue = _ref.baseValue,\n      accessor = _ref.accessor,\n      accessor0 = _ref.accessor0;\n\n  return {\n    domain: domain,\n    range: range,\n    type: type,\n    distance: distance,\n    attr: attr,\n    baseValue: baseValue,\n    isValue: false,\n    accessor: accessor,\n    accessor0: accessor0\n  };\n}\n\n/**\n * Get scale object from props. E. g. object like {xRange, xDomain, xDistance,\n * xType} is transformed into {range, domain, distance, type}.\n * @param {Object} props Props.\n * @param {string} attr Attribute.\n * @returns {*} Null or an object with the scale.\n * @private\n */\nfunction _collectScaleObjectFromProps(props, attr) {\n  var value = props[attr],\n      fallbackValue = props['_' + attr + 'Value'],\n      range = props[attr + 'Range'],\n      _props$ = props[attr + 'Distance'],\n      distance = _props$ === undefined ? 0 : _props$,\n      baseValue = props[attr + 'BaseValue'],\n      _props$2 = props[attr + 'Type'],\n      type = _props$2 === undefined ? LINEAR_SCALE_TYPE : _props$2,\n      noFallBack = props[attr + 'NoFallBack'],\n      _props$3 = props['get' + toTitleCase(attr)],\n      accessor = _props$3 === undefined ? function (d) {\n    return d[attr];\n  } : _props$3,\n      _props$4 = props['get' + toTitleCase(attr) + '0'],\n      accessor0 = _props$4 === undefined ? function (d) {\n    return d[attr + '0'];\n  } : _props$4;\n  var domain = props[attr + 'Domain'];\n  // Return value-based scale if the value is assigned.\n\n  if (!noFallBack && typeof value !== 'undefined') {\n    return _createScaleObjectForValue(attr, value, props[attr + 'Type'], accessor, accessor0);\n  }\n  // Pick up the domain from the properties and create a new one if it's not\n  // available.\n  if (typeof baseValue !== 'undefined') {\n    domain = addValueToArray(domain, baseValue);\n  }\n\n  // Make sure that the minimum necessary properties exist.\n  if (!range || !domain || !domain.length) {\n    // Try to use the fallback value if it is available.\n    return _createScaleObjectForValue(attr, fallbackValue, props[attr + 'Type'], accessor, accessor0);\n  }\n\n  return _createScaleObjectForFunction({\n    domain: domain,\n    range: range,\n    type: type,\n    distance: distance,\n    attr: attr,\n    baseValue: baseValue,\n    accessor: accessor,\n    accessor0: accessor0\n  });\n}\n\n/**\n * Compute left domain adjustment for the given values.\n * @param {Array} values Array of values.\n * @returns {number} Domain adjustment.\n * @private\n */\nfunction _computeLeftDomainAdjustment(values) {\n  if (values.length > 1) {\n    return (values[1] - values[0]) / 2;\n  }\n  if (values.length === 1) {\n    return values[0] - 0.5;\n  }\n  return 0;\n}\n\n/**\n * Compute right domain adjustment for the given values.\n * @param {Array} values Array of values.\n * @returns {number} Domain adjustment.\n * @private\n */\nfunction _computeRightDomainAdjustment(values) {\n  if (values.length > 1) {\n    return (values[values.length - 1] - values[values.length - 2]) / 2;\n  }\n  if (values.length === 1) {\n    return values[0] - 0.5;\n  }\n  return 0;\n}\n\n/**\n * Compute distance for the given values.\n * @param {Array} values Array of values.\n * @param {Array} domain Domain.\n * @param {number} bestDistIndex Index of a best distance found.\n * @param {function} scaleFn Scale function.\n * @returns {number} Domain adjustment.\n * @private\n */\nfunction _computeScaleDistance(values, domain, bestDistIndex, scaleFn) {\n  if (values.length > 1) {\n    // Avoid zero indexes.\n    var i = Math.max(bestDistIndex, 1);\n    return Math.abs(scaleFn(values[i]) - scaleFn(values[i - 1]));\n  }\n  if (values.length === 1) {\n    return Math.abs(scaleFn(domain[1]) - scaleFn(domain[0]));\n  }\n  return 0;\n}\n\n/**\n * Normilize array of values with a single value.\n * @param {Array} arr Array of data.\n * @param {Array} values Array of values.\n * @param {string} attr Attribute.\n * @param {string} type Type.\n * @private\n */\nfunction _normalizeValues(data, values, accessor0, type) {\n  if (type === TIME_SCALE_TYPE && values.length === 1) {\n    var attr0 = accessor0(data[0]);\n\n    return [attr0].concat(_toConsumableArray(values));\n  }\n\n  return values;\n}\n\n/**\n * Get the distance, the smallest and the largest value of the domain.\n * @param {Array} data Array of data for the single series.\n * @param {Object} scaleObject Scale object.\n * @returns {{domain0: number, domainN: number, distance: number}} Result.\n * @private\n */\nexport function _getScaleDistanceAndAdjustedDomain(data, scaleObject) {\n  var domain = scaleObject.domain,\n      type = scaleObject.type,\n      accessor = scaleObject.accessor,\n      accessor0 = scaleObject.accessor0;\n\n\n  var uniqueValues = getUniquePropertyValues(data, accessor);\n\n  // Fix time scale if a data has only one value.\n  var values = _normalizeValues(data, uniqueValues, accessor0, type);\n  var index = _getSmallestDistanceIndex(values, scaleObject);\n\n  var adjustedDomain = [].concat(domain);\n\n  adjustedDomain[0] -= _computeLeftDomainAdjustment(values);\n  adjustedDomain[domain.length - 1] += _computeRightDomainAdjustment(values);\n  // Fix log scale if it's too small.\n  if (type === LOG_SCALE_TYPE && domain[0] <= 0) {\n    adjustedDomain[0] = Math.min(domain[1] / 10, 1);\n  }\n\n  var adjustedScaleFn = getScaleFnFromScaleObject(_extends({}, scaleObject, {\n    domain: adjustedDomain\n  }));\n\n  var distance = _computeScaleDistance(values, adjustedDomain, index, adjustedScaleFn);\n\n  return {\n    domain0: adjustedDomain[0],\n    domainN: adjustedDomain[adjustedDomain.length - 1],\n    distance: distance\n  };\n}\n\n/**\n * Returns true if scale adjustments are possible for a given scale.\n * @param {Object} props Props.\n * @param {Object} scaleObject Scale object.\n * @returns {boolean} True if scale adjustments possible.\n * @private\n */\nfunction _isScaleAdjustmentPossible(props, scaleObject) {\n  var attr = scaleObject.attr;\n  var _props$_adjustBy = props._adjustBy,\n      adjustBy = _props$_adjustBy === undefined ? [] : _props$_adjustBy,\n      _props$_adjustWhat = props._adjustWhat,\n      adjustWhat = _props$_adjustWhat === undefined ? [] : _props$_adjustWhat;\n\n  // The scale cannot be adjusted if there's no attributes to adjust, no\n  // suitable values\n\n  return adjustWhat.length && adjustBy.length && adjustBy.indexOf(attr) !== -1;\n}\n\n/**\n * Adjust continuous scales (e.g. 'linear', 'log' and 'time') by adding the\n * space from the left and right of them and by computing the best distance.\n * @param {Object} props Props.\n * @param {Object} scaleObject Scale object.\n * @returns {*} Scale object with adjustments.\n * @private\n */\nfunction _adjustContinuousScale(props, scaleObject) {\n  var allSeriesData = props._allData,\n      _props$_adjustWhat2 = props._adjustWhat,\n      adjustWhat = _props$_adjustWhat2 === undefined ? [] : _props$_adjustWhat2;\n\n  // Assign the initial values.\n\n  var domainLength = scaleObject.domain.length;\n  var domain = scaleObject.domain;\n\n  var scaleDomain0 = domain[0];\n  var scaleDomainN = domain[domainLength - 1];\n  var scaleDistance = scaleObject.distance;\n\n  // Find the smallest left position of the domain, the largest right position\n  // of the domain and the best distance for them.\n  allSeriesData.forEach(function (data, index) {\n    if (adjustWhat.indexOf(index) === -1) {\n      return;\n    }\n    if (data && data.length) {\n      var _getScaleDistanceAndA = _getScaleDistanceAndAdjustedDomain(data, scaleObject),\n          domain0 = _getScaleDistanceAndA.domain0,\n          domainN = _getScaleDistanceAndA.domainN,\n          distance = _getScaleDistanceAndA.distance;\n\n      scaleDomain0 = Math.min(scaleDomain0, domain0);\n      scaleDomainN = Math.max(scaleDomainN, domainN);\n      scaleDistance = Math.max(scaleDistance, distance);\n    }\n  });\n\n  scaleObject.domain = [scaleDomain0].concat(_toConsumableArray(domain.slice(1, -1)), [scaleDomainN]);\n\n  scaleObject.distance = scaleDistance;\n\n  return scaleObject;\n}\n\n/**\n * Get an adjusted scale. Suitable for 'category' and 'ordinal' scales.\n * @param {Object} scaleObject Scale object.\n * @returns {*} Scale object with adjustments.\n * @private\n */\nexport function _adjustCategoricalScale(scaleObject) {\n  var scaleFn = getScaleFnFromScaleObject(scaleObject);\n  var domain = scaleObject.domain,\n      range = scaleObject.range;\n\n  if (domain.length > 1) {\n    scaleObject.distance = Math.abs(scaleFn(domain[1]) - scaleFn(domain[0]));\n  } else {\n    scaleObject.distance = Math.abs(range[1] - range[0]);\n  }\n\n  return scaleObject;\n}\n\n/**\n * Retrieve a scale object or a value from the properties passed.\n * @param {Object} props Object of props.\n * @param {string} attr Attribute.\n * @returns {*} Scale object, value or null.\n */\nexport function getScaleObjectFromProps(props, attr) {\n  // Create the initial scale object.\n  var scaleObject = _collectScaleObjectFromProps(props, attr);\n  if (!scaleObject) {\n    return null;\n  }\n\n  // Make sure if it's possible to add space to the scale object. If not,\n  // return the object immediately.\n  if (!_isScaleAdjustmentPossible(props, scaleObject)) {\n    return scaleObject;\n  }\n\n  var type = scaleObject.type;\n  // Depending on what type the scale is, apply different adjustments. Distances\n  // for the ordinal and category scales are even, equal domains cannot be\n  // adjusted.\n\n  if (type === ORDINAL_SCALE_TYPE || type === CATEGORY_SCALE_TYPE) {\n    return _adjustCategoricalScale(scaleObject);\n  }\n  return _adjustContinuousScale(props, scaleObject);\n}\n\n/**\n * Get d3 scale for a given prop.\n * @param {Object} props Props.\n * @param {string} attr Attribute.\n * @returns {function} d3 scale function.\n */\nexport function getAttributeScale(props, attr) {\n  var scaleObject = getScaleObjectFromProps(props, attr);\n  return getScaleFnFromScaleObject(scaleObject);\n}\n\n/**\n * Get the value of `attr` from the object.\n * @param {Object} d - data Object.\n * @param {Function} accessor - accessor function.\n * @returns {*} Value of the point.\n * @private\n */\nfunction _getAttrValue(d, accessor) {\n  return accessor(d.data ? d.data : d);\n}\n\nfunction _isDefined(value) {\n  return typeof value !== 'undefined';\n}\n\n/*\n * Adds a percentage of padding to a given domain\n * @param {Array} domain X or Y domain to pad.\n * @param {Number} padding Percentage of padding to add to domain\n * @returns {Array} Padded Domain\n */\nfunction _padDomain(domain, padding) {\n  if (!domain) {\n    return domain;\n  }\n  if (isNaN(parseFloat(domain[0])) || isNaN(parseFloat(domain[1]))) {\n    return domain;\n  }\n\n  var _domain = _slicedToArray(domain, 2),\n      min = _domain[0],\n      max = _domain[1];\n\n  var domainPadding = (max - min) * (padding * 0.01);\n  return [min - domainPadding, max + domainPadding];\n}\n\n/**\n * Get prop functor (either a value or a function) for a given attribute.\n * @param {Object} props Series props.\n * @param {Function} accessor - Property accessor.\n * @returns {*} Function or value.\n */\nexport function getAttributeFunctor(props, attr) {\n  var scaleObject = getScaleObjectFromProps(props, attr);\n  if (scaleObject) {\n    var scaleFn = getScaleFnFromScaleObject(scaleObject);\n    return function (d) {\n      return scaleFn(_getAttrValue(d, scaleObject.accessor));\n    };\n  }\n  return null;\n}\n\n/**\n * Get the functor which extracts value form [attr]0 property. Use baseValue if\n * no attr0 property for a given object is defined. Fall back to domain[0] if no\n * base value is available.\n * @param {Object} props Object of props.\n * @param {string} attr Attribute name.\n * @returns {*} Function which returns value or null if no values available.\n */\nexport function getAttr0Functor(props, attr) {\n  var scaleObject = getScaleObjectFromProps(props, attr);\n  if (scaleObject) {\n    var domain = scaleObject.domain;\n    var _scaleObject$baseValu = scaleObject.baseValue,\n        baseValue = _scaleObject$baseValu === undefined ? domain[0] : _scaleObject$baseValu;\n\n    var scaleFn = getScaleFnFromScaleObject(scaleObject);\n    return function (d) {\n      var value = _getAttrValue(d, scaleObject.accessor0);\n      return scaleFn(_isDefined(value) ? value : baseValue);\n    };\n  }\n  return null;\n}\n\n/**\n * Tries to get the string|number value of the attr and falls back to\n * a fallback property in case if the value is a scale.\n * @param {Object} props Series props.\n * @param {string} attr Property name.\n * @returns {*} Function or value.\n */\nexport function getAttributeValue(props, attr) {\n  var scaleObject = getScaleObjectFromProps(props, attr);\n  if (scaleObject) {\n    if (!scaleObject.isValue && props['_' + attr + 'Value'] === undefined) {\n      warning('[React-vis] Cannot use data defined ' + attr + ' for this ' + 'series type. Using fallback value instead.');\n    }\n    return props['_' + attr + 'Value'] || scaleObject.range[0];\n  }\n  return null;\n}\n\n/**\n * Get prop types by the attribute.\n * @param {string} attr Attribute.\n * @returns {Object} Object of xDomain, xRange, xType, xDistance and _xValue,\n * where x is an attribute passed to the function.\n */\nexport function getScalePropTypesByAttribute(attr) {\n  var _ref2;\n\n  return _ref2 = {}, _defineProperty(_ref2, '_' + attr + 'Value', PropTypes.any), _defineProperty(_ref2, attr + 'Domain', PropTypes.array), _defineProperty(_ref2, 'get' + toTitleCase(attr), PropTypes.func), _defineProperty(_ref2, 'get' + toTitleCase(attr) + '0', PropTypes.func), _defineProperty(_ref2, attr + 'Range', PropTypes.array), _defineProperty(_ref2, attr + 'Type', PropTypes.oneOf(Object.keys(SCALE_FUNCTIONS))), _defineProperty(_ref2, attr + 'Distance', PropTypes.number), _defineProperty(_ref2, attr + 'BaseValue', PropTypes.any), _ref2;\n}\n\n/**\n * Extract the list of scale properties from the entire props object.\n * @param {Object} props Props.\n * @param {Array<String>} attributes Array of attributes for the given\n * components (for instance, `['x', 'y', 'color']`).\n * @returns {Object} Collected props.\n */\nexport function extractScalePropsFromProps(props, attributes) {\n  var result = {};\n  Object.keys(props).forEach(function (key) {\n    // this filtering is critical for extracting the correct accessors!\n    var attr = attributes.find(function (a) {\n      // width\n      var isPlainSet = key.indexOf(a) === 0;\n      // Ex: _data\n      var isUnderscoreSet = key.indexOf('_' + a) === 0;\n      // EX: getX\n      var usesGet = key.indexOf('get' + toTitleCase(a)) === 0;\n      return isPlainSet || isUnderscoreSet || usesGet;\n    });\n    if (!attr) {\n      return;\n    }\n    result[key] = props[key];\n  });\n  return result;\n}\n\n/**\n * Extract the missing scale props from the given data and return them as\n * an object.\n * @param {Object} props Props.\n * @param {Array} data Array of all data.\n * @param {Array<String>} attributes Array of attributes for the given\n * components (for instance, `['x', 'y', 'color']`).\n * @returns {Object} Collected props.\n */\nexport function getMissingScaleProps(props, data, attributes) {\n  var result = {};\n  // Make sure that the domain is set pad it if specified\n  attributes.forEach(function (attr) {\n    if (!props['get' + toTitleCase(attr)]) {\n      result['get' + toTitleCase(attr)] = function (d) {\n        return d[attr];\n      };\n    }\n    if (!props['get' + toTitleCase(attr) + '0']) {\n      result['get' + toTitleCase(attr) + '0'] = function (d) {\n        return d[attr + '0'];\n      };\n    }\n    if (!props[attr + 'Domain']) {\n      result[attr + 'Domain'] = getDomainByAccessor(data, props['get' + toTitleCase(attr)] || result['get' + toTitleCase(attr)], props['get' + toTitleCase(attr) + '0'] || result['get' + toTitleCase(attr) + '0'], props[attr + 'Type']);\n      if (props[attr + 'Padding']) {\n        result[attr + 'Domain'] = _padDomain(result[attr + 'Domain'], props[attr + 'Padding']);\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return a d3 scale that returns the literal value that was given to it\n * @returns {function} literal scale.\n */\nexport function literalScale(defaultValue) {\n  function scale(d) {\n    if (d === undefined) {\n      return defaultValue;\n    }\n    return d;\n  }\n\n  function response() {\n    return scale;\n  }\n\n  scale.domain = response;\n  scale.range = response;\n  scale.unknown = response;\n  scale.copy = response;\n\n  return scale;\n}\n\nexport function getFontColorFromBackground(background) {\n  if (background) {\n    return hsl(background).l > 0.57 ? '#222' : '#fff';\n  }\n  return null;\n}\n\n/**\n * Creates fallback values for series from scales defined at XYPlot level.\n * @param {Object} props Props of the XYPlot object.\n * @param {Array<Object>} children Array of components, children of XYPlot\n * @returns {Array<Object>} Collected props.\n */\n\nexport function getXYPlotValues(props, children) {\n  var XYPlotScales = XYPLOT_ATTR.reduce(function (prev, attr) {\n    var domain = props[attr + 'Domain'],\n        range = props[attr + 'Range'],\n        type = props[attr + 'Type'];\n\n\n    if (domain && range && type) {\n      return _extends({}, prev, _defineProperty({}, attr, SCALE_FUNCTIONS[type]().domain(domain).range(range)));\n    }\n    return prev;\n  }, {});\n\n  return children.map(function (child) {\n    return XYPLOT_ATTR.reduce(function (prev, attr) {\n      if (child.props && child.props[attr] !== undefined) {\n        var scaleInput = child.props[attr];\n        var scale = XYPlotScales[attr];\n        var fallbackValue = scale ? scale(scaleInput) : scaleInput;\n        return _extends({}, prev, _defineProperty({}, '_' + attr + 'Value', fallbackValue));\n      }\n      return prev;\n    }, {});\n  });\n}\n\nvar OPTIONAL_SCALE_PROPS = ['Padding'];\nvar OPTIONAL_SCALE_PROPS_REGS = OPTIONAL_SCALE_PROPS.map(function (str) {\n  return new RegExp(str + '$', 'i');\n});\n/**\n * Get the list of optional scale-related settings for XYPlot\n * mostly just used to find padding properties\n * @param {Object} props Object of props.\n * @returns {Object} Optional Props.\n * @private\n */\nexport function getOptionalScaleProps(props) {\n  return Object.keys(props).reduce(function (acc, prop) {\n    var propIsNotOptional = OPTIONAL_SCALE_PROPS_REGS.every(function (reg) {\n      return !prop.match(reg);\n    });\n    if (propIsNotOptional) {\n      return acc;\n    }\n    acc[prop] = props[prop];\n    return acc;\n  }, {});\n}\n\nexport default {\n  extractScalePropsFromProps: extractScalePropsFromProps,\n  getAttributeScale: getAttributeScale,\n  getAttributeFunctor: getAttributeFunctor,\n  getAttr0Functor: getAttr0Functor,\n  getAttributeValue: getAttributeValue,\n  getDomainByAccessor: getDomainByAccessor,\n  getFontColorFromBackground: getFontColorFromBackground,\n  getMissingScaleProps: getMissingScaleProps,\n  getOptionalScaleProps: getOptionalScaleProps,\n  getScaleObjectFromProps: getScaleObjectFromProps,\n  getScalePropTypesByAttribute: getScalePropTypesByAttribute,\n  getXYPlotValues: getXYPlotValues,\n  literalScale: literalScale\n};","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport PropTypes from 'prop-types';\nimport { voronoi } from 'd3-voronoi';\nimport { PureComponent } from 'react';\n\nimport { AnimationPropType } from '../../animation';\nimport { getAttributeFunctor, getAttr0Functor, getAttributeValue, getScaleObjectFromProps, getScalePropTypesByAttribute } from '../../utils/scales-utils';\n\nvar propTypes = _extends({}, getScalePropTypesByAttribute('x'), getScalePropTypesByAttribute('y'), getScalePropTypesByAttribute('size'), getScalePropTypesByAttribute('opacity'), getScalePropTypesByAttribute('color'), {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  data: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.array])),\n  onValueMouseOver: PropTypes.func,\n  onValueMouseOut: PropTypes.func,\n  onValueClick: PropTypes.func,\n  onValueRightClick: PropTypes.func,\n  onSeriesMouseOver: PropTypes.func,\n  onSeriesMouseOut: PropTypes.func,\n  onSeriesClick: PropTypes.func,\n  onSeriesRightClick: PropTypes.func,\n  onNearestX: PropTypes.func,\n  onNearestXY: PropTypes.func,\n  style: PropTypes.object,\n  animation: AnimationPropType,\n  stack: PropTypes.bool\n});\n\nvar defaultProps = {\n  className: '',\n  stack: false,\n  style: {}\n};\n\nvar AbstractSeries = function (_PureComponent) {\n  _inherits(AbstractSeries, _PureComponent);\n\n  function AbstractSeries() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AbstractSeries);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AbstractSeries.__proto__ || Object.getPrototypeOf(AbstractSeries)).call.apply(_ref, [this].concat(args))), _this), _this._seriesClickHandler = function (event) {\n      var onSeriesClick = _this.props.onSeriesClick;\n\n      if (onSeriesClick) {\n        onSeriesClick({ event: event });\n      }\n    }, _this._seriesMouseOutHandler = function (event) {\n      var onSeriesMouseOut = _this.props.onSeriesMouseOut;\n\n      if (onSeriesMouseOut) {\n        onSeriesMouseOut({ event: event });\n      }\n    }, _this._seriesMouseOverHandler = function (event) {\n      var onSeriesMouseOver = _this.props.onSeriesMouseOver;\n\n      if (onSeriesMouseOver) {\n        onSeriesMouseOver({ event: event });\n      }\n    }, _this._seriesRightClickHandler = function (event) {\n      var onSeriesRightClick = _this.props.onSeriesRightClick;\n\n      if (onSeriesRightClick) {\n        onSeriesRightClick({ event: event });\n      }\n    }, _this._valueClickHandler = function (d, event) {\n      var _this$props = _this.props,\n          onValueClick = _this$props.onValueClick,\n          onSeriesClick = _this$props.onSeriesClick;\n\n      if (onValueClick) {\n        onValueClick(d, { event: event });\n      }\n      if (onSeriesClick) {\n        onSeriesClick({ event: event });\n      }\n    }, _this._valueMouseOutHandler = function (d, event) {\n      var _this$props2 = _this.props,\n          onValueMouseOut = _this$props2.onValueMouseOut,\n          onSeriesMouseOut = _this$props2.onSeriesMouseOut;\n\n      if (onValueMouseOut) {\n        onValueMouseOut(d, { event: event });\n      }\n      if (onSeriesMouseOut) {\n        onSeriesMouseOut({ event: event });\n      }\n    }, _this._valueMouseOverHandler = function (d, event) {\n      var _this$props3 = _this.props,\n          onValueMouseOver = _this$props3.onValueMouseOver,\n          onSeriesMouseOver = _this$props3.onSeriesMouseOver;\n\n      if (onValueMouseOver) {\n        onValueMouseOver(d, { event: event });\n      }\n      if (onSeriesMouseOver) {\n        onSeriesMouseOver({ event: event });\n      }\n    }, _this._valueRightClickHandler = function (d, event) {\n      var _this$props4 = _this.props,\n          onValueRightClick = _this$props4.onValueRightClick,\n          onSeriesRightClick = _this$props4.onSeriesRightClick;\n\n      if (onValueRightClick) {\n        onValueRightClick(d, { event: event });\n      }\n      if (onSeriesRightClick) {\n        onSeriesRightClick({ event: event });\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(AbstractSeries, [{\n    key: 'onParentMouseMove',\n    value: function onParentMouseMove(event) {\n      var _props = this.props,\n          onNearestX = _props.onNearestX,\n          onNearestXY = _props.onNearestXY,\n          data = _props.data;\n\n      if (!onNearestX && !onNearestXY || !data) {\n        return;\n      }\n      if (onNearestXY) {\n        this._handleNearestXY(event);\n      } else {\n        this._handleNearestX(event);\n      }\n    }\n  }, {\n    key: 'onParentTouchMove',\n    value: function onParentTouchMove(e) {\n      e.preventDefault();\n      this.onParentMouseMove(e);\n    }\n  }, {\n    key: 'onParentTouchStart',\n    value: function onParentTouchStart(e) {\n      // prevent mouse event emulation\n      e.preventDefault();\n    }\n\n    /**\n     * Get the attr0 functor.\n     * @param {string} attr Attribute name.\n     * @returns {*} Functor.\n     * @private\n     */\n\n  }, {\n    key: '_getAttr0Functor',\n    value: function _getAttr0Functor(attr) {\n      return getAttr0Functor(this.props, attr);\n    }\n\n    /**\n     * Get attribute functor.\n     * @param {string} attr Attribute name\n     * @returns {*} Functor.\n     * @protected\n     */\n\n  }, {\n    key: '_getAttributeFunctor',\n    value: function _getAttributeFunctor(attr) {\n      return getAttributeFunctor(this.props, attr);\n    }\n\n    /**\n     * Get the attribute value if it is available.\n     * @param {string} attr Attribute name.\n     * @returns {*} Attribute value if available, fallback value or undefined\n     * otherwise.\n     * @protected\n     */\n\n  }, {\n    key: '_getAttributeValue',\n    value: function _getAttributeValue(attr) {\n      return getAttributeValue(this.props, attr);\n    }\n\n    /**\n     * Get the scale object distance by the attribute from the list of properties.\n     * @param {string} attr Attribute name.\n     * @returns {number} Scale distance.\n     * @protected\n     */\n\n  }, {\n    key: '_getScaleDistance',\n    value: function _getScaleDistance(attr) {\n      var scaleObject = getScaleObjectFromProps(this.props, attr);\n      return scaleObject ? scaleObject.distance : 0;\n    }\n  }, {\n    key: '_getXYCoordinateInContainer',\n    value: function _getXYCoordinateInContainer(event) {\n      var _props2 = this.props,\n          _props2$marginTop = _props2.marginTop,\n          marginTop = _props2$marginTop === undefined ? 0 : _props2$marginTop,\n          _props2$marginLeft = _props2.marginLeft,\n          marginLeft = _props2$marginLeft === undefined ? 0 : _props2$marginLeft;\n      var evt = event.nativeEvent,\n          currentTarget = event.currentTarget;\n\n      var rect = currentTarget.getBoundingClientRect();\n      var x = evt.clientX;\n      var y = evt.clientY;\n      if (evt.type === 'touchmove') {\n        x = evt.touches[0].pageX;\n        y = evt.touches[0].pageY;\n      }\n      return {\n        x: x - rect.left - currentTarget.clientLeft - marginLeft,\n        y: y - rect.top - currentTarget.clientTop - marginTop\n      };\n    }\n  }, {\n    key: '_handleNearestX',\n    value: function _handleNearestX(event) {\n      var _props3 = this.props,\n          onNearestX = _props3.onNearestX,\n          data = _props3.data;\n\n      var minDistance = Number.POSITIVE_INFINITY;\n      var value = null;\n      var valueIndex = null;\n\n      var coordinate = this._getXYCoordinateInContainer(event);\n      var xScaleFn = this._getAttributeFunctor('x');\n\n      data.forEach(function (item, i) {\n        var currentCoordinate = xScaleFn(item);\n        var newDistance = Math.abs(coordinate.x - currentCoordinate);\n        if (newDistance < minDistance) {\n          minDistance = newDistance;\n          value = item;\n          valueIndex = i;\n        }\n      });\n      if (!value) {\n        return;\n      }\n      onNearestX(value, {\n        innerX: xScaleFn(value),\n        index: valueIndex,\n        event: event.nativeEvent\n      });\n    }\n  }, {\n    key: '_handleNearestXY',\n    value: function _handleNearestXY(event) {\n      var _props4 = this.props,\n          onNearestXY = _props4.onNearestXY,\n          data = _props4.data;\n\n\n      var coordinate = this._getXYCoordinateInContainer(event);\n      var xScaleFn = this._getAttributeFunctor('x');\n      var yScaleFn = this._getAttributeFunctor('y');\n\n      // Create a voronoi with each node center points\n      var voronoiInstance = voronoi().x(xScaleFn).y(yScaleFn);\n\n      var foundPoint = voronoiInstance(data).find(coordinate.x, coordinate.y);\n      var value = foundPoint.data;\n\n      if (!value) {\n        return;\n      }\n      onNearestXY(value, {\n        innerX: foundPoint[0],\n        innerY: foundPoint[1],\n        index: foundPoint.index,\n        event: event.nativeEvent\n      });\n    }\n\n    /**\n     * Click handler for the entire series.\n     * @param {Object} event Event.\n     * @protected\n     */\n\n\n    /**\n     * Mouse out handler for the entire series.\n     * @param {Object} event Event.\n     * @protected\n     */\n\n\n    /**\n     * Mouse over handler for the entire series.\n     * @param {Object} event Event.\n     * @protected\n     */\n\n\n    /**\n     * Right Click handler for the entire series.\n     * @param {Object} event Event.\n     * @protected\n     */\n\n\n    /**\n     * Click handler for the specific series' value.\n     * @param {Object} d Value object\n     * @param {Object} event Event.\n     * @protected\n     */\n\n\n    /**\n     * Mouse out handler for the specific series' value.\n     * @param {Object} d Value object\n     * @param {Object} event Event.\n     * @protected\n     */\n\n\n    /**\n     * Mouse over handler for the specific series' value.\n     * @param {Object} d Value object\n     * @param {Object} event Event.\n     * @protected\n     */\n\n\n    /**\n     * Right Click handler for the specific series' value.\n     * @param {Object} d Value object\n     * @param {Object} event Event.\n     * @protected\n     */\n\n  }], [{\n    key: 'getParentConfig',\n\n    /**\n     * Get a default config for the parent.\n     * @returns {Object} Empty config.\n     */\n    value: function getParentConfig() {\n      return {};\n    }\n\n    /**\n     * Tells the rest of the world that it requires SVG to work.\n     * @returns {boolean} Result.\n     */\n\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return AbstractSeries;\n}(PureComponent);\n\nAbstractSeries.displayName = 'AbstractSeries';\nAbstractSeries.propTypes = propTypes;\nAbstractSeries.defaultProps = defaultProps;\n\nexport default AbstractSeries;","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport var DISCRETE_COLOR_RANGE = ['#12939A', '#79C7E3', '#1A3177', '#FF9833', '#EF5D28'];\n\nexport var EXTENDED_DISCRETE_COLOR_RANGE = ['#19CDD7', '#DDB27C', '#88572C', '#FF991F', '#F15C17', '#223F9A', '#DA70BF', '#125C77', '#4DC19C', '#776E57', '#12939A', '#17B8BE', '#F6D18A', '#B7885E', '#FFCB99', '#F89570', '#829AE3', '#E79FD5', '#1E96BE', '#89DAC1', '#B3AD9E'];\n\nexport var CONTINUOUS_COLOR_RANGE = ['#EF5D28', '#FF9833'];\n\nexport var SIZE_RANGE = [1, 10];\n\nexport var OPACITY_RANGE = [0.1, 1];\nexport var OPACITY_TYPE = 'literal';\nexport var DEFAULT_OPACITY = 1;\n\nexport var DEFAULT_SIZE = 5;\n\nexport var DEFAULT_COLOR = DISCRETE_COLOR_RANGE[0];\n\nexport var DEFAULT_TICK_SIZE = 7;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport AbstractSeries from '../plot/series/abstract-series';\nimport { DISCRETE_COLOR_RANGE, DEFAULT_OPACITY } from '../theme';\n\n/**\n * Check if the component is series or not.\n * @param {React.Component} child Component.\n * @returns {boolean} True if the child is series, false otherwise.\n */\nexport function isSeriesChild(child) {\n  var prototype = child.type.prototype;\n\n  return prototype instanceof AbstractSeries;\n}\n\n/**\n * Get all series from the 'children' object of the component.\n * @param {Object} children Children.\n * @returns {Array} Array of children.\n */\nexport function getSeriesChildren(children) {\n  return React.Children.toArray(children).filter(function (child) {\n    return child && isSeriesChild(child);\n  });\n}\n\n/**\n * Collect the map of repetitions of the series type for all children.\n * @param {Array} children Array of children.\n * @returns {{}} Map of repetitions where sameTypeTotal is the total amount and\n * sameTypeIndex is always 0.\n */\nfunction collectSeriesTypesInfo(children) {\n  var result = {};\n  children.filter(isSeriesChild).forEach(function (child) {\n    var displayName = child.type.displayName;\n    var cluster = child.props.cluster;\n\n    if (!result[displayName]) {\n      result[displayName] = {\n        sameTypeTotal: 0,\n        sameTypeIndex: 0,\n        clusters: new Set()\n      };\n    }\n    result[displayName].clusters.add(cluster);\n    result[displayName].sameTypeTotal++;\n  });\n  return result;\n}\n\n/**\n * Check series to see if it has angular data that needs to be converted\n * @param {Array} data - an array of objects to check\n * @returns {Boolean} whether or not this series contains polar configuration\n */\nfunction seriesHasAngleRadius() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  if (!data) {\n    return false;\n  }\n  return data.some(function (row) {\n    return row.radius && row.angle;\n  });\n}\n\n/**\n * Possibly convert polar coordinates to x/y for computing domain\n * @param {Array} data - an array of objects to check\n * @param {String} attr - the property being checked\n * @returns {Boolean} whether or not this series contains polar configuration\n */\nfunction prepareData(data) {\n  if (!seriesHasAngleRadius(data)) {\n    return data;\n  }\n\n  return data.map(function (row) {\n    return _extends({}, row, {\n      x: row.radius * Math.cos(row.angle),\n      y: row.radius * Math.sin(row.angle)\n    });\n  });\n}\n\n/**\n * Collect the stacked data for all children in use. If the children don't have\n * the data (e.g. the child is invalid series or something else), then the child\n * is skipped.\n * Each next value of attr is equal to the previous value plus the difference\n * between attr0 and attr.\n * @param {Array} children Array of children.\n * @param {string} attr Attribute to stack by.\n * @returns {Array} New array of children for the series.\n */\nexport function getStackedData(children, attr) {\n  var areSomeSeriesStacked = children.some(function (series) {\n    return series && series.props.stack;\n  });\n  // It stores the last segment position added to each bar, separated by cluster.\n  var latestAttrPositions = {};\n\n  return children.reduce(function (accumulator, series, seriesIndex) {\n    // Skip the children that are not series (e.g. don't have any data).\n    if (!series) {\n      accumulator.push(null);\n      return accumulator;\n    }\n    var seriesType = series.type.displayName;\n\n    var _series$props = series.props,\n        data = _series$props.data,\n        _series$props$cluster = _series$props.cluster,\n        cluster = _series$props$cluster === undefined ? 'default' : _series$props$cluster,\n        stack = _series$props.stack;\n\n    var preppedData = prepareData(data, attr);\n\n    if (!attr || !preppedData || !preppedData.length || areSomeSeriesStacked && !stack) {\n      accumulator.push(preppedData);\n      return accumulator;\n    }\n\n    var attr0 = attr + '0';\n    var baseAttr = attr === 'y' ? 'x' : 'y';\n\n    accumulator.push(preppedData.map(function (d, dIndex) {\n      var _extends2, _latestAttrPositions$2;\n\n      if (!latestAttrPositions[cluster]) {\n        latestAttrPositions[cluster] = {};\n      }\n      if (!latestAttrPositions[cluster][seriesType]) {\n        latestAttrPositions[cluster][seriesType] = {};\n      }\n\n      var prevD = latestAttrPositions[cluster][seriesType][d[baseAttr]];\n      // It is the first segment of a bar.\n      if (!prevD) {\n        var _latestAttrPositions$;\n\n        latestAttrPositions[cluster][seriesType][d[baseAttr]] = (_latestAttrPositions$ = {}, _defineProperty(_latestAttrPositions$, attr0, d[attr0]), _defineProperty(_latestAttrPositions$, attr, d[attr]), _latestAttrPositions$);\n\n        return _extends({}, d);\n      }\n\n      // Calculate the position of the next segment in a bar.\n      var nextD = _extends({}, d, (_extends2 = {}, _defineProperty(_extends2, attr0, prevD[attr]), _defineProperty(_extends2, attr, prevD[attr] + d[attr] - (d[attr0] || 0)), _extends2));\n\n      latestAttrPositions[cluster][seriesType][d[baseAttr]] = (_latestAttrPositions$2 = {}, _defineProperty(_latestAttrPositions$2, attr0, nextD[attr0]), _defineProperty(_latestAttrPositions$2, attr, nextD[attr]), _latestAttrPositions$2);\n\n      return nextD;\n    }));\n\n    return accumulator;\n  }, []);\n}\n\n/**\n * Get the list of series props for a child.\n * @param {Array} children Array of all children.\n * @returns {Array} Array of series props for each child. If a child is not a\n * series, than it's undefined.\n */\nexport function getSeriesPropsFromChildren(children) {\n  var result = [];\n  var seriesTypesInfo = collectSeriesTypesInfo(children);\n  var seriesIndex = 0;\n  var _opacityValue = DEFAULT_OPACITY;\n  children.forEach(function (child) {\n    var props = void 0;\n    if (isSeriesChild(child)) {\n      var seriesTypeInfo = seriesTypesInfo[child.type.displayName];\n      var _colorValue = DISCRETE_COLOR_RANGE[seriesIndex % DISCRETE_COLOR_RANGE.length];\n      props = _extends({}, seriesTypeInfo, {\n        seriesIndex: seriesIndex,\n        _colorValue: _colorValue,\n        _opacityValue: _opacityValue\n      });\n      seriesTypeInfo.sameTypeIndex++;\n      seriesIndex++;\n      if (child.props.cluster) {\n        props.cluster = child.props.cluster;\n        // Using Array.from() so we can use .indexOf\n        props.clusters = Array.from(seriesTypeInfo.clusters);\n        props.sameTypeTotal = props.clusters.length;\n        props.sameTypeIndex = props.clusters.indexOf(child.props.cluster);\n      }\n    }\n    result.push(props);\n  });\n  return result;\n}\n\n/**\n * Find the max radius value from the nodes to be rendered after they have been\n * transformed into an array\n * @param {Array} data - the tree data after it has been broken into a iterable\n * it is an array of objects!\n * @returns {number} the maximum value in coordinates for the radial variable\n */\nexport function getRadialDomain(data) {\n  return data.reduce(function (res, row) {\n    return Math.max(row.radius, res);\n  }, 0);\n}\n\nexport var ANIMATED_SERIES_PROPS = ['xRange', 'xDomain', 'x', 'yRange', 'yDomain', 'y', 'colorRange', 'colorDomain', 'color', 'opacityRange', 'opacityDomain', 'opacity', 'strokeRange', 'strokeDomain', 'stroke', 'fillRange', 'fillDomain', 'fill', 'width', 'height', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom', 'data', 'angleDomain', 'angleRange', 'angle', 'radiusDomain', 'radiusRange', 'radius', 'innerRadiusDomain', 'innerRadiusRange', 'innerRadius'];\n\nexport function getStackParams(props) {\n  var _stackBy = props._stackBy,\n      valuePosAttr = props.valuePosAttr,\n      cluster = props.cluster;\n  var _props$sameTypeTotal = props.sameTypeTotal,\n      sameTypeTotal = _props$sameTypeTotal === undefined ? 1 : _props$sameTypeTotal,\n      _props$sameTypeIndex = props.sameTypeIndex,\n      sameTypeIndex = _props$sameTypeIndex === undefined ? 0 : _props$sameTypeIndex;\n\n  // If bars are stacked, but not clustering, override `sameTypeTotal` and\n  // `sameTypeIndex` such that bars are stacked and not staggered.\n\n  if (_stackBy === valuePosAttr && !cluster) {\n    sameTypeTotal = 1;\n    sameTypeIndex = 0;\n  }\n  return { sameTypeTotal: sameTypeTotal, sameTypeIndex: sameTypeIndex };\n}","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nimport { arc as arcBuilder } from 'd3-shape';\n\nimport AbstractSeries from './abstract-series';\nimport { getAttributeFunctor, getAttr0Functor, extractScalePropsFromProps, getMissingScaleProps, getScalePropTypesByAttribute } from '../../utils/scales-utils';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--arc';\nvar ATTRIBUTES = ['radius', 'angle'];\n\nvar defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  center: { x: 0, y: 0 },\n  arcClassName: '',\n  className: '',\n  style: {},\n  padAngle: 0\n});\n\n/**\n * Prepare the internal representation of row for real use.\n * This is necessary because d3 insists on starting at 12 oclock and moving\n * clockwise, rather than starting at 3 oclock and moving counter clockwise\n * as one might expect from polar\n * @param {Object} row - coordinate object to be modifed\n * @return {Object} angle corrected object\n */\nfunction modifyRow(row) {\n  var radius = row.radius,\n      angle = row.angle,\n      angle0 = row.angle0;\n\n  var truedAngle = -1 * angle + Math.PI / 2;\n  var truedAngle0 = -1 * angle0 + Math.PI / 2;\n  return _extends({}, row, {\n    x: radius * Math.cos(truedAngle),\n    y: radius * Math.sin(truedAngle),\n    angle: truedAngle,\n    angle0: truedAngle0\n  });\n}\n\nvar ArcSeries = function (_AbstractSeries) {\n  _inherits(ArcSeries, _AbstractSeries);\n\n  function ArcSeries(props) {\n    _classCallCheck(this, ArcSeries);\n\n    var _this = _possibleConstructorReturn(this, (ArcSeries.__proto__ || Object.getPrototypeOf(ArcSeries)).call(this, props));\n\n    var scaleProps = _this._getAllScaleProps(props);\n    _this.state = { scaleProps: scaleProps };\n    return _this;\n  }\n\n  _createClass(ArcSeries, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({ scaleProps: this._getAllScaleProps(nextProps) });\n    }\n\n    /**\n     * Get the map of scales from the props.\n     * @param {Object} props Props.\n     * @param {Array} data Array of all data.\n     * @returns {Object} Map of scales.\n     * @private\n     */\n\n  }, {\n    key: '_getAllScaleProps',\n    value: function _getAllScaleProps(props) {\n      var defaultScaleProps = this._getDefaultScaleProps(props);\n      var userScaleProps = extractScalePropsFromProps(props, ATTRIBUTES);\n      var missingScaleProps = getMissingScaleProps(_extends({}, defaultScaleProps, userScaleProps), props.data, ATTRIBUTES);\n\n      return _extends({}, defaultScaleProps, userScaleProps, missingScaleProps);\n    }\n\n    /**\n     * Get the list of scale-related settings that should be applied by default.\n     * @param {Object} props Object of props.\n     * @returns {Object} Defaults.\n     * @private\n     */\n\n  }, {\n    key: '_getDefaultScaleProps',\n    value: function _getDefaultScaleProps(props) {\n      var innerWidth = props.innerWidth,\n          innerHeight = props.innerHeight;\n\n      var radius = Math.min(innerWidth / 2, innerHeight / 2);\n      return {\n        radiusRange: [0, radius],\n        _radiusValue: radius,\n        angleType: 'literal'\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          arcClassName = _props.arcClassName,\n          animation = _props.animation,\n          className = _props.className,\n          center = _props.center,\n          data = _props.data,\n          disableSeries = _props.disableSeries,\n          hideSeries = _props.hideSeries,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          padAngle = _props.padAngle,\n          style = _props.style;\n\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        var cloneData = data.map(function (d) {\n          return _extends({}, d);\n        });\n        return React.createElement(\n          'g',\n          { className: 'rv-xy-plot__series--arc__animation-wrapper' },\n          React.createElement(\n            Animation,\n            _extends({}, this.props, {\n              animatedProps: ANIMATED_SERIES_PROPS,\n              data: cloneData\n            }),\n            React.createElement(ArcSeries, _extends({}, this.props, {\n              animation: null,\n              disableSeries: true,\n              data: cloneData\n            }))\n          ),\n          React.createElement(ArcSeries, _extends({}, this.props, {\n            animation: null,\n            hideSeries: true,\n            style: { stroke: 'red' }\n          }))\n        );\n      }\n\n      var scaleProps = this.state.scaleProps;\n      var radiusDomain = scaleProps.radiusDomain;\n      // need to generate our own functors as abstract series doesnt have anythign for us\n\n      var radius = getAttributeFunctor(scaleProps, 'radius');\n      var radius0 = getAttr0Functor(scaleProps, 'radius');\n      var angle = getAttributeFunctor(scaleProps, 'angle');\n      var angle0 = getAttr0Functor(scaleProps, 'angle');\n      // but it does have good color support!\n      var fill = this._getAttributeFunctor('fill') || this._getAttributeFunctor('color');\n      var stroke = this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color');\n      var opacity = this._getAttributeFunctor('opacity');\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          onMouseOver: this._seriesMouseOverHandler,\n          onMouseOut: this._seriesMouseOutHandler,\n          onClick: this._seriesClickHandler,\n          onContextMenu: this._seriesRightClickHandler,\n          opacity: hideSeries ? 0 : 1,\n          pointerEvents: disableSeries ? 'none' : 'all',\n          transform: 'translate(' + (marginLeft + x(center)) + ',' + (marginTop + y(center)) + ')'\n        },\n        data.map(function (row, i) {\n          var noRadius = radiusDomain[1] === radiusDomain[0];\n          var arcArg = {\n            innerRadius: noRadius ? 0 : radius0(row),\n            outerRadius: radius(row),\n            startAngle: angle0(row) || 0,\n            endAngle: angle(row)\n          };\n          var arcedData = arcBuilder().padAngle(padAngle);\n          var rowStyle = row.style || {};\n          var rowClassName = row.className || '';\n          return React.createElement('path', {\n            style: _extends({\n              opacity: opacity && opacity(row),\n              stroke: stroke && stroke(row),\n              fill: fill && fill(row)\n            }, style, rowStyle),\n            onClick: function onClick(e) {\n              return _this2._valueClickHandler(modifyRow(row), e);\n            },\n            onContextMenu: function onContextMenu(e) {\n              return _this2._valueRightClickHandler(modifyRow(row), e);\n            },\n            onMouseOver: function onMouseOver(e) {\n              return _this2._valueMouseOverHandler(modifyRow(row), e);\n            },\n            onMouseOut: function onMouseOut(e) {\n              return _this2._valueMouseOutHandler(modifyRow(row), e);\n            },\n            key: i,\n            className: predefinedClassName + '-path ' + arcClassName + ' ' + rowClassName,\n            d: arcedData(arcArg)\n          });\n        })\n      );\n    }\n  }]);\n\n  return ArcSeries;\n}(AbstractSeries);\n\nArcSeries.propTypes = _extends({}, AbstractSeries.propTypes, getScalePropTypesByAttribute('radius'), getScalePropTypesByAttribute('angle'), {\n  center: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }),\n  arcClassName: PropTypes.string,\n  padAngle: PropTypes.oneOfType([PropTypes.func, PropTypes.number])\n});\nArcSeries.defaultProps = defaultProps;\nArcSeries.displayName = 'ArcSeries';\n\nexport default ArcSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as d3Shape from 'd3-shape';\n\nimport Animation from '../../animation';\nimport { DEFAULT_OPACITY } from '../../theme';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nimport { warning } from '../../utils/react-utils';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--line';\n\nvar AreaSeries = function (_AbstractSeries) {\n  _inherits(AreaSeries, _AbstractSeries);\n\n  function AreaSeries() {\n    _classCallCheck(this, AreaSeries);\n\n    return _possibleConstructorReturn(this, (AreaSeries.__proto__ || Object.getPrototypeOf(AreaSeries)).apply(this, arguments));\n  }\n\n  _createClass(AreaSeries, [{\n    key: '_renderArea',\n    value: function _renderArea(data, x, y0, y, curve, getNull) {\n      var area = d3Shape.area();\n      if (curve !== null) {\n        if (typeof curve === 'string' && d3Shape[curve]) {\n          area = area.curve(d3Shape[curve]);\n        } else if (typeof curve === 'function') {\n          area = area.curve(curve);\n        }\n      }\n      area = area.defined(getNull);\n      area = area.x(x).y0(y0).y1(y);\n      return area(data);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          curve = _props.curve,\n          data = _props.data,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          style = _props.style;\n\n\n      if (this.props.nullAccessor) {\n        warning('nullAccessor has been renamed to getNull', true);\n      }\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(AreaSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n      var y0 = this._getAttr0Functor('y');\n      var stroke = this._getAttributeValue('stroke') || this._getAttributeValue('color');\n      var fill = this._getAttributeValue('fill') || this._getAttributeValue('color');\n      var newOpacity = this._getAttributeValue('opacity');\n      var opacity = Number.isFinite(newOpacity) ? newOpacity : DEFAULT_OPACITY;\n      var getNull = this.props.nullAccessor || this.props.getNull;\n      var d = this._renderArea(data, x, y0, y, curve, getNull);\n\n      return React.createElement('path', {\n        d: d,\n        className: predefinedClassName + ' ' + className,\n        transform: 'translate(' + marginLeft + ',' + marginTop + ')',\n        onMouseOver: this._seriesMouseOverHandler,\n        onMouseOut: this._seriesMouseOutHandler,\n        onClick: this._seriesClickHandler,\n        onContextMenu: this._seriesRightClickHandler,\n        style: _extends({\n          opacity: opacity,\n          stroke: stroke,\n          fill: fill\n        }, style)\n      });\n    }\n  }]);\n\n  return AreaSeries;\n}(AbstractSeries);\n\nAreaSeries.displayName = 'AreaSeries';\nAreaSeries.propTypes = _extends({}, AbstractSeries.propTypes, {\n  getNull: PropTypes.func\n});\nAreaSeries.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  getNull: function getNull() {\n    return true;\n  }\n});\n\nexport default AreaSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nvar propTypes = {\n  style: PropTypes.shape({\n    bottom: PropTypes.object,\n    left: PropTypes.object,\n    right: PropTypes.object,\n    top: PropTypes.object\n  }),\n  // supplied by xyplot\n  marginTop: PropTypes.number,\n  marginBottom: PropTypes.number,\n  marginLeft: PropTypes.number,\n  marginRight: PropTypes.number,\n  innerWidth: PropTypes.number,\n  innerHeight: PropTypes.number\n};\n\nvar CLASSES = {\n  bottom: 'rv-xy-plot__borders-bottom',\n  container: 'rv-xy-plot__borders',\n  left: 'rv-xy-plot__borders-left',\n  right: 'rv-xy-plot__borders-right',\n  top: 'rv-xy-plot__borders-top'\n};\n\nfunction Borders(props) {\n  var marginTop = props.marginTop,\n      marginBottom = props.marginBottom,\n      marginLeft = props.marginLeft,\n      marginRight = props.marginRight,\n      innerWidth = props.innerWidth,\n      innerHeight = props.innerHeight,\n      style = props.style,\n      className = props.className;\n\n  var height = innerHeight + marginTop + marginBottom;\n  var width = innerWidth + marginLeft + marginRight;\n  return React.createElement(\n    'g',\n    { className: CLASSES.container + ' ' + className },\n    React.createElement('rect', {\n      className: CLASSES.bottom + ' ' + className + '-bottom',\n      style: _extends({}, style.all, style.bottom),\n      x: 0,\n      y: height - marginBottom,\n      width: width,\n      height: marginBottom\n    }),\n    React.createElement('rect', {\n      className: CLASSES.left + ' ' + className + '-left',\n      style: _extends({}, style.all, style.left),\n      x: 0,\n      y: 0,\n      width: marginLeft,\n      height: height\n    }),\n    React.createElement('rect', {\n      className: CLASSES.right + ' ' + className + '-right',\n      style: _extends({}, style.all, style.right),\n      x: width - marginRight,\n      y: 0,\n      width: marginRight,\n      height: height\n    }),\n    React.createElement('rect', {\n      className: CLASSES.top + ' ' + className + '-top',\n      style: _extends({}, style.all, style.top),\n      x: 0,\n      y: 0,\n      width: width,\n      height: marginTop\n    })\n  );\n}\n\nBorders.displayName = 'Borders';\nBorders.defaultProps = {\n  className: '',\n  style: {\n    all: {},\n    bottom: {},\n    left: {},\n    right: {},\n    top: {}\n  }\n};\nBorders.propTypes = propTypes;\nBorders.requiresSVG = true;\n\nexport default Borders;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nvar ChartLabel = function (_React$PureComponent) {\n  _inherits(ChartLabel, _React$PureComponent);\n\n  function ChartLabel() {\n    _classCallCheck(this, ChartLabel);\n\n    return _possibleConstructorReturn(this, (ChartLabel.__proto__ || Object.getPrototypeOf(ChartLabel)).apply(this, arguments));\n  }\n\n  _createClass(ChartLabel, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          innerHeight = _props.innerHeight,\n          innerWidth = _props.innerWidth,\n          marginBottom = _props.marginBottom,\n          marginLeft = _props.marginLeft,\n          marginRight = _props.marginRight,\n          marginTop = _props.marginTop,\n          className = _props.className,\n          includeMargin = _props.includeMargin,\n          style = _props.style,\n          text = _props.text,\n          xPercent = _props.xPercent,\n          yPercent = _props.yPercent;\n\n      var width = innerWidth + (includeMargin ? marginLeft + marginRight : 0);\n      var height = innerHeight + (includeMargin ? marginTop + marginBottom : 0);\n      var xPos = width * xPercent + (includeMargin ? 0 : marginLeft);\n      var yPos = height * yPercent + (includeMargin ? marginLeft : 0);\n      return React.createElement(\n        'g',\n        {\n          transform: 'translate(' + xPos + ', ' + yPos + ')',\n          className: 'rv-xy-plot__axis__title ' + className },\n        React.createElement(\n          'text',\n          style,\n          text\n        )\n      );\n    }\n  }], [{\n    key: 'requiresSVG',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return ChartLabel;\n}(React.PureComponent);\n\nChartLabel.displayName = 'ChartLabel';\nChartLabel.propTypes = {\n  className: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  style: PropTypes.object,\n  text: PropTypes.string.isRequired,\n  xPercent: PropTypes.number.isRequired,\n  yPercent: PropTypes.number.isRequired\n};\nChartLabel.defaultProps = {\n  className: '',\n  includeMargin: true,\n  text: '',\n  xPercent: 0,\n  yPercent: 0,\n  style: {}\n};\nexport default ChartLabel;","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport { range } from 'd3-array';\nimport { scaleLinear } from 'd3-scale';\n\nexport var ORIENTATION = {\n  TOP: 'top',\n  LEFT: 'left',\n  RIGHT: 'right',\n  BOTTOM: 'bottom',\n  VERTICAL: 'vertical',\n  HORIZONTAL: 'horizontal'\n};\n\nexport var DIRECTION = {\n  VERTICAL: 'vertical',\n  HORIZONTAL: 'horizontal'\n};\n\n/**\n * Get total amount of ticks from a given size in pixels.\n * @param {number} size Size of the axis in pixels.\n * @returns {number} Total amount of ticks.\n */\nexport function getTicksTotalFromSize(size) {\n  if (size < 700) {\n    if (size > 300) {\n      return 10;\n    }\n    return 5;\n  }\n  return 20;\n}\n\n/**\n * Get the tick values from a given d3 scale.\n * @param {d3.scale} scale Scale function.\n * @param {number} tickTotal Total number of ticks\n * @param {Array} tickValues Array of tick values if they exist.\n * @returns {Array} Array of tick values.\n */\nexport function getTickValues(scale, tickTotal, tickValues) {\n  return !tickValues ? scale.ticks ? scale.ticks(tickTotal) : scale.domain() : tickValues;\n}\n\n/**\n * Generate a description of a decorative axis in terms of a linear equation\n * y = slope * x + offset in coordinates\n * @param {Object} axisStart Object of format {x, y} describing in coordinates\n * the start position of the decorative axis\n * @param {Object} axisEnd Object of format {x, y} describing in coordinates\n * the start position of the decorative axis\n * @returns {Number} Object describing each the line in coordinates\n */\nexport function generateFit(axisStart, axisEnd) {\n  // address the special case when the slope is infinite\n  if (axisStart.x === axisEnd.x) {\n    return {\n      left: axisStart.y,\n      right: axisEnd.y,\n      slope: 0,\n      offset: axisStart.x\n    };\n  }\n  var slope = (axisStart.y - axisEnd.y) / (axisStart.x - axisEnd.x);\n  return {\n    left: axisStart.x,\n    right: axisEnd.x,\n    // generate the linear projection of the axis direction\n    slope: slope,\n    offset: axisStart.y - slope * axisStart.x\n  };\n}\n\n/**\n * Generate a description of a decorative axis in terms of a linear equation\n * y = slope * x + offset in coordinates\n * @param props\n * props.@param {Object} axisStart Object of format {x, y} describing in coordinates\n * the start position of the decorative axis\n * props.@param {Object} axisEnd Object of format {x, y} describing in coordinates\n * the start position of the decorative axis\n * props.@param {Number} numberOfTicks The number of ticks on the axis\n * props.@param {Array.Numbers} axisDomain The values to be interpolated across for the axis\n * @returns {Number} Object describing the slope and the specific coordinates of the points\n */\nexport function generatePoints(_ref) {\n  var axisStart = _ref.axisStart,\n      axisEnd = _ref.axisEnd,\n      numberOfTicks = _ref.numberOfTicks,\n      axisDomain = _ref.axisDomain;\n\n  var _generateFit = generateFit(axisStart, axisEnd),\n      left = _generateFit.left,\n      right = _generateFit.right,\n      slope = _generateFit.slope,\n      offset = _generateFit.offset;\n  // construct a linear band of points, then map them\n\n\n  var pointSlope = (right - left) / numberOfTicks;\n  var axisScale = scaleLinear().domain([left, right]).range(axisDomain);\n\n  var slopeVertical = axisStart.x === axisEnd.x;\n  return {\n    slope: slopeVertical ? Infinity : slope,\n    points: range(left, right + pointSlope, pointSlope).map(function (val) {\n      if (slopeVertical) {\n        return { y: val, x: slope * val + offset, text: axisScale(val) };\n      }\n      return { x: val, y: slope * val + offset, text: axisScale(val) };\n    }).slice(0, numberOfTicks + 1)\n  };\n}\n\n/**\n * Compute the angle (in radians) of a decorative axis\n * @param {Object} axisStart Object of format {x, y} describing in coordinates\n * the start position of the decorative axis\n * @param {Object} axisEnd Object of format {x, y} describing in coordinates\n * the start position of the decorative axis\n * @returns {Number} Angle in radials\n */\nexport function getAxisAngle(axisStart, axisEnd) {\n  if (axisStart.x === axisEnd.x) {\n    return axisEnd.y > axisStart.y ? Math.PI / 2 : 3 * Math.PI / 2;\n  }\n  return Math.atan((axisEnd.y - axisStart.y) / (axisEnd.x - axisStart.x));\n}\n\nexport default {\n  DIRECTION: DIRECTION,\n  ORIENTATION: ORIENTATION,\n  getTicksTotalFromSize: getTicksTotalFromSize,\n  getTickValues: getTickValues\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, { PureComponent } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { getAttributeScale } from '../utils/scales-utils';\nimport Animation, { AnimationPropType } from '../animation';\n\nimport { getTicksTotalFromSize, getTickValues } from '../utils/axis-utils';\n\nvar animatedProps = ['xRange', 'yRange', 'xDomain', 'yDomain', 'width', 'height', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom', 'tickTotal'];\n\nvar CircularGridLines = function (_PureComponent) {\n  _inherits(CircularGridLines, _PureComponent);\n\n  function CircularGridLines() {\n    _classCallCheck(this, CircularGridLines);\n\n    return _possibleConstructorReturn(this, (CircularGridLines.__proto__ || Object.getPrototypeOf(CircularGridLines)).apply(this, arguments));\n  }\n\n  _createClass(CircularGridLines, [{\n    key: '_getDefaultProps',\n    value: function _getDefaultProps() {\n      var _props = this.props,\n          innerWidth = _props.innerWidth,\n          innerHeight = _props.innerHeight,\n          marginTop = _props.marginTop,\n          marginLeft = _props.marginLeft;\n\n      return {\n        left: marginLeft,\n        top: marginTop,\n        width: innerWidth,\n        height: innerHeight,\n        style: {},\n        tickTotal: getTicksTotalFromSize(Math.min(innerWidth, innerHeight))\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          animation = _props2.animation,\n          centerX = _props2.centerX,\n          centerY = _props2.centerY;\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: animatedProps }),\n          React.createElement(CircularGridLines, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var props = _extends({}, this._getDefaultProps(), this.props);\n\n      var tickTotal = props.tickTotal,\n          tickValues = props.tickValues,\n          marginLeft = props.marginLeft,\n          marginTop = props.marginTop,\n          rRange = props.rRange,\n          style = props.style;\n\n\n      var xScale = getAttributeScale(props, 'x');\n      var yScale = getAttributeScale(props, 'y');\n      var values = getTickValues(xScale, tickTotal, tickValues);\n      return React.createElement(\n        'g',\n        {\n          transform: 'translate(' + (xScale(centerX) + marginLeft) + ',' + (yScale(centerY) + marginTop) + ')',\n          className: 'rv-xy-plot__circular-grid-lines'\n        },\n        values.reduce(function (res, value, index) {\n          var radius = xScale(value);\n          if (rRange && (radius < rRange[0] || radius > rRange[1])) {\n            return res;\n          }\n          return res.concat([React.createElement('circle', _extends({ cx: 0, cy: 0, r: radius }, {\n            key: index,\n            className: 'rv-xy-plot__circular-grid-lines__line',\n            style: style\n          }))]);\n        }, [])\n      );\n    }\n  }]);\n\n  return CircularGridLines;\n}(PureComponent);\n\nCircularGridLines.displayName = 'CircularGridLines';\nCircularGridLines.propTypes = {\n  centerX: PropTypes.number,\n  centerY: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  top: PropTypes.number,\n  left: PropTypes.number,\n  rRange: PropTypes.arrayOf(PropTypes.number),\n\n  style: PropTypes.object,\n\n  tickValues: PropTypes.arrayOf(PropTypes.number),\n  tickTotal: PropTypes.number,\n\n  animation: AnimationPropType,\n  // generally supplied by xyplot\n  marginTop: PropTypes.number,\n  marginBottom: PropTypes.number,\n  marginLeft: PropTypes.number,\n  marginRight: PropTypes.number,\n  innerWidth: PropTypes.number,\n  innerHeight: PropTypes.number\n};\nCircularGridLines.defaultProps = {\n  centerX: 0,\n  centerY: 0\n};\nCircularGridLines.requiresSVG = true;\n\nexport default CircularGridLines;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { contourDensity } from 'd3-contour';\nimport { geoPath } from 'd3-geo';\nimport { scaleLinear } from 'd3-scale';\n\nimport AbstractSeries from './abstract-series';\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nimport { CONTINUOUS_COLOR_RANGE } from '../../theme';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--contour';\n\nfunction getDomain(data) {\n  return data.reduce(function (acc, row) {\n    return {\n      min: Math.min(acc.min, row.value),\n      max: Math.max(acc.max, row.value)\n    };\n  }, { min: Infinity, max: -Infinity });\n}\n\nvar ContourSeries = function (_AbstractSeries) {\n  _inherits(ContourSeries, _AbstractSeries);\n\n  function ContourSeries() {\n    _classCallCheck(this, ContourSeries);\n\n    return _possibleConstructorReturn(this, (ContourSeries.__proto__ || Object.getPrototypeOf(ContourSeries)).apply(this, arguments));\n  }\n\n  _createClass(ContourSeries, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          animation = _props.animation,\n          bandwidth = _props.bandwidth,\n          className = _props.className,\n          colorRange = _props.colorRange,\n          data = _props.data,\n          innerHeight = _props.innerHeight,\n          innerWidth = _props.innerWidth,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          style = _props.style;\n\n\n      if (!data || !innerWidth || !innerHeight) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(ContourSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n\n      var contouredData = contourDensity().x(function (d) {\n        return x(d);\n      }).y(function (d) {\n        return y(d);\n      }).size([innerWidth, innerHeight]).bandwidth(bandwidth)(data);\n\n      var geo = geoPath();\n\n      var _getDomain = getDomain(contouredData),\n          min = _getDomain.min,\n          max = _getDomain.max;\n\n      var colorScale = scaleLinear().domain([min, max]).range(colorRange || CONTINUOUS_COLOR_RANGE);\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        contouredData.map(function (polygon, index) {\n          return React.createElement('path', {\n            className: 'rv-xy-plot__series--contour-line',\n            key: 'rv-xy-plot__series--contour-line-' + index,\n            d: geo(polygon),\n            style: _extends({\n              fill: colorScale(polygon.value)\n            }, style)\n          });\n        })\n      );\n    }\n  }]);\n\n  return ContourSeries;\n}(AbstractSeries);\n\nContourSeries.propTypes = _extends({}, AbstractSeries.propTypes, {\n  animation: PropTypes.bool,\n  bandwidth: PropTypes.number,\n  className: PropTypes.string,\n  marginLeft: PropTypes.number,\n  marginTop: PropTypes.number,\n  style: PropTypes.object\n});\n\nContourSeries.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  bandwidth: 40,\n  style: {}\n});\n\nexport default ContourSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, { PureComponent } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { transformValueToString } from '../utils/data-utils';\n\nimport { getAttributeFunctor } from '../utils/scales-utils';\n\n/**\n * Format title by detault.\n * @param {Array} values List of values.\n * @returns {*} Formatted value or undefined.\n */\nfunction defaultTitleFormat(values) {\n  var value = getFirstNonEmptyValue(values);\n  if (value) {\n    return {\n      title: 'x',\n      value: transformValueToString(value.x)\n    };\n  }\n}\n\n/**\n * Format items by default.\n * @param {Array} values Array of values.\n * @returns {*} Formatted list of items.\n */\nfunction defaultItemsFormat(values) {\n  return values.map(function (v, i) {\n    if (v) {\n      return { value: v.y, title: i };\n    }\n  });\n}\n\n/**\n * Get the first non-empty item from an array.\n * @param {Array} values Array of values.\n * @returns {*} First non-empty value or undefined.\n */\nfunction getFirstNonEmptyValue(values) {\n  return (values || []).find(function (v) {\n    return Boolean(v);\n  });\n}\n\nvar Crosshair = function (_PureComponent) {\n  _inherits(Crosshair, _PureComponent);\n\n  function Crosshair() {\n    _classCallCheck(this, Crosshair);\n\n    return _possibleConstructorReturn(this, (Crosshair.__proto__ || Object.getPrototypeOf(Crosshair)).apply(this, arguments));\n  }\n\n  _createClass(Crosshair, [{\n    key: '_renderCrosshairItems',\n\n\n    /**\n     * Render crosshair items (title + value for each series).\n     * @returns {*} Array of React classes with the crosshair values.\n     * @private\n     */\n    value: function _renderCrosshairItems() {\n      var _props = this.props,\n          values = _props.values,\n          itemsFormat = _props.itemsFormat;\n\n      var items = itemsFormat(values);\n      if (!items) {\n        return null;\n      }\n      return items.filter(function (i) {\n        return i;\n      }).map(function renderValue(item, i) {\n        return React.createElement(\n          'div',\n          { className: 'rv-crosshair__item', key: 'item' + i },\n          React.createElement(\n            'span',\n            { className: 'rv-crosshair__item__title' },\n            item.title\n          ),\n          ': ',\n          React.createElement(\n            'span',\n            { className: 'rv-crosshair__item__value' },\n            item.value\n          )\n        );\n      });\n    }\n\n    /**\n     * Render crosshair title.\n     * @returns {*} Container with the crosshair title.\n     * @private\n     */\n\n  }, {\n    key: '_renderCrosshairTitle',\n    value: function _renderCrosshairTitle() {\n      var _props2 = this.props,\n          values = _props2.values,\n          titleFormat = _props2.titleFormat,\n          style = _props2.style;\n\n      var titleItem = titleFormat(values);\n      if (!titleItem) {\n        return null;\n      }\n      return React.createElement(\n        'div',\n        { className: 'rv-crosshair__title', key: 'title', style: style.title },\n        React.createElement(\n          'span',\n          { className: 'rv-crosshair__title__title' },\n          titleItem.title\n        ),\n        ': ',\n        React.createElement(\n          'span',\n          { className: 'rv-crosshair__title__value' },\n          titleItem.value\n        )\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          children = _props3.children,\n          className = _props3.className,\n          values = _props3.values,\n          marginTop = _props3.marginTop,\n          marginLeft = _props3.marginLeft,\n          innerWidth = _props3.innerWidth,\n          innerHeight = _props3.innerHeight,\n          style = _props3.style;\n\n      var value = getFirstNonEmptyValue(values);\n      if (!value) {\n        return null;\n      }\n      var x = getAttributeFunctor(this.props, 'x');\n      var innerLeft = x(value);\n\n      var _props$orientation = this.props.orientation,\n          orientation = _props$orientation === undefined ? innerLeft > innerWidth / 2 ? 'left' : 'right' : _props$orientation;\n\n      var left = marginLeft + innerLeft;\n      var top = marginTop;\n      var innerClassName = 'rv-crosshair__inner rv-crosshair__inner--' + orientation;\n\n      return React.createElement(\n        'div',\n        {\n          className: 'rv-crosshair ' + className,\n          style: { left: left + 'px', top: top + 'px' }\n        },\n        React.createElement('div', {\n          className: 'rv-crosshair__line',\n          style: _extends({ height: innerHeight + 'px' }, style.line)\n        }),\n        React.createElement(\n          'div',\n          { className: innerClassName },\n          children ? children : React.createElement(\n            'div',\n            { className: 'rv-crosshair__inner__content', style: style.box },\n            React.createElement(\n              'div',\n              null,\n              this._renderCrosshairTitle(),\n              this._renderCrosshairItems()\n            )\n          )\n        )\n      );\n    }\n  }], [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        titleFormat: defaultTitleFormat,\n        itemsFormat: defaultItemsFormat,\n        style: {\n          line: {},\n          title: {},\n          box: {}\n        }\n      };\n    }\n  }, {\n    key: 'propTypes',\n    get: function get() {\n      return {\n        className: PropTypes.string,\n        values: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.object])),\n        series: PropTypes.object,\n        innerWidth: PropTypes.number,\n        innerHeight: PropTypes.number,\n        marginLeft: PropTypes.number,\n        marginTop: PropTypes.number,\n        orientation: PropTypes.oneOf(['left', 'right']),\n        itemsFormat: PropTypes.func,\n        titleFormat: PropTypes.func,\n        style: PropTypes.shape({\n          line: PropTypes.object,\n          title: PropTypes.object,\n          box: PropTypes.object\n        })\n      };\n    }\n  }]);\n\n  return Crosshair;\n}(PureComponent);\n\nCrosshair.displayName = 'Crosshair';\n\nexport default Crosshair;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AbstractSeries from './abstract-series';\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--custom-svg-wrapper';\n\nvar DEFAULT_STYLE = {\n  stroke: 'blue',\n  fill: 'blue'\n};\n\nfunction predefinedComponents(type) {\n  var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_STYLE;\n\n  switch (type) {\n    case 'diamond':\n      return React.createElement('polygon', {\n        style: style,\n        points: '0 0 ' + size / 2 + ' ' + size / 2 + ' 0 ' + size + ' ' + -size / 2 + ' ' + size / 2 + ' 0 0'\n      });\n    case 'star':\n      var starPoints = [].concat(_toConsumableArray(new Array(5))).map(function (c, index) {\n        var angle = index / 5 * Math.PI * 2;\n        var innerAngle = angle + Math.PI / 10;\n        var outerAngle = angle - Math.PI / 10;\n        // ratio of inner polygon to outer polgyon\n        var innerRadius = size / 2.61;\n        return '\\n        ' + Math.cos(outerAngle) * size + ' ' + Math.sin(outerAngle) * size + '\\n        ' + Math.cos(innerAngle) * innerRadius + ' ' + Math.sin(innerAngle) * innerRadius + '\\n      ';\n      }).join(' ');\n      return React.createElement('polygon', {\n        points: starPoints,\n        x: '0',\n        y: '0',\n        height: size,\n        width: size,\n        style: style\n      });\n    case 'square':\n      return React.createElement('rect', {\n        x: '' + -size / 2,\n        y: '' + -size / 2,\n        height: size,\n        width: size,\n        style: style\n      });\n    default:\n    case 'circle':\n      return React.createElement('circle', { cx: '0', cy: '0', r: size / 2, style: style });\n  }\n}\n\nfunction getInnerComponent(_ref) {\n  var customComponent = _ref.customComponent,\n      defaultType = _ref.defaultType,\n      positionInPixels = _ref.positionInPixels,\n      positionFunctions = _ref.positionFunctions,\n      style = _ref.style,\n      propsSize = _ref.propsSize;\n  var size = customComponent.size;\n\n  var aggStyle = _extends({}, style, customComponent.style || {});\n  var innerComponent = customComponent.customComponent;\n  if (!innerComponent && typeof defaultType === 'string') {\n    return predefinedComponents(defaultType, size || propsSize, aggStyle);\n  }\n  // if default component is a function\n  if (!innerComponent) {\n    return defaultType(customComponent, positionInPixels, aggStyle);\n  }\n  if (typeof innerComponent === 'string') {\n    return predefinedComponents(innerComponent || defaultType, size, aggStyle);\n  }\n  // if inner component is a function\n  return innerComponent(customComponent, positionInPixels, aggStyle);\n}\n\nvar CustomSVGSeries = function (_AbstractSeries) {\n  _inherits(CustomSVGSeries, _AbstractSeries);\n\n  function CustomSVGSeries() {\n    _classCallCheck(this, CustomSVGSeries);\n\n    return _possibleConstructorReturn(this, (CustomSVGSeries.__proto__ || Object.getPrototypeOf(CustomSVGSeries)).apply(this, arguments));\n  }\n\n  _createClass(CustomSVGSeries, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          customComponent = _props.customComponent,\n          data = _props.data,\n          innerHeight = _props.innerHeight,\n          innerWidth = _props.innerWidth,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          style = _props.style,\n          size = _props.size;\n\n\n      if (!data || !innerWidth || !innerHeight) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(CustomSVGSeries, _extends({}, this.props, { animation: false }))\n        );\n      }\n\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n      var contents = data.map(function (seriesComponent, index) {\n        var positionInPixels = {\n          x: x(seriesComponent),\n          y: y(seriesComponent)\n        };\n        var innerComponent = getInnerComponent({\n          customComponent: seriesComponent,\n          positionInPixels: positionInPixels,\n          defaultType: customComponent,\n          positionFunctions: { x: x, y: y },\n          style: style,\n          propsSize: size\n        });\n        return React.createElement(\n          'g',\n          {\n            className: 'rv-xy-plot__series--custom-svg',\n            key: 'rv-xy-plot__series--custom-svg-' + index,\n            transform: 'translate(' + positionInPixels.x + ',' + positionInPixels.y + ')',\n            onMouseEnter: function onMouseEnter(e) {\n              return _this2._valueMouseOverHandler(seriesComponent, e);\n            },\n            onMouseLeave: function onMouseLeave(e) {\n              return _this2._valueMouseOutHandler(seriesComponent, e);\n            }\n          },\n          innerComponent\n        );\n      });\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        contents\n      );\n    }\n  }]);\n\n  return CustomSVGSeries;\n}(AbstractSeries);\n\nCustomSVGSeries.propTypes = {\n  animation: PropTypes.bool,\n  className: PropTypes.string,\n  customComponent: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  data: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n  })).isRequired,\n  marginLeft: PropTypes.number,\n  marginTop: PropTypes.number,\n  style: PropTypes.object,\n  size: PropTypes.number,\n  onValueMouseOver: PropTypes.func,\n  onValueMouseOut: PropTypes.func\n};\n\nCustomSVGSeries.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  animation: false,\n  customComponent: 'circle',\n  style: {},\n  size: 2\n});\n\nexport default CustomSVGSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport { generatePoints, getAxisAngle } from '../../utils/axis-utils';\n\n/**\n * Generate the actual polygons to be plotted\n * @param {Object} props\n - props.animation {Boolean}\n - props.axisDomain {Array} a pair of values specifying the domain of the axis\n - props.numberOfTicks{Number} the number of ticks on the axis\n - props.axisStart {Object} a object specify in cartesian space the start of the axis\n example: {x: 0, y: 0}\n - props.axisEnd {Object} a object specify in cartesian space the start of the axis\n - props.tickValue {Func} a formatting function for the tick values\n - props.tickSize {Number} a pixel size of the axis\n - props.style {Object} The style object for the axis\n * @return {Component} the plotted axis\n */\nexport default function decorativeAxisTick(props) {\n  var axisDomain = props.axisDomain,\n      numberOfTicks = props.numberOfTicks,\n      axisStart = props.axisStart,\n      axisEnd = props.axisEnd,\n      tickValue = props.tickValue,\n      tickSize = props.tickSize,\n      style = props.style;\n\n  var _generatePoints = generatePoints({\n    axisStart: axisStart,\n    axisEnd: axisEnd,\n    numberOfTicks: numberOfTicks,\n    axisDomain: axisDomain\n  }),\n      points = _generatePoints.points;\n  // add a quarter rotation to make ticks orthogonal to axis\n\n\n  var tickAngle = getAxisAngle(axisStart, axisEnd) + Math.PI / 2;\n  return points.map(function (point, index) {\n    var tickProps = _extends({\n      x1: 0,\n      y1: 0,\n      x2: tickSize * Math.cos(tickAngle),\n      y2: tickSize * Math.sin(tickAngle)\n    }, style.ticks);\n\n    var textProps = _extends({\n      x: tickSize * Math.cos(tickAngle),\n      y: tickSize * Math.sin(tickAngle),\n      textAnchor: 'start'\n    }, style.text);\n    return React.createElement(\n      'g',\n      {\n        key: index,\n        transform: 'translate(' + point.x + ', ' + point.y + ')',\n        className: 'rv-xy-plot__axis__tick'\n      },\n      React.createElement('line', _extends({}, tickProps, { className: 'rv-xy-plot__axis__tick__line' })),\n      React.createElement(\n        'text',\n        _extends({}, textProps, { className: 'rv-xy-plot__axis__tick__text' }),\n        tickValue(point.text)\n      )\n    );\n  });\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport { format } from 'd3-format';\nimport PropTypes from 'prop-types';\n\nimport AbstractSeries from '../series/abstract-series';\nimport DecorativeAxisTicks from './decorative-axis-ticks';\nimport Animation from '../../animation';\n\nvar predefinedClassName = 'rv-xy-manipulable-axis rv-xy-plot__axis';\n\nvar animatedProps = ['xRange', 'yRange', 'xDomain', 'yDomain', 'width', 'height', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom', 'tickSize', 'tickTotal', 'tickSizeInner', 'tickSizeOuter'];\n\nvar DecorativeAxis = function (_AbstractSeries) {\n  _inherits(DecorativeAxis, _AbstractSeries);\n\n  function DecorativeAxis() {\n    _classCallCheck(this, DecorativeAxis);\n\n    return _possibleConstructorReturn(this, (DecorativeAxis.__proto__ || Object.getPrototypeOf(DecorativeAxis)).apply(this, arguments));\n  }\n\n  _createClass(DecorativeAxis, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          axisStart = _props.axisStart,\n          axisEnd = _props.axisEnd,\n          axisDomain = _props.axisDomain,\n          numberOfTicks = _props.numberOfTicks,\n          tickValue = _props.tickValue,\n          tickSize = _props.tickSize,\n          style = _props.style;\n\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: animatedProps }),\n          React.createElement(DecorativeAxis, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        React.createElement('line', _extends({}, _extends({\n          x1: x({ x: axisStart.x }),\n          x2: x({ x: axisEnd.x }),\n          y1: y({ y: axisStart.y }),\n          y2: y({ y: axisEnd.y })\n        }, style.line), {\n          className: 'rv-xy-plot__axis__line'\n        })),\n        React.createElement(\n          'g',\n          { className: 'rv-xy-manipulable-axis__ticks' },\n          DecorativeAxisTicks({\n            axisDomain: axisDomain,\n            axisEnd: { x: x(axisEnd), y: y(axisEnd) },\n            axisStart: { x: x(axisStart), y: y(axisStart) },\n            numberOfTicks: numberOfTicks,\n            tickValue: tickValue,\n            tickSize: tickSize,\n            style: style\n          })\n        )\n      );\n    }\n  }]);\n\n  return DecorativeAxis;\n}(AbstractSeries);\n\nvar DEFAULT_FORMAT = format('.2r');\n\nDecorativeAxis.defaultProps = {\n  className: '',\n  numberOfTicks: 10,\n  tickValue: function tickValue(d) {\n    return DEFAULT_FORMAT(d);\n  },\n  tickSize: 5,\n  style: {\n    line: {\n      strokeWidth: 1\n    },\n    ticks: {\n      strokeWidth: 2\n    },\n    text: {}\n  }\n};\nDecorativeAxis.propTypes = _extends({}, AbstractSeries.propTypes, {\n  axisDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  axisEnd: PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n  }).isRequired,\n  axisStart: PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n  }).isRequired,\n  className: PropTypes.string,\n  numberOfTicks: PropTypes.number,\n  tickValue: PropTypes.func,\n  tickSize: PropTypes.number,\n  style: PropTypes.shape({\n    line: PropTypes.object,\n    ticks: PropTypes.object,\n    text: PropTypes.object\n  })\n});\nDecorativeAxis.displayName = 'DecorativeAxis';\nexport default DecorativeAxis;","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar predefinedClassName = 'rv-gradient-defs';\n\nfunction GradientDefs(props) {\n  var className = props.className;\n\n  return React.createElement(\n    'defs',\n    { className: predefinedClassName + ' ' + className },\n    props.children\n  );\n}\n\nGradientDefs.displayName = 'GradientDefs';\nGradientDefs.requiresSVG = true;\nGradientDefs.propTypes = {\n  className: PropTypes.string\n};\nGradientDefs.defaultProps = {\n  className: ''\n};\n\nexport default GradientDefs;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, { PureComponent } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { getAttributeScale } from '../utils/scales-utils';\nimport Animation, { AnimationPropType } from '../animation';\n\nimport { getTicksTotalFromSize, getTickValues, DIRECTION } from '../utils/axis-utils';\n\nvar VERTICAL = DIRECTION.VERTICAL,\n    HORIZONTAL = DIRECTION.HORIZONTAL;\n\n\nvar propTypes = {\n  direction: PropTypes.oneOf([VERTICAL, HORIZONTAL]),\n  attr: PropTypes.string.isRequired,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  top: PropTypes.number,\n  left: PropTypes.number,\n\n  style: PropTypes.object,\n\n  tickValues: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])),\n  tickTotal: PropTypes.number,\n\n  animation: AnimationPropType,\n\n  // generally supplied by xyplot\n  marginTop: PropTypes.number,\n  marginBottom: PropTypes.number,\n  marginLeft: PropTypes.number,\n  marginRight: PropTypes.number,\n  innerWidth: PropTypes.number,\n  innerHeight: PropTypes.number\n};\n\nvar defaultProps = {\n  direction: VERTICAL\n};\n\nvar animatedProps = ['xRange', 'yRange', 'xDomain', 'yDomain', 'width', 'height', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom', 'tickTotal'];\n\nvar GridLines = function (_PureComponent) {\n  _inherits(GridLines, _PureComponent);\n\n  function GridLines() {\n    _classCallCheck(this, GridLines);\n\n    return _possibleConstructorReturn(this, (GridLines.__proto__ || Object.getPrototypeOf(GridLines)).apply(this, arguments));\n  }\n\n  _createClass(GridLines, [{\n    key: '_getDefaultProps',\n    value: function _getDefaultProps() {\n      var _props = this.props,\n          innerWidth = _props.innerWidth,\n          innerHeight = _props.innerHeight,\n          marginTop = _props.marginTop,\n          marginLeft = _props.marginLeft,\n          direction = _props.direction;\n\n      return {\n        left: marginLeft,\n        top: marginTop,\n        width: innerWidth,\n        height: innerHeight,\n        tickTotal: getTicksTotalFromSize(direction === VERTICAL ? innerWidth : innerHeight)\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          animation = _props2.animation,\n          className = _props2.className;\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: animatedProps }),\n          React.createElement(GridLines, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var props = _extends({}, this._getDefaultProps(), this.props);\n\n      var attr = props.attr,\n          direction = props.direction,\n          width = props.width,\n          height = props.height,\n          style = props.style,\n          tickTotal = props.tickTotal,\n          tickValues = props.tickValues,\n          top = props.top,\n          left = props.left;\n\n      var isVertical = direction === VERTICAL;\n      var tickXAttr = isVertical ? 'y' : 'x';\n      var tickYAttr = isVertical ? 'x' : 'y';\n      var length = isVertical ? height : width;\n\n      var scale = getAttributeScale(props, attr);\n      var values = getTickValues(scale, tickTotal, tickValues);\n\n      return React.createElement(\n        'g',\n        {\n          transform: 'translate(' + left + ',' + top + ')',\n          className: 'rv-xy-plot__grid-lines ' + className\n        },\n        values.map(function (v, i) {\n          var _pathProps;\n\n          var pos = scale(v);\n          var pathProps = (_pathProps = {}, _defineProperty(_pathProps, tickYAttr + '1', pos), _defineProperty(_pathProps, tickYAttr + '2', pos), _defineProperty(_pathProps, tickXAttr + '1', 0), _defineProperty(_pathProps, tickXAttr + '2', length), _pathProps);\n          return React.createElement('line', _extends({}, pathProps, {\n            key: i,\n            className: 'rv-xy-plot__grid-lines__line',\n            style: style\n          }));\n        })\n      );\n    }\n  }]);\n\n  return GridLines;\n}(PureComponent);\n\nGridLines.displayName = 'GridLines';\nGridLines.defaultProps = defaultProps;\nGridLines.propTypes = propTypes;\nGridLines.requiresSVG = true;\n\nexport default GridLines;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--heatmap';\n\nvar HeatmapSeries = function (_AbstractSeries) {\n  _inherits(HeatmapSeries, _AbstractSeries);\n\n  function HeatmapSeries() {\n    _classCallCheck(this, HeatmapSeries);\n\n    return _possibleConstructorReturn(this, (HeatmapSeries.__proto__ || Object.getPrototypeOf(HeatmapSeries)).apply(this, arguments));\n  }\n\n  _createClass(HeatmapSeries, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          data = _props.data,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          style = _props.style;\n\n      if (!data) {\n        return null;\n      }\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(HeatmapSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var _rectStyle$style = _extends({ rectStyle: {} }, style),\n          rectStyle = _rectStyle$style.rectStyle;\n\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n      var opacity = this._getAttributeFunctor('opacity');\n      var fill = this._getAttributeFunctor('fill') || this._getAttributeFunctor('color');\n      var stroke = this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color');\n      var xDistance = this._getScaleDistance('x');\n      var yDistance = this._getScaleDistance('y');\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        data.map(function (d, i) {\n          var attrs = _extends({\n            style: _extends({\n              stroke: stroke && stroke(d),\n              fill: fill && fill(d),\n              opacity: opacity && opacity(d)\n            }, style)\n          }, rectStyle, {\n            x: x(d) - xDistance / 2,\n            y: y(d) - yDistance / 2,\n            width: xDistance,\n            height: yDistance,\n            key: i,\n            onClick: function onClick(e) {\n              return _this2._valueClickHandler(d, e);\n            },\n            onContextMenu: function onContextMenu(e) {\n              return _this2._valueRightClickHandler(d, e);\n            },\n            onMouseOver: function onMouseOver(e) {\n              return _this2._valueMouseOverHandler(d, e);\n            },\n            onMouseOut: function onMouseOut(e) {\n              return _this2._valueMouseOutHandler(d, e);\n            }\n          });\n          return React.createElement('rect', attrs);\n        })\n      );\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = attr === 'x' || attr === 'y';\n      return { isDomainAdjustmentNeeded: isDomainAdjustmentNeeded };\n    }\n  }]);\n\n  return HeatmapSeries;\n}(AbstractSeries);\n\nHeatmapSeries.propTypes = _extends({}, AbstractSeries.propTypes);\n\nHeatmapSeries.displayName = 'HeatmapSeries';\n\nexport default HeatmapSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Animation from '../../animation';\nimport { hexbin } from 'd3-hexbin';\nimport { scaleLinear } from 'd3-scale';\n\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nimport { CONTINUOUS_COLOR_RANGE } from '../../theme';\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--hexbin';\n\nfunction getColorDomain(_ref, hexes) {\n  var countDomain = _ref.countDomain;\n\n  if (countDomain) {\n    return countDomain;\n  }\n  return [0, Math.max.apply(Math, _toConsumableArray(hexes.map(function (row) {\n    return row.length;\n  })))];\n}\n\nvar HexbinSeries = function (_AbstractSeries) {\n  _inherits(HexbinSeries, _AbstractSeries);\n\n  function HexbinSeries() {\n    _classCallCheck(this, HexbinSeries);\n\n    return _possibleConstructorReturn(this, (HexbinSeries.__proto__ || Object.getPrototypeOf(HexbinSeries)).apply(this, arguments));\n  }\n\n  _createClass(HexbinSeries, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          colorRange = _props.colorRange,\n          data = _props.data,\n          innerHeight = _props.innerHeight,\n          innerWidth = _props.innerWidth,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          radius = _props.radius,\n          sizeHexagonsWithCount = _props.sizeHexagonsWithCount,\n          style = _props.style,\n          xOffset = _props.xOffset,\n          yOffset = _props.yOffset;\n\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(HexbinSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n\n      var hex = hexbin().x(function (d) {\n        return x(d) + xOffset;\n      }).y(function (d) {\n        return y(d) + yOffset;\n      }).radius(radius).size([innerWidth, innerHeight]);\n\n      var hexagonPath = hex.hexagon();\n      var hexes = hex(data);\n\n      var countDomain = getColorDomain(this.props, hexes);\n      var color = scaleLinear().domain(countDomain).range(colorRange);\n      var size = scaleLinear().domain(countDomain).range([0, radius]);\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        hexes.map(function (d, i) {\n          var attrs = {\n            style: style,\n            d: sizeHexagonsWithCount ? hex.hexagon(size(d.length)) : hexagonPath,\n            fill: color(d.length),\n            transform: 'translate(' + d.x + ', ' + d.y + ')',\n            key: i,\n            onClick: function onClick(e) {\n              return _this2._valueClickHandler(d, e);\n            },\n            onContextMenu: function onContextMenu(e) {\n              return _this2._valueRightClickHandler(d, e);\n            },\n            onMouseOver: function onMouseOver(e) {\n              return _this2._valueMouseOverHandler(d, e);\n            },\n            onMouseOut: function onMouseOut(e) {\n              return _this2._valueMouseOutHandler(d, e);\n            }\n          };\n          return React.createElement('path', attrs);\n        })\n      );\n    }\n  }]);\n\n  return HexbinSeries;\n}(AbstractSeries);\n\nHexbinSeries.propTypes = _extends({}, AbstractSeries.propTypes, {\n  radius: PropTypes.number\n});\n\nHexbinSeries.defaultProps = {\n  radius: 20,\n  colorRange: CONTINUOUS_COLOR_RANGE,\n  xOffset: 0,\n  yOffset: 0\n};\n\nHexbinSeries.displayName = 'HexbinSeries';\n\nexport default HexbinSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport AbstractSeries from './series/abstract-series';\nimport { getAttributeScale } from '../utils/scales-utils';\nimport PropTypes from 'prop-types';\n\nfunction getLocs(evt) {\n  var xLoc = evt.type === 'touchstart' ? evt.pageX : evt.offsetX;\n  var yLoc = evt.type === 'touchstart' ? evt.pageY : evt.offsetY;\n  return { xLoc: xLoc, yLoc: yLoc };\n}\n\nvar Highlight = function (_AbstractSeries) {\n  _inherits(Highlight, _AbstractSeries);\n\n  function Highlight() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Highlight);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Highlight.__proto__ || Object.getPrototypeOf(Highlight)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      dragging: false,\n      brushArea: { top: 0, right: 0, bottom: 0, left: 0 },\n      brushing: false,\n      startLocX: 0,\n      startLocY: 0,\n      dragArea: null\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Highlight, [{\n    key: '_getDrawArea',\n    value: function _getDrawArea(xLoc, yLoc) {\n      var _state = this.state,\n          startLocX = _state.startLocX,\n          startLocY = _state.startLocY;\n      var _props = this.props,\n          enableX = _props.enableX,\n          enableY = _props.enableY,\n          highlightWidth = _props.highlightWidth,\n          highlightHeight = _props.highlightHeight,\n          innerWidth = _props.innerWidth,\n          innerHeight = _props.innerHeight,\n          marginLeft = _props.marginLeft,\n          marginRight = _props.marginRight,\n          marginBottom = _props.marginBottom,\n          marginTop = _props.marginTop;\n\n      var plotHeight = innerHeight + marginTop + marginBottom;\n      var plotWidth = innerWidth + marginLeft + marginRight;\n      var touchWidth = highlightWidth || plotWidth;\n      var touchHeight = highlightHeight || plotHeight;\n\n      return {\n        bottom: enableY ? Math.max(startLocY, yLoc) : touchHeight,\n        right: enableX ? Math.max(startLocX, xLoc) : touchWidth,\n        left: enableX ? Math.min(xLoc, startLocX) : 0,\n        top: enableY ? Math.min(yLoc, startLocY) : 0\n      };\n    }\n  }, {\n    key: '_getDragArea',\n    value: function _getDragArea(xLoc, yLoc) {\n      var _props2 = this.props,\n          enableX = _props2.enableX,\n          enableY = _props2.enableY;\n      var _state2 = this.state,\n          startLocX = _state2.startLocX,\n          startLocY = _state2.startLocY,\n          dragArea = _state2.dragArea;\n\n\n      return {\n        bottom: dragArea.bottom + (enableY ? yLoc - startLocY : 0),\n        left: dragArea.left + (enableX ? xLoc - startLocX : 0),\n        right: dragArea.right + (enableX ? xLoc - startLocX : 0),\n        top: dragArea.top + (enableY ? yLoc - startLocY : 0)\n      };\n    }\n  }, {\n    key: '_clickedOutsideDrag',\n    value: function _clickedOutsideDrag(xLoc, yLoc) {\n      var _props3 = this.props,\n          enableX = _props3.enableX,\n          enableY = _props3.enableY;\n      var _state3 = this.state,\n          dragArea = _state3.dragArea,\n          _state3$brushArea = _state3.brushArea,\n          left = _state3$brushArea.left,\n          right = _state3$brushArea.right,\n          top = _state3$brushArea.top,\n          bottom = _state3$brushArea.bottom;\n\n      var clickedOutsideDragX = dragArea && (xLoc < left || xLoc > right);\n      var clickedOutsideDragY = dragArea && (yLoc < top || yLoc > bottom);\n      if (enableX && enableY) {\n        return clickedOutsideDragX || clickedOutsideDragY;\n      }\n      if (enableX) {\n        return clickedOutsideDragX;\n      }\n      if (enableY) {\n        return clickedOutsideDragY;\n      }\n      return true;\n    }\n  }, {\n    key: '_convertAreaToCoordinates',\n    value: function _convertAreaToCoordinates(brushArea) {\n      // NOTE only continuous scales are supported for brushing/getting coordinates back\n      var _props4 = this.props,\n          enableX = _props4.enableX,\n          enableY = _props4.enableY,\n          marginLeft = _props4.marginLeft,\n          marginTop = _props4.marginTop;\n\n      var xScale = getAttributeScale(this.props, 'x');\n      var yScale = getAttributeScale(this.props, 'y');\n\n      // Ensure that users wishes are being respected about which scales are evaluated\n      // this is specifically enabled to ensure brushing on mixed categorical and linear\n      // charts will run as expected\n\n      if (enableX && enableY) {\n        return {\n          bottom: yScale.invert(brushArea.bottom),\n          left: xScale.invert(brushArea.left - marginLeft),\n          right: xScale.invert(brushArea.right - marginLeft),\n          top: yScale.invert(brushArea.top)\n        };\n      }\n\n      if (enableY) {\n        return {\n          bottom: yScale.invert(brushArea.bottom - marginTop),\n          top: yScale.invert(brushArea.top - marginTop)\n        };\n      }\n\n      if (enableX) {\n        return {\n          left: xScale.invert(brushArea.left - marginLeft),\n          right: xScale.invert(brushArea.right - marginLeft)\n        };\n      }\n\n      return {};\n    }\n  }, {\n    key: 'startBrushing',\n    value: function startBrushing(e) {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          onBrushStart = _props5.onBrushStart,\n          onDragStart = _props5.onDragStart,\n          drag = _props5.drag;\n      var dragArea = this.state.dragArea;\n\n      var _getLocs = getLocs(e.nativeEvent),\n          xLoc = _getLocs.xLoc,\n          yLoc = _getLocs.yLoc;\n\n      var startArea = function startArea(dragging, resetDrag) {\n        var emptyBrush = {\n          bottom: yLoc,\n          left: xLoc,\n          right: xLoc,\n          top: yLoc\n        };\n        _this2.setState({\n          dragging: dragging,\n          brushArea: dragArea && !resetDrag ? dragArea : emptyBrush,\n          brushing: !dragging,\n          startLocX: xLoc,\n          startLocY: yLoc\n        });\n      };\n\n      var clickedOutsideDrag = this._clickedOutsideDrag(xLoc, yLoc);\n      if (drag && !dragArea || !drag || clickedOutsideDrag) {\n        startArea(false, clickedOutsideDrag);\n\n        if (onBrushStart) {\n          onBrushStart(e);\n        }\n        return;\n      }\n\n      if (drag && dragArea) {\n        startArea(true, clickedOutsideDrag);\n        if (onDragStart) {\n          onDragStart(e);\n        }\n      }\n    }\n  }, {\n    key: 'stopBrushing',\n    value: function stopBrushing(e) {\n      var _state4 = this.state,\n          brushing = _state4.brushing,\n          dragging = _state4.dragging,\n          brushArea = _state4.brushArea;\n      // Quickly short-circuit if the user isn't brushing in our component\n\n      if (!brushing && !dragging) {\n        return;\n      }\n      var _props6 = this.props,\n          onBrushEnd = _props6.onBrushEnd,\n          onDragEnd = _props6.onDragEnd,\n          drag = _props6.drag;\n\n      var noHorizontal = Math.abs(brushArea.right - brushArea.left) < 5;\n      var noVertical = Math.abs(brushArea.top - brushArea.bottom) < 5;\n      // Invoke the callback with null if the selected area was < 5px\n      var isNulled = noVertical || noHorizontal;\n      // Clear the draw area\n      this.setState({\n        brushing: false,\n        dragging: false,\n        brushArea: drag ? brushArea : { top: 0, right: 0, bottom: 0, left: 0 },\n        startLocX: 0,\n        startLocY: 0,\n        dragArea: drag && !isNulled && brushArea\n      });\n\n      if (brushing && onBrushEnd) {\n        onBrushEnd(!isNulled ? this._convertAreaToCoordinates(brushArea) : null);\n      }\n\n      if (drag && onDragEnd) {\n        onDragEnd(!isNulled ? this._convertAreaToCoordinates(brushArea) : null);\n      }\n    }\n  }, {\n    key: 'onBrush',\n    value: function onBrush(e) {\n      var _props7 = this.props,\n          onBrush = _props7.onBrush,\n          onDrag = _props7.onDrag,\n          drag = _props7.drag;\n      var _state5 = this.state,\n          brushing = _state5.brushing,\n          dragging = _state5.dragging;\n\n      var _getLocs2 = getLocs(e.nativeEvent),\n          xLoc = _getLocs2.xLoc,\n          yLoc = _getLocs2.yLoc;\n\n      if (brushing) {\n        var brushArea = this._getDrawArea(xLoc, yLoc);\n        this.setState({ brushArea: brushArea });\n\n        if (onBrush) {\n          onBrush(this._convertAreaToCoordinates(brushArea));\n        }\n      }\n\n      if (drag && dragging) {\n        var _brushArea = this._getDragArea(xLoc, yLoc);\n        this.setState({ brushArea: _brushArea });\n        if (onDrag) {\n          onDrag(this._convertAreaToCoordinates(_brushArea));\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props8 = this.props,\n          color = _props8.color,\n          className = _props8.className,\n          highlightHeight = _props8.highlightHeight,\n          highlightWidth = _props8.highlightWidth,\n          highlightX = _props8.highlightX,\n          highlightY = _props8.highlightY,\n          innerWidth = _props8.innerWidth,\n          innerHeight = _props8.innerHeight,\n          marginLeft = _props8.marginLeft,\n          marginRight = _props8.marginRight,\n          marginTop = _props8.marginTop,\n          marginBottom = _props8.marginBottom,\n          opacity = _props8.opacity;\n      var _state$brushArea = this.state.brushArea,\n          left = _state$brushArea.left,\n          right = _state$brushArea.right,\n          top = _state$brushArea.top,\n          bottom = _state$brushArea.bottom;\n\n\n      var leftPos = 0;\n      if (highlightX) {\n        var xScale = getAttributeScale(this.props, 'x');\n        leftPos = xScale(highlightX);\n      }\n\n      var topPos = 0;\n      if (highlightY) {\n        var yScale = getAttributeScale(this.props, 'y');\n        topPos = yScale(highlightY);\n      }\n\n      var plotWidth = marginLeft + marginRight + innerWidth;\n      var plotHeight = marginTop + marginBottom + innerHeight;\n      var touchWidth = highlightWidth || plotWidth;\n      var touchHeight = highlightHeight || plotHeight;\n\n      return React.createElement(\n        'g',\n        {\n          transform: 'translate(' + leftPos + ', ' + topPos + ')',\n          className: className + ' rv-highlight-container'\n        },\n        React.createElement('rect', {\n          className: 'rv-mouse-target',\n          fill: 'black',\n          opacity: '0',\n          x: '0',\n          y: '0',\n          width: Math.max(touchWidth, 0),\n          height: Math.max(touchHeight, 0),\n          onMouseDown: function onMouseDown(e) {\n            return _this3.startBrushing(e);\n          },\n          onMouseMove: function onMouseMove(e) {\n            return _this3.onBrush(e);\n          },\n          onMouseUp: function onMouseUp(e) {\n            return _this3.stopBrushing(e);\n          },\n          onMouseLeave: function onMouseLeave(e) {\n            return _this3.stopBrushing(e);\n          }\n          // preventDefault() so that mouse event emulation does not happen\n          , onTouchEnd: function onTouchEnd(e) {\n            e.preventDefault();\n            _this3.stopBrushing(e);\n          },\n          onTouchCancel: function onTouchCancel(e) {\n            e.preventDefault();\n            _this3.stopBrushing(e);\n          },\n          onContextMenu: function onContextMenu(e) {\n            return e.preventDefault();\n          },\n          onContextMenuCapture: function onContextMenuCapture(e) {\n            return e.preventDefault();\n          }\n        }),\n        React.createElement('rect', {\n          className: 'rv-highlight',\n          pointerEvents: 'none',\n          opacity: opacity,\n          fill: color,\n          x: left,\n          y: top,\n          width: Math.min(Math.max(0, right - left), touchWidth),\n          height: Math.min(Math.max(0, bottom - top), touchHeight)\n        })\n      );\n    }\n  }]);\n\n  return Highlight;\n}(AbstractSeries);\n\nHighlight.displayName = 'HighlightOverlay';\nHighlight.defaultProps = {\n  color: 'rgb(77, 182, 172)',\n  className: '',\n  enableX: true,\n  enableY: true,\n  opacity: 0.3\n};\n\nHighlight.propTypes = _extends({}, AbstractSeries.propTypes, {\n  enableX: PropTypes.bool,\n  enableY: PropTypes.bool,\n  highlightHeight: PropTypes.number,\n  highlightWidth: PropTypes.number,\n  highlightX: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  highlightY: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onBrushStart: PropTypes.func,\n  onDragStart: PropTypes.func,\n  onBrush: PropTypes.func,\n  onDrag: PropTypes.func,\n  onBrushEnd: PropTypes.func,\n  onDragEnd: PropTypes.func\n});\n\nexport default Highlight;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, { PureComponent } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { transformValueToString } from '../utils/data-utils';\n\nimport { getAttributeFunctor } from '../utils/scales-utils';\n\n/*\n * Hint provides two options for placement of hint:\n * a) around a data point in one of four quadrants (imagine the point bisected\n *    by two axes -vertical, horizontal- creating 4 quadrants around a data\n *    point).\n * b) **New** pin to an edge of chart/plot area and position along that edge\n *    using data point's other dimension value.\n *\n * To support these two options, deprecate one Hint props (orientation) with two\n * new Hint align prop object (horizontal, vertical) with following values:\n *\n *   horizontal: auto, left, right, leftEdge, rightEdge\n *   vertical: auto, bottom, top, bottomEdge, topEdge\n *\n * Thus, the following ALIGN constants are the values for horizontal\n * and vertical\n */\nvar ALIGN = {\n  AUTO: 'auto',\n  LEFT: 'left',\n  RIGHT: 'right',\n  LEFT_EDGE: 'leftEdge',\n  RIGHT_EDGE: 'rightEdge',\n  BOTTOM: 'bottom',\n  TOP: 'top',\n  BOTTOM_EDGE: 'bottomEdge',\n  TOP_EDGE: 'topEdge'\n};\n\n/**\n * For backwards support, retain the ORIENTATION prop constants\n */\nvar ORIENTATION = {\n  BOTTOM_LEFT: 'bottomleft',\n  BOTTOM_RIGHT: 'bottomright',\n  TOP_LEFT: 'topleft',\n  TOP_RIGHT: 'topright'\n};\n\n/**\n * Default format function for the value.\n * @param {Object} value Value.\n * @returns {Array} title-value pairs.\n */\nfunction defaultFormat(value) {\n  return Object.keys(value).map(function getProp(key) {\n    return { title: key, value: transformValueToString(value[key]) };\n  });\n}\n\nvar Hint = function (_PureComponent) {\n  _inherits(Hint, _PureComponent);\n\n  function Hint() {\n    _classCallCheck(this, Hint);\n\n    return _possibleConstructorReturn(this, (Hint.__proto__ || Object.getPrototypeOf(Hint)).apply(this, arguments));\n  }\n\n  _createClass(Hint, [{\n    key: '_getAlign',\n\n\n    /**\n     * Obtain align object with horizontal and vertical settings\n     * but convert any AUTO values to the non-auto ALIGN depending on the\n     * values of x and y.\n     * @param {number} x X value.\n     * @param {number} y Y value.\n     * @returns {Object} Align object w/ horizontal, vertical prop strings.\n     * @private\n     */\n    value: function _getAlign(x, y) {\n      var _props = this.props,\n          innerWidth = _props.innerWidth,\n          innerHeight = _props.innerHeight,\n          orientation = _props.orientation,\n          _props$align = _props.align,\n          horizontal = _props$align.horizontal,\n          vertical = _props$align.vertical;\n\n      var align = orientation ? this._mapOrientationToAlign(orientation) : { horizontal: horizontal, vertical: vertical };\n      if (horizontal === ALIGN.AUTO) {\n        align.horizontal = x > innerWidth / 2 ? ALIGN.LEFT : ALIGN.RIGHT;\n      }\n      if (vertical === ALIGN.AUTO) {\n        align.vertical = y > innerHeight / 2 ? ALIGN.TOP : ALIGN.BOTTOM;\n      }\n      return align;\n    }\n\n    /**\n     * Get the class names from align values.\n     * @param {Object} align object with horizontal and vertical prop strings.\n     * @returns {string} Class names.\n     * @private\n     */\n\n  }, {\n    key: '_getAlignClassNames',\n    value: function _getAlignClassNames(align) {\n      var orientation = this.props.orientation;\n\n      var orientationClass = orientation ? 'rv-hint--orientation-' + orientation : '';\n      return orientationClass + ' rv-hint--horizontalAlign-' + align.horizontal + '\\n     rv-hint--verticalAlign-' + align.vertical;\n    }\n\n    /**\n     * Get a CSS mixin for a proper positioning of the element.\n     * @param {Object} align object with horizontal and vertical prop strings.\n     * @param {number} x X position.\n     * @param {number} y Y position.\n     * @returns {Object} Object, that may contain `left` or `right, `top` or\n     * `bottom` properties.\n     * @private\n     */\n\n  }, {\n    key: '_getAlignStyle',\n    value: function _getAlignStyle(align, x, y) {\n      return _extends({}, this._getXCSS(align.horizontal, x), this._getYCSS(align.vertical, y));\n    }\n\n    /**\n     * Get the bottom coordinate of the hint.\n     * When y undefined or null, edge case, pin bottom.\n     * @param {number} y Y.\n     * @returns {{bottom: *}} Mixin.\n     * @private\n     */\n\n  }, {\n    key: '_getCSSBottom',\n    value: function _getCSSBottom(y) {\n      if (y === undefined || y === null) {\n        return {\n          bottom: 0\n        };\n      }\n\n      var _props2 = this.props,\n          innerHeight = _props2.innerHeight,\n          marginBottom = _props2.marginBottom;\n\n      return {\n        bottom: marginBottom + innerHeight - y\n      };\n    }\n\n    /**\n     * Get the left coordinate of the hint.\n     * When x undefined or null, edge case, pin left.\n     * @param {number} x X.\n     * @returns {{left: *}} Mixin.\n     * @private\n     */\n\n  }, {\n    key: '_getCSSLeft',\n    value: function _getCSSLeft(x) {\n      if (x === undefined || x === null) {\n        return {\n          left: 0\n        };\n      }\n\n      var marginLeft = this.props.marginLeft;\n\n      return {\n        left: marginLeft + x\n      };\n    }\n\n    /**\n     * Get the right coordinate of the hint.\n     * When x undefined or null, edge case, pin right.\n     * @param {number} x X.\n     * @returns {{right: *}} Mixin.\n     * @private\n     */\n\n  }, {\n    key: '_getCSSRight',\n    value: function _getCSSRight(x) {\n      if (x === undefined || x === null) {\n        return {\n          right: 0\n        };\n      }\n\n      var _props3 = this.props,\n          innerWidth = _props3.innerWidth,\n          marginRight = _props3.marginRight;\n\n      return {\n        right: marginRight + innerWidth - x\n      };\n    }\n\n    /**\n     * Get the top coordinate of the hint.\n     * When y undefined or null, edge case, pin top.\n     * @param {number} y Y.\n     * @returns {{top: *}} Mixin.\n     * @private\n     */\n\n  }, {\n    key: '_getCSSTop',\n    value: function _getCSSTop(y) {\n      if (y === undefined || y === null) {\n        return {\n          top: 0\n        };\n      }\n\n      var marginTop = this.props.marginTop;\n\n      return {\n        top: marginTop + y\n      };\n    }\n\n    /**\n     * Get the position for the hint and the appropriate class name.\n     * @returns {{style: Object, positionClassName: string}} Style and className for the\n     * hint.\n     * @private\n     */\n\n  }, {\n    key: '_getPositionInfo',\n    value: function _getPositionInfo() {\n      var _props4 = this.props,\n          value = _props4.value,\n          getAlignStyle = _props4.getAlignStyle;\n\n\n      var x = getAttributeFunctor(this.props, 'x')(value);\n      var y = getAttributeFunctor(this.props, 'y')(value);\n\n      var align = this._getAlign(x, y);\n\n      return {\n        position: getAlignStyle ? getAlignStyle(align, x, y) : this._getAlignStyle(align, x, y),\n        positionClassName: this._getAlignClassNames(align)\n      };\n    }\n  }, {\n    key: '_getXCSS',\n    value: function _getXCSS(horizontal, x) {\n      // obtain xCSS\n      switch (horizontal) {\n        case ALIGN.LEFT_EDGE:\n          // this pins x to left edge\n          return this._getCSSLeft(null);\n        case ALIGN.RIGHT_EDGE:\n          // this pins x to left edge\n          return this._getCSSRight(null);\n        case ALIGN.LEFT:\n          // this places hint text to the left of center, so set its right edge\n          return this._getCSSRight(x);\n        case ALIGN.RIGHT:\n        default:\n          // this places hint text to the right of center, so set its left edge\n          // default case should not be possible but if it happens set to RIGHT\n          return this._getCSSLeft(x);\n      }\n    }\n  }, {\n    key: '_getYCSS',\n    value: function _getYCSS(verticalAlign, y) {\n      // obtain yCSS\n      switch (verticalAlign) {\n        case ALIGN.TOP_EDGE:\n          // this pins x to top edge\n          return this._getCSSTop(null);\n        case ALIGN.BOTTOM_EDGE:\n          // this pins x to bottom edge\n          return this._getCSSBottom(null);\n        case ALIGN.BOTTOM:\n          // this places hint text to the bottom of center, so set its top edge\n          return this._getCSSTop(y);\n        case ALIGN.TOP:\n        default:\n          // this places hint text to the top of center, so set its bottom edge\n          // default case should not be possible but if it happens set to BOTTOM\n          return this._getCSSBottom(y);\n      }\n    }\n  }, {\n    key: '_mapOrientationToAlign',\n    value: function _mapOrientationToAlign(orientation) {\n      // TODO: print warning that this feature is deprecated and support will be\n      // removed in next major release.\n      switch (orientation) {\n        case ORIENTATION.BOTTOM_LEFT:\n          return {\n            horizontal: ALIGN.LEFT,\n            vertical: ALIGN.BOTTOM\n          };\n        case ORIENTATION.BOTTOM_RIGHT:\n          return {\n            horizontal: ALIGN.RIGHT,\n            vertical: ALIGN.BOTTOM\n          };\n        case ORIENTATION.TOP_LEFT:\n          return {\n            horizontal: ALIGN.LEFT,\n            vertical: ALIGN.TOP\n          };\n        case ORIENTATION.TOP_RIGHT:\n          return {\n            horizontal: ALIGN.RIGHT,\n            vertical: ALIGN.TOP\n          };\n        default:\n          // fall back to horizontalAlign, verticalAlign that are either\n          // provided or defaulted to AUTO.  So, don't change things\n          break;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props5 = this.props,\n          value = _props5.value,\n          format = _props5.format,\n          children = _props5.children,\n          style = _props5.style,\n          className = _props5.className;\n\n      var _getPositionInfo2 = this._getPositionInfo(),\n          position = _getPositionInfo2.position,\n          positionClassName = _getPositionInfo2.positionClassName;\n\n      return React.createElement(\n        'div',\n        {\n          className: 'rv-hint ' + positionClassName + ' ' + className,\n          style: _extends({}, style, position, {\n            position: 'absolute'\n          })\n        },\n        children ? children : React.createElement(\n          'div',\n          { className: 'rv-hint__content', style: style.content },\n          format(value).map(function (formattedProp, i) {\n            return React.createElement(\n              'div',\n              { key: 'rv-hint' + i, style: style.row },\n              React.createElement(\n                'span',\n                { className: 'rv-hint__title', style: style.title },\n                formattedProp.title\n              ),\n              ': ',\n              React.createElement(\n                'span',\n                { className: 'rv-hint__value', style: style.value },\n                formattedProp.value\n              )\n            );\n          })\n        )\n      );\n    }\n  }], [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        format: defaultFormat,\n        align: {\n          horizontal: ALIGN.AUTO,\n          vertical: ALIGN.AUTO\n        },\n        style: {}\n      };\n    }\n  }, {\n    key: 'propTypes',\n    get: function get() {\n      return {\n        marginTop: PropTypes.number,\n        marginLeft: PropTypes.number,\n        innerWidth: PropTypes.number,\n        innerHeight: PropTypes.number,\n        scales: PropTypes.object,\n        value: PropTypes.object,\n        format: PropTypes.func,\n        style: PropTypes.object,\n        className: PropTypes.string,\n        align: PropTypes.shape({\n          horizontal: PropTypes.oneOf([ALIGN.AUTO, ALIGN.LEFT, ALIGN.RIGHT, ALIGN.LEFT_EDGE, ALIGN.RIGHT_EDGE]),\n          vertical: PropTypes.oneOf([ALIGN.AUTO, ALIGN.BOTTOM, ALIGN.TOP, ALIGN.BOTTOM_EDGE, ALIGN.TOP_EDGE])\n        }),\n        getAlignStyle: PropTypes.func,\n        orientation: PropTypes.oneOf([ORIENTATION.BOTTOM_LEFT, ORIENTATION.BOTTOM_RIGHT, ORIENTATION.TOP_LEFT, ORIENTATION.TOP_RIGHT])\n      };\n    }\n  }]);\n\n  return Hint;\n}(PureComponent);\n\nHint.displayName = 'Hint';\nHint.ORIENTATION = ORIENTATION;\nHint.ALIGN = ALIGN;\n\nexport default Hint;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS, getStackParams } from '../../utils/series-utils';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--bar';\n\nvar BarSeries = function (_AbstractSeries) {\n  _inherits(BarSeries, _AbstractSeries);\n\n  function BarSeries() {\n    _classCallCheck(this, BarSeries);\n\n    return _possibleConstructorReturn(this, (BarSeries.__proto__ || Object.getPrototypeOf(BarSeries)).apply(this, arguments));\n  }\n\n  _createClass(BarSeries, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          data = _props.data,\n          linePosAttr = _props.linePosAttr,\n          lineSizeAttr = _props.lineSizeAttr,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          style = _props.style,\n          valuePosAttr = _props.valuePosAttr,\n          valueSizeAttr = _props.valueSizeAttr,\n          barWidth = _props.barWidth;\n\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(BarSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var _getStackParams = getStackParams(this.props),\n          sameTypeTotal = _getStackParams.sameTypeTotal,\n          sameTypeIndex = _getStackParams.sameTypeIndex;\n\n      var distance = this._getScaleDistance(linePosAttr);\n      var lineFunctor = this._getAttributeFunctor(linePosAttr);\n      var valueFunctor = this._getAttributeFunctor(valuePosAttr);\n      var value0Functor = this._getAttr0Functor(valuePosAttr);\n      var fillFunctor = this._getAttributeFunctor('fill') || this._getAttributeFunctor('color');\n      var strokeFunctor = this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color');\n      var opacityFunctor = this._getAttributeFunctor('opacity');\n\n      var halfSpace = distance / 2 * barWidth;\n\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        data.map(function (d, i) {\n          var _attrs;\n\n          // totalSpaceAvailable is the space we have available to draw all the\n          // bars of a same 'linePosAttr' value (a.k.a. sameTypeTotal)\n          var totalSpaceAvailable = halfSpace * 2;\n          var totalSpaceCenter = lineFunctor(d);\n          // totalSpaceStartingPoint is the first pixel were we can start drawing\n          var totalSpaceStartingPoint = totalSpaceCenter - halfSpace;\n          // spaceTakenByInterBarsPixels has the overhead space consumed by each bar of sameTypeTotal\n          var spaceTakenByInterBarsPixels = (sameTypeTotal - 1) / sameTypeTotal;\n          // spacePerBar is the space we have available to draw sameTypeIndex bar\n          var spacePerBar = totalSpaceAvailable / sameTypeTotal - spaceTakenByInterBarsPixels;\n          // barStartingPoint is the first pixel were we can start drawing sameTypeIndex bar\n          var barStartingPoint = totalSpaceStartingPoint + spacePerBar * sameTypeIndex + sameTypeIndex;\n\n          var attrs = (_attrs = {\n            style: _extends({\n              opacity: opacityFunctor && opacityFunctor(d),\n              stroke: strokeFunctor && strokeFunctor(d),\n              fill: fillFunctor && fillFunctor(d)\n            }, style)\n          }, _defineProperty(_attrs, linePosAttr, barStartingPoint), _defineProperty(_attrs, lineSizeAttr, spacePerBar), _defineProperty(_attrs, valuePosAttr, Math.min(value0Functor(d), valueFunctor(d))), _defineProperty(_attrs, valueSizeAttr, Math.abs(-value0Functor(d) + valueFunctor(d))), _defineProperty(_attrs, 'onClick', function onClick(e) {\n            return _this2._valueClickHandler(d, e);\n          }), _defineProperty(_attrs, 'onContextMenu', function onContextMenu(e) {\n            return _this2._valueRightClickHandler(d, e);\n          }), _defineProperty(_attrs, 'onMouseOver', function onMouseOver(e) {\n            return _this2._valueMouseOverHandler(d, e);\n          }), _defineProperty(_attrs, 'onMouseOut', function onMouseOut(e) {\n            return _this2._valueMouseOutHandler(d, e);\n          }), _defineProperty(_attrs, 'key', i), _attrs);\n          return React.createElement('rect', attrs);\n        })\n      );\n    }\n  }], [{\n    key: 'propTypes',\n    get: function get() {\n      return _extends({}, AbstractSeries.propTypes, {\n        linePosAttr: PropTypes.string,\n        valuePosAttr: PropTypes.string,\n        lineSizeAttr: PropTypes.string,\n        valueSizeAttr: PropTypes.string,\n        cluster: PropTypes.string,\n        barWidth: PropTypes.number\n      });\n    }\n  }, {\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        barWidth: 0.85\n      };\n    }\n  }]);\n\n  return BarSeries;\n}(AbstractSeries);\n\nBarSeries.displayName = 'BarSeries';\n\nexport default BarSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport AbstractSeries from './abstract-series';\nimport BarSeries from './bar-series';\n\nvar HorizontalBarSeries = function (_AbstractSeries) {\n  _inherits(HorizontalBarSeries, _AbstractSeries);\n\n  function HorizontalBarSeries() {\n    _classCallCheck(this, HorizontalBarSeries);\n\n    return _possibleConstructorReturn(this, (HorizontalBarSeries.__proto__ || Object.getPrototypeOf(HorizontalBarSeries)).apply(this, arguments));\n  }\n\n  _createClass(HorizontalBarSeries, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(BarSeries, _extends({}, this.props, {\n        linePosAttr: 'y',\n        valuePosAttr: 'x',\n        lineSizeAttr: 'height',\n        valueSizeAttr: 'width'\n      }));\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = attr === 'y';\n      var zeroBaseValue = attr === 'x';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }]);\n\n  return HorizontalBarSeries;\n}(AbstractSeries);\n\nHorizontalBarSeries.displayName = 'HorizontalBarSeries';\n\nexport default HorizontalBarSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport PropTypes from 'prop-types';\nimport { rgb } from 'd3-color';\n\nimport { DEFAULT_OPACITY } from '../../theme';\nimport { getAttributeFunctor, getScaleObjectFromProps, getAttr0Functor } from '../../utils/scales-utils';\nimport { getStackParams } from '../../utils/series-utils';\nimport AbstractSeries from './abstract-series';\n\nfunction getScaleDistance(props, attr) {\n  var scaleObject = getScaleObjectFromProps(props, attr);\n  return scaleObject ? scaleObject.distance : 0;\n}\n\nvar BarSeriesCanvas = function (_AbstractSeries) {\n  _inherits(BarSeriesCanvas, _AbstractSeries);\n\n  function BarSeriesCanvas() {\n    _classCallCheck(this, BarSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (BarSeriesCanvas.__proto__ || Object.getPrototypeOf(BarSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(BarSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      var data = props.data,\n          linePosAttr = props.linePosAttr,\n          lineSizeAttr = props.lineSizeAttr,\n          valuePosAttr = props.valuePosAttr,\n          marginTop = props.marginTop,\n          marginBottom = props.marginBottom;\n\n      if (!data || data.length === 0) {\n        return;\n      }\n\n      var distance = getScaleDistance(props, linePosAttr);\n      var line = getAttributeFunctor(props, linePosAttr);\n      var value = getAttributeFunctor(props, valuePosAttr);\n      var value0 = getAttr0Functor(props, valuePosAttr);\n      var fill = getAttributeFunctor(props, 'fill') || getAttributeFunctor(props, 'color');\n      var stroke = getAttributeFunctor(props, 'stroke') || getAttributeFunctor(props, 'color');\n      var opacity = getAttributeFunctor(props, 'opacity');\n\n      var halfSpace = distance / 2 * 0.85;\n      // totalSpaceAvailable is the space we have available to draw all the\n      // bars of a same 'linePosAttr' value (a.k.a. sameTypeTotal)\n      var totalSpaceAvailable = halfSpace * 2;\n\n      var _getStackParams = getStackParams(props),\n          sameTypeTotal = _getStackParams.sameTypeTotal,\n          sameTypeIndex = _getStackParams.sameTypeIndex;\n\n      data.forEach(function (row) {\n        var totalSpaceCenter = line(row);\n        // totalSpaceStartingPoint is the first pixel were we can start drawing\n        var totalSpaceStartingPoint = totalSpaceCenter - halfSpace;\n\n        // spaceTakenByInterBarsPixels has the overhead space consumed by each bar of sameTypeTotal\n        var spaceTakenByInterBarsPixels = (sameTypeTotal - 1) / sameTypeTotal;\n        // lineSize is the space we have available to draw sameTypeIndex bar\n        var lineSize = totalSpaceAvailable / sameTypeTotal - spaceTakenByInterBarsPixels;\n\n        var fillColor = rgb(fill(row));\n        var strokeColor = rgb(stroke(row));\n        var rowOpacity = opacity(row) || DEFAULT_OPACITY;\n\n        // linePos is the first pixel were we can start drawing sameTypeIndex bar\n        var linePos = totalSpaceStartingPoint + lineSize * sameTypeIndex + sameTypeIndex;\n        var valuePos = Math.min(value0(row), value(row));\n        var x = valuePosAttr === 'x' ? valuePos : linePos;\n        var y = valuePosAttr === 'y' ? valuePos : linePos;\n\n        var valueSize = Math.abs(-value0(row) + value(row));\n        var height = lineSizeAttr === 'height' ? lineSize : valueSize;\n        var width = lineSizeAttr === 'width' ? lineSize : valueSize;\n\n        ctx.beginPath();\n        ctx.rect(x + marginBottom, y + marginTop, width, height);\n        ctx.fillStyle = 'rgba(' + fillColor.r + ', ' + fillColor.g + ', ' + fillColor.b + ', ' + rowOpacity + ')';\n        ctx.fill();\n        ctx.strokeStyle = 'rgba(' + strokeColor.r + ', ' + strokeColor.g + ', ' + strokeColor.b + ', ' + rowOpacity + ')';\n        ctx.stroke();\n      });\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return BarSeriesCanvas;\n}(AbstractSeries);\n\nBarSeriesCanvas.displayName = 'BarSeriesCanvas';\nBarSeriesCanvas.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  linePosAttr: PropTypes.string.isRequired,\n  valuePosAttr: PropTypes.string.isRequired,\n  lineSizeAttr: PropTypes.string.isRequired,\n  valueSizeAttr: PropTypes.string.isRequired\n});\n\nBarSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default BarSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport AbstractSeries from './abstract-series';\nimport BarSeries from './bar-series-canvas';\n\nvar HorizontalBarSeriesCanvas = function (_AbstractSeries) {\n  _inherits(HorizontalBarSeriesCanvas, _AbstractSeries);\n\n  function HorizontalBarSeriesCanvas() {\n    _classCallCheck(this, HorizontalBarSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (HorizontalBarSeriesCanvas.__proto__ || Object.getPrototypeOf(HorizontalBarSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(HorizontalBarSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = attr === 'y';\n      var zeroBaseValue = attr === 'x';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }, {\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      BarSeries.renderLayer(_extends({}, props, {\n        linePosAttr: 'y',\n        valuePosAttr: 'x',\n        lineSizeAttr: 'height',\n        valueSizeAttr: 'width'\n      }), ctx);\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return HorizontalBarSeriesCanvas;\n}(AbstractSeries);\n\nHorizontalBarSeriesCanvas.displayName = 'HorizontalBarSeriesCanvas';\nHorizontalBarSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default HorizontalBarSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { DIRECTION } from '../utils/axis-utils';\nimport GridLines from './grid-lines';\n\nvar HORIZONTAL = DIRECTION.HORIZONTAL;\n\n\nvar propTypes = _extends({}, GridLines.propTypes, {\n  direction: PropTypes.oneOf([HORIZONTAL])\n});\n\nvar defaultProps = {\n  direction: HORIZONTAL,\n  attr: 'y'\n};\n\nfunction HorizontalGridLines(props) {\n  return React.createElement(GridLines, props);\n}\n\nHorizontalGridLines.displayName = 'HorizontalGridLines';\nHorizontalGridLines.propTypes = propTypes;\nHorizontalGridLines.defaultProps = defaultProps;\nHorizontalGridLines.requiresSVG = true;\n\nexport default HorizontalGridLines;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--rect';\n\nvar RectSeries = function (_AbstractSeries) {\n  _inherits(RectSeries, _AbstractSeries);\n\n  function RectSeries() {\n    _classCallCheck(this, RectSeries);\n\n    return _possibleConstructorReturn(this, (RectSeries.__proto__ || Object.getPrototypeOf(RectSeries)).apply(this, arguments));\n  }\n\n  _createClass(RectSeries, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          data = _props.data,\n          linePosAttr = _props.linePosAttr,\n          lineSizeAttr = _props.lineSizeAttr,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          style = _props.style,\n          valuePosAttr = _props.valuePosAttr,\n          valueSizeAttr = _props.valueSizeAttr;\n\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(RectSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var lineFunctor = this._getAttributeFunctor(linePosAttr);\n      var line0Functor = this._getAttr0Functor(linePosAttr);\n      var valueFunctor = this._getAttributeFunctor(valuePosAttr);\n      var value0Functor = this._getAttr0Functor(valuePosAttr);\n      var fillFunctor = this._getAttributeFunctor('fill') || this._getAttributeFunctor('color');\n      var strokeFunctor = this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color');\n      var opacityFunctor = this._getAttributeFunctor('opacity');\n\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        data.map(function (d, i) {\n          var _attrs;\n\n          var attrs = (_attrs = {\n            style: _extends({\n              opacity: opacityFunctor && opacityFunctor(d),\n              stroke: strokeFunctor && strokeFunctor(d),\n              fill: fillFunctor && fillFunctor(d)\n            }, style)\n          }, _defineProperty(_attrs, linePosAttr, line0Functor(d)), _defineProperty(_attrs, lineSizeAttr, Math.abs(lineFunctor(d) - line0Functor(d))), _defineProperty(_attrs, valuePosAttr, Math.min(value0Functor(d), valueFunctor(d))), _defineProperty(_attrs, valueSizeAttr, Math.abs(-value0Functor(d) + valueFunctor(d))), _defineProperty(_attrs, 'onClick', function onClick(e) {\n            return _this2._valueClickHandler(d, e);\n          }), _defineProperty(_attrs, 'onContextMenu', function onContextMenu(e) {\n            return _this2._valueRightClickHandler(d, e);\n          }), _defineProperty(_attrs, 'onMouseOver', function onMouseOver(e) {\n            return _this2._valueMouseOverHandler(d, e);\n          }), _defineProperty(_attrs, 'onMouseOut', function onMouseOut(e) {\n            return _this2._valueMouseOutHandler(d, e);\n          }), _defineProperty(_attrs, 'key', i), _attrs);\n          return React.createElement('rect', attrs);\n        })\n      );\n    }\n  }], [{\n    key: 'propTypes',\n    get: function get() {\n      return _extends({}, AbstractSeries.propTypes, {\n        linePosAttr: PropTypes.string,\n        valuePosAttr: PropTypes.string,\n        lineSizeAttr: PropTypes.string,\n        valueSizeAttr: PropTypes.string\n      });\n    }\n  }]);\n\n  return RectSeries;\n}(AbstractSeries);\n\nRectSeries.displayName = 'RectSeries';\n\nexport default RectSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport AbstractSeries from './abstract-series';\nimport RectSeries from './rect-series';\n\nvar HorizontalRectSeries = function (_AbstractSeries) {\n  _inherits(HorizontalRectSeries, _AbstractSeries);\n\n  function HorizontalRectSeries() {\n    _classCallCheck(this, HorizontalRectSeries);\n\n    return _possibleConstructorReturn(this, (HorizontalRectSeries.__proto__ || Object.getPrototypeOf(HorizontalRectSeries)).apply(this, arguments));\n  }\n\n  _createClass(HorizontalRectSeries, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(RectSeries, _extends({}, this.props, {\n        linePosAttr: 'y',\n        valuePosAttr: 'x',\n        lineSizeAttr: 'height',\n        valueSizeAttr: 'width'\n      }));\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = false;\n      var zeroBaseValue = attr === 'x';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }]);\n\n  return HorizontalRectSeries;\n}(AbstractSeries);\n\nHorizontalRectSeries.displayName = 'HorizontalRectSeries';\n\nexport default HorizontalRectSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport PropTypes from 'prop-types';\nimport { rgb } from 'd3-color';\n\nimport { DEFAULT_OPACITY } from '../../theme';\nimport { getAttributeFunctor, getAttr0Functor } from '../../utils/scales-utils';\nimport AbstractSeries from './abstract-series';\n\nvar RectSeriesCanvas = function (_AbstractSeries) {\n  _inherits(RectSeriesCanvas, _AbstractSeries);\n\n  function RectSeriesCanvas() {\n    _classCallCheck(this, RectSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (RectSeriesCanvas.__proto__ || Object.getPrototypeOf(RectSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(RectSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      var data = props.data,\n          linePosAttr = props.linePosAttr,\n          lineSizeAttr = props.lineSizeAttr,\n          marginLeft = props.marginLeft,\n          marginTop = props.marginTop,\n          valuePosAttr = props.valuePosAttr;\n\n      if (!data || data.length === 0) {\n        return;\n      }\n\n      var line = getAttributeFunctor(props, linePosAttr);\n      var line0 = getAttr0Functor(props, linePosAttr);\n      var value = getAttributeFunctor(props, valuePosAttr);\n      var value0 = getAttr0Functor(props, valuePosAttr);\n      var fill = getAttributeFunctor(props, 'fill') || getAttributeFunctor(props, 'color');\n      var stroke = getAttributeFunctor(props, 'stroke') || getAttributeFunctor(props, 'color');\n      var opacity = getAttributeFunctor(props, 'opacity');\n\n      data.forEach(function (row) {\n        var fillColor = rgb(fill(row));\n        var strokeColor = rgb(stroke(row));\n        var rowOpacity = opacity(row) || DEFAULT_OPACITY;\n\n        var linePos = line0(row);\n        var valuePos = Math.min(value0(row), value(row));\n        var x = valuePosAttr === 'x' ? valuePos : linePos;\n        var y = valuePosAttr === 'y' ? valuePos : linePos;\n\n        var lineSize = Math.abs(line(row) - line0(row));\n        var valueSize = Math.abs(-value0(row) + value(row));\n        var height = lineSizeAttr === 'height' ? lineSize : valueSize;\n        var width = lineSizeAttr === 'width' ? lineSize : valueSize;\n\n        ctx.beginPath();\n        ctx.rect(x + marginLeft, y + marginTop, width, height);\n        ctx.fillStyle = 'rgba(' + fillColor.r + ', ' + fillColor.g + ', ' + fillColor.b + ', ' + rowOpacity + ')';\n        ctx.fill();\n        ctx.strokeStyle = 'rgba(' + strokeColor.r + ', ' + strokeColor.g + ', ' + strokeColor.b + ', ' + rowOpacity + ')';\n        ctx.stroke();\n      });\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return RectSeriesCanvas;\n}(AbstractSeries);\n\nRectSeriesCanvas.displayName = 'RectSeriesCanvas';\nRectSeriesCanvas.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  linePosAttr: PropTypes.string.isRequired,\n  valuePosAttr: PropTypes.string.isRequired,\n  lineSizeAttr: PropTypes.string.isRequired,\n  valueSizeAttr: PropTypes.string.isRequired\n});\n\nRectSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default RectSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport AbstractSeries from './abstract-series';\nimport RectSeries from './rect-series-canvas';\n\nvar HorizontalRectSeriesCanvas = function (_AbstractSeries) {\n  _inherits(HorizontalRectSeriesCanvas, _AbstractSeries);\n\n  function HorizontalRectSeriesCanvas() {\n    _classCallCheck(this, HorizontalRectSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (HorizontalRectSeriesCanvas.__proto__ || Object.getPrototypeOf(HorizontalRectSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(HorizontalRectSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = false;\n      var zeroBaseValue = attr === 'x';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }, {\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      RectSeries.renderLayer(_extends({}, props, {\n        linePosAttr: 'y',\n        valuePosAttr: 'x',\n        lineSizeAttr: 'height',\n        valueSizeAttr: 'width'\n      }), ctx);\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return HorizontalRectSeriesCanvas;\n}(AbstractSeries);\n\nHorizontalRectSeriesCanvas.displayName = 'HorizontalRectSeriesCanvas';\nHorizontalRectSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default HorizontalRectSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport AbstractSeries from './abstract-series';\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--label';\n\nvar getTextAnchor = function getTextAnchor(labelAnchorX, leftOfMiddle) {\n  return labelAnchorX ? labelAnchorX : leftOfMiddle ? 'start' : 'end';\n};\nvar getDominantBaseline = function getDominantBaseline(labelAnchorY, aboveMiddle) {\n  return labelAnchorY ? labelAnchorY : aboveMiddle ? 'text-before-edge' : 'text-after-edge';\n};\n\nvar LabelSeries = function (_AbstractSeries) {\n  _inherits(LabelSeries, _AbstractSeries);\n\n  function LabelSeries() {\n    _classCallCheck(this, LabelSeries);\n\n    return _possibleConstructorReturn(this, (LabelSeries.__proto__ || Object.getPrototypeOf(LabelSeries)).apply(this, arguments));\n  }\n\n  _createClass(LabelSeries, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          allowOffsetToBeReversed = _props.allowOffsetToBeReversed,\n          className = _props.className,\n          data = _props.data,\n          _data = _props._data,\n          getLabel = _props.getLabel,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          rotation = _props.rotation,\n          style = _props.style,\n          xRange = _props.xRange,\n          yRange = _props.yRange,\n          labelAnchorX = _props.labelAnchorX,\n          labelAnchorY = _props.labelAnchorY;\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(LabelSeries, _extends({}, this.props, { animation: null, _data: data }))\n        );\n      }\n\n      var xFunctor = this._getAttributeFunctor('x');\n      var yFunctor = this._getAttributeFunctor('y');\n\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')',\n          style: style\n        },\n        data.reduce(function (res, d, i) {\n          var markStyle = d.style,\n              xOffset = d.xOffset,\n              yOffset = d.yOffset;\n\n          if (!getLabel(d)) {\n            return res;\n          }\n          var xVal = xFunctor(d);\n          var yVal = yFunctor(d);\n          var leftOfMiddle = xVal < (xRange[1] - xRange[0]) / 2;\n          var aboveMiddle = yVal < Math.abs(yRange[1] - yRange[0]) / 2;\n\n          var x = xVal + (allowOffsetToBeReversed && leftOfMiddle ? -1 : 1) * (xOffset || 0);\n          var y = yVal + (allowOffsetToBeReversed && aboveMiddle ? -1 : 1) * (yOffset || 0);\n\n          var hasRotationValueSet = d.rotation === 0 || d.rotation;\n          var labelRotation = hasRotationValueSet ? d.rotation : rotation;\n          var attrs = _extends({\n            dominantBaseline: getDominantBaseline(labelAnchorY, aboveMiddle),\n            className: 'rv-xy-plot__series--label-text',\n            key: i,\n            onClick: function onClick(e) {\n              return _this2._valueClickHandler(d, e);\n            },\n            onContextMenu: function onContextMenu(e) {\n              return _this2._valueRightClickHandler(d, e);\n            },\n            onMouseOver: function onMouseOver(e) {\n              return _this2._valueMouseOverHandler(d, e);\n            },\n            onMouseOut: function onMouseOut(e) {\n              return _this2._valueMouseOutHandler(d, e);\n            },\n            textAnchor: getTextAnchor(labelAnchorX, leftOfMiddle),\n            x: x,\n            y: y,\n            transform: 'rotate(' + labelRotation + ',' + x + ',' + y + ')'\n          }, markStyle);\n          var textContent = getLabel(_data ? _data[i] : d);\n          return res.concat([React.createElement(\n            'text',\n            attrs,\n            textContent\n          )]);\n        }, [])\n      );\n    }\n  }]);\n\n  return LabelSeries;\n}(AbstractSeries);\n\nLabelSeries.propTypes = {\n  animation: PropTypes.bool,\n  allowOffsetToBeReversed: PropTypes.bool,\n  className: PropTypes.string,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    angle: PropTypes.number,\n    radius: PropTypes.number,\n    label: PropTypes.string,\n    xOffset: PropTypes.number,\n    yOffset: PropTypes.number,\n    style: PropTypes.object\n  })).isRequired,\n  marginLeft: PropTypes.number,\n  marginTop: PropTypes.number,\n  rotation: PropTypes.number,\n  style: PropTypes.object,\n  xRange: PropTypes.arrayOf(PropTypes.number),\n  yRange: PropTypes.arrayOf(PropTypes.number),\n  labelAnchorX: PropTypes.string,\n  labelAnchorY: PropTypes.string\n};\nLabelSeries.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  animation: false,\n  rotation: 0,\n  getLabel: function getLabel(d) {\n    return d.label;\n  }\n});\nLabelSeries.displayName = 'LabelSeries';\nexport default LabelSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as d3Shape from 'd3-shape';\n\nimport Animation from '../../animation';\nimport { DEFAULT_OPACITY } from '../../theme';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nimport { warning } from '../../utils/react-utils';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--line';\n\nvar STROKE_STYLES = {\n  dashed: '6, 2',\n  solid: null\n};\n\nvar LineSeries = function (_AbstractSeries) {\n  _inherits(LineSeries, _AbstractSeries);\n\n  function LineSeries() {\n    _classCallCheck(this, LineSeries);\n\n    return _possibleConstructorReturn(this, (LineSeries.__proto__ || Object.getPrototypeOf(LineSeries)).apply(this, arguments));\n  }\n\n  _createClass(LineSeries, [{\n    key: '_renderLine',\n    value: function _renderLine(data, x, y, curve, getNull) {\n      var line = d3Shape.line();\n      if (curve !== null) {\n        if (typeof curve === 'string' && d3Shape[curve]) {\n          line = line.curve(d3Shape[curve]);\n        } else if (typeof curve === 'function') {\n          line = line.curve(curve);\n        }\n      }\n      line = line.defined(getNull);\n      line = line.x(x).y(y);\n      return line(data);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          data = _props.data;\n\n\n      if (this.props.nullAccessor) {\n        warning('nullAccessor has been renamed to getNull', true);\n      }\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(LineSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var _props2 = this.props,\n          curve = _props2.curve,\n          marginLeft = _props2.marginLeft,\n          marginTop = _props2.marginTop,\n          strokeDasharray = _props2.strokeDasharray,\n          strokeStyle = _props2.strokeStyle,\n          strokeWidth = _props2.strokeWidth,\n          style = _props2.style;\n\n\n      var x = this._getAttributeFunctor('x');\n      var y = this._getAttributeFunctor('y');\n      var stroke = this._getAttributeValue('stroke') || this._getAttributeValue('color');\n      var newOpacity = this._getAttributeValue('opacity');\n      var opacity = Number.isFinite(newOpacity) ? newOpacity : DEFAULT_OPACITY;\n      var getNull = this.props.nullAccessor || this.props.getNull;\n      var d = this._renderLine(data, x, y, curve, getNull);\n\n      return React.createElement('path', {\n        d: d,\n        className: predefinedClassName + ' ' + className,\n        transform: 'translate(' + marginLeft + ',' + marginTop + ')',\n        onMouseOver: this._seriesMouseOverHandler,\n        onMouseOut: this._seriesMouseOutHandler,\n        onClick: this._seriesClickHandler,\n        onContextMenu: this._seriesRightClickHandler,\n        style: _extends({\n          opacity: opacity,\n          strokeDasharray: STROKE_STYLES[strokeStyle] || strokeDasharray,\n          strokeWidth: strokeWidth,\n          stroke: stroke\n        }, style)\n      });\n    }\n  }]);\n\n  return LineSeries;\n}(AbstractSeries);\n\nLineSeries.displayName = 'LineSeries';\nLineSeries.propTypes = _extends({}, AbstractSeries.propTypes, {\n  strokeStyle: PropTypes.oneOf(Object.keys(STROKE_STYLES)),\n  curve: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  getNull: PropTypes.func\n});\nLineSeries.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  strokeStyle: 'solid',\n  style: {},\n  opacity: 1,\n  curve: null,\n  className: '',\n  getNull: function getNull() {\n    return true;\n  }\n});\n\nexport default LineSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nimport { warning } from '../../utils/react-utils';\nimport { DEFAULT_SIZE, DEFAULT_OPACITY } from '../../theme';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--mark';\nvar DEFAULT_STROKE_WIDTH = 1;\n\nvar MarkSeries = function (_AbstractSeries) {\n  _inherits(MarkSeries, _AbstractSeries);\n\n  function MarkSeries() {\n    _classCallCheck(this, MarkSeries);\n\n    return _possibleConstructorReturn(this, (MarkSeries.__proto__ || Object.getPrototypeOf(MarkSeries)).apply(this, arguments));\n  }\n\n  _createClass(MarkSeries, [{\n    key: '_renderCircle',\n    value: function _renderCircle(d, i, strokeWidth, style, scalingFunctions) {\n      var _this2 = this;\n\n      var fill = scalingFunctions.fill,\n          opacity = scalingFunctions.opacity,\n          size = scalingFunctions.size,\n          stroke = scalingFunctions.stroke,\n          x = scalingFunctions.x,\n          y = scalingFunctions.y;\n\n\n      var attrs = {\n        r: size ? size(d) : DEFAULT_SIZE,\n        cx: x(d),\n        cy: y(d),\n        style: _extends({\n          opacity: opacity ? opacity(d) : DEFAULT_OPACITY,\n          stroke: stroke && stroke(d),\n          fill: fill && fill(d),\n          strokeWidth: strokeWidth || DEFAULT_STROKE_WIDTH\n        }, style),\n        key: i,\n        onClick: function onClick(e) {\n          return _this2._valueClickHandler(d, e);\n        },\n        onContextMenu: function onContextMenu(e) {\n          return _this2._valueRightClickHandler(d, e);\n        },\n        onMouseOver: function onMouseOver(e) {\n          return _this2._valueMouseOverHandler(d, e);\n        },\n        onMouseOut: function onMouseOut(e) {\n          return _this2._valueMouseOutHandler(d, e);\n        }\n      };\n      return React.createElement('circle', attrs);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          data = _props.data,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          strokeWidth = _props.strokeWidth,\n          style = _props.style;\n\n\n      if (this.props.nullAccessor) {\n        warning('nullAccessor has been renamed to getNull', true);\n      }\n\n      var getNull = this.props.nullAccessor || this.props.getNull;\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(MarkSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var scalingFunctions = {\n        fill: this._getAttributeFunctor('fill') || this._getAttributeFunctor('color'),\n        opacity: this._getAttributeFunctor('opacity'),\n        size: this._getAttributeFunctor('size'),\n        stroke: this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color'),\n        x: this._getAttributeFunctor('x'),\n        y: this._getAttributeFunctor('y')\n      };\n\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        data.map(function (d, i) {\n          return getNull(d) && _this3._renderCircle(d, i, strokeWidth, style, scalingFunctions);\n        })\n      );\n    }\n  }]);\n\n  return MarkSeries;\n}(AbstractSeries);\n\nMarkSeries.displayName = 'MarkSeries';\nMarkSeries.propTypes = _extends({}, AbstractSeries.propTypes, {\n  getNull: PropTypes.func,\n  strokeWidth: PropTypes.number\n});\nMarkSeries.defaultProps = {\n  getNull: function getNull() {\n    return true;\n  }\n};\n\nexport default MarkSeries;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AbstractSeries from './abstract-series';\nimport LineSeries from './line-series';\nimport MarkSeries from './mark-series';\n\nvar propTypes = _extends({}, LineSeries.propTypes, {\n  lineStyle: PropTypes.object,\n  markStyle: PropTypes.object\n});\n\nvar LineMarkSeries = function (_AbstractSeries) {\n  _inherits(LineMarkSeries, _AbstractSeries);\n\n  function LineMarkSeries() {\n    _classCallCheck(this, LineMarkSeries);\n\n    return _possibleConstructorReturn(this, (LineMarkSeries.__proto__ || Object.getPrototypeOf(LineMarkSeries)).apply(this, arguments));\n  }\n\n  _createClass(LineMarkSeries, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          lineStyle = _props.lineStyle,\n          markStyle = _props.markStyle,\n          style = _props.style;\n\n      return React.createElement(\n        'g',\n        { className: 'rv-xy-plot__series rv-xy-plot__series--linemark' },\n        React.createElement(LineSeries, _extends({}, this.props, { style: _extends({}, style, lineStyle) })),\n        React.createElement(MarkSeries, _extends({}, this.props, { style: _extends({}, style, markStyle) }))\n      );\n    }\n  }], [{\n    key: 'defaultProps',\n    get: function get() {\n      return _extends({}, LineSeries.defaultProps, {\n        lineStyle: {},\n        markStyle: {}\n      });\n    }\n  }]);\n\n  return LineMarkSeries;\n}(AbstractSeries);\n\nLineMarkSeries.displayName = 'LineMarkSeries';\nLineMarkSeries.propTypes = propTypes;\n\nexport default LineMarkSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport { rgb } from 'd3-color';\n\nimport { DEFAULT_SIZE, DEFAULT_OPACITY } from '../../theme';\nimport { getAttributeFunctor } from '../../utils/scales-utils';\n\nimport AbstractSeries from './abstract-series';\n\nvar MarkSeriesCanvas = function (_AbstractSeries) {\n  _inherits(MarkSeriesCanvas, _AbstractSeries);\n\n  function MarkSeriesCanvas() {\n    _classCallCheck(this, MarkSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (MarkSeriesCanvas.__proto__ || Object.getPrototypeOf(MarkSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(MarkSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      var data = props.data,\n          marginLeft = props.marginLeft,\n          marginTop = props.marginTop;\n\n\n      var x = getAttributeFunctor(props, 'x');\n      var y = getAttributeFunctor(props, 'y');\n      var size = getAttributeFunctor(props, 'size') || function (p) {\n        return DEFAULT_SIZE;\n      };\n      var fill = getAttributeFunctor(props, 'fill') || getAttributeFunctor(props, 'color');\n      var stroke = getAttributeFunctor(props, 'stroke') || getAttributeFunctor(props, 'color');\n      var opacity = getAttributeFunctor(props, 'opacity');\n\n      data.forEach(function (row) {\n        var fillColor = rgb(fill(row));\n        var strokeColor = rgb(stroke(row));\n        var rowOpacity = opacity(row) || DEFAULT_OPACITY;\n        ctx.beginPath();\n        ctx.arc(x(row) + marginLeft, y(row) + marginTop, size(row), 0, 2 * Math.PI);\n        ctx.fillStyle = 'rgba(' + fillColor.r + ', ' + fillColor.g + ', ' + fillColor.b + ', ' + rowOpacity + ')';\n        ctx.fill();\n        ctx.strokeStyle = 'rgba(' + strokeColor.r + ', ' + strokeColor.g + ', ' + strokeColor.b + ', ' + rowOpacity + ')';\n        ctx.stroke();\n      });\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return MarkSeriesCanvas;\n}(AbstractSeries);\n\nMarkSeriesCanvas.displayName = 'MarkSeriesCanvas';\n\nMarkSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default MarkSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport PropTypes from 'prop-types';\nimport { rgb } from 'd3-color';\nimport * as d3Shape from 'd3-shape';\nimport React from 'react';\n\nimport { DEFAULT_OPACITY } from '../../theme';\nimport { getAttributeFunctor, getAttributeValue } from '../../utils/scales-utils';\nimport AbstractSeries from './abstract-series';\n\nvar LineSeriesCanvas = function (_AbstractSeries) {\n  _inherits(LineSeriesCanvas, _AbstractSeries);\n\n  function LineSeriesCanvas() {\n    _classCallCheck(this, LineSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (LineSeriesCanvas.__proto__ || Object.getPrototypeOf(LineSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(LineSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', null);\n    }\n  }], [{\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      var curve = props.curve,\n          data = props.data,\n          marginLeft = props.marginLeft,\n          marginTop = props.marginTop,\n          strokeWidth = props.strokeWidth,\n          strokeDasharray = props.strokeDasharray;\n\n      if (!data || data.length === 0) {\n        return;\n      }\n\n      var x = getAttributeFunctor(props, 'x');\n      var y = getAttributeFunctor(props, 'y');\n      var stroke = getAttributeValue(props, 'stroke') || getAttributeValue(props, 'color');\n      var strokeColor = rgb(stroke);\n      var newOpacity = getAttributeValue(props, 'opacity');\n      var opacity = Number.isFinite(newOpacity) ? newOpacity : DEFAULT_OPACITY;\n      var line = d3Shape.line().x(function (row) {\n        return x(row) + marginLeft;\n      }).y(function (row) {\n        return y(row) + marginTop;\n      });\n      if (typeof curve === 'string' && d3Shape[curve]) {\n        line = line.curve(d3Shape[curve]);\n      } else if (typeof curve === 'function') {\n        line = line.curve(curve);\n      }\n\n      ctx.beginPath();\n      ctx.strokeStyle = 'rgba(' + strokeColor.r + ', ' + strokeColor.g + ', ' + strokeColor.b + ', ' + opacity + ')';\n      ctx.lineWidth = strokeWidth;\n\n      if (strokeDasharray) {\n        ctx.setLineDash(strokeDasharray);\n      }\n\n      line.context(ctx)(data);\n      ctx.stroke();\n      ctx.closePath();\n      // set back to default\n      ctx.lineWidth = 1;\n      ctx.setLineDash([]);\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return LineSeriesCanvas;\n}(AbstractSeries);\n\nLineSeriesCanvas.displayName = 'LineSeriesCanvas';\nLineSeriesCanvas.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  strokeWidth: 2\n});\n\nLineSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes, {\n  strokeWidth: PropTypes.number\n});\n\nexport default LineSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport AbstractSeries from './abstract-series';\nimport MarkSeriesCanvas from './mark-series-canvas';\nimport LineSeriesCanvas from './line-series-canvas';\n\nvar LineMarkSeriesCanvas = function (_AbstractSeries) {\n  _inherits(LineMarkSeriesCanvas, _AbstractSeries);\n\n  function LineMarkSeriesCanvas() {\n    _classCallCheck(this, LineMarkSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (LineMarkSeriesCanvas.__proto__ || Object.getPrototypeOf(LineMarkSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(LineMarkSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      LineSeriesCanvas.renderLayer(props, ctx);\n      MarkSeriesCanvas.renderLayer(props, ctx);\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return LineMarkSeriesCanvas;\n}(AbstractSeries);\n\nLineMarkSeriesCanvas.displayName = 'LineMarkSeriesCanvas';\nLineMarkSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default LineMarkSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--polygon';\nvar DEFAULT_COLOR = '#12939A';\n\nvar generatePath = function generatePath(data, xFunctor, yFunctor) {\n  return data.reduce(function (res, row, i) {\n    return res + ' ' + (i ? 'L' : 'M') + xFunctor(row) + ' ' + yFunctor(row);\n  }, '') + ' Z';\n};\n\nvar PolygonSeries = function (_AbstractSeries) {\n  _inherits(PolygonSeries, _AbstractSeries);\n\n  function PolygonSeries() {\n    _classCallCheck(this, PolygonSeries);\n\n    return _possibleConstructorReturn(this, (PolygonSeries.__proto__ || Object.getPrototypeOf(PolygonSeries)).apply(this, arguments));\n  }\n\n  _createClass(PolygonSeries, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          color = _props.color,\n          className = _props.className,\n          data = _props.data,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          style = _props.style;\n\n\n      if (!data) {\n        return null;\n      }\n\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(PolygonSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n      var xFunctor = this._getAttributeFunctor('x');\n      var yFunctor = this._getAttributeFunctor('y');\n\n      return React.createElement('path', {\n        className: predefinedClassName + ' ' + className,\n        onMouseOver: function onMouseOver(e) {\n          return _this2._seriesMouseOverHandler(data, e);\n        },\n        onMouseOut: function onMouseOut(e) {\n          return _this2._seriesMouseOutHandler(data, e);\n        },\n        onClick: this._seriesClickHandler,\n        onContextMenu: this._seriesRightClickHandler,\n        fill: color || DEFAULT_COLOR,\n        style: style,\n        d: generatePath(data, xFunctor, yFunctor),\n        transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n      });\n    }\n  }], [{\n    key: 'propTypes',\n    get: function get() {\n      return _extends({}, AbstractSeries.propTypes);\n    }\n  }]);\n\n  return PolygonSeries;\n}(AbstractSeries);\n\nPolygonSeries.displayName = 'PolygonSeries';\n\nexport default PolygonSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport AbstractSeries from './abstract-series';\nimport BarSeries from './bar-series';\n\nvar VerticalBarSeries = function (_AbstractSeries) {\n  _inherits(VerticalBarSeries, _AbstractSeries);\n\n  function VerticalBarSeries() {\n    _classCallCheck(this, VerticalBarSeries);\n\n    return _possibleConstructorReturn(this, (VerticalBarSeries.__proto__ || Object.getPrototypeOf(VerticalBarSeries)).apply(this, arguments));\n  }\n\n  _createClass(VerticalBarSeries, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(BarSeries, _extends({}, this.props, {\n        linePosAttr: 'x',\n        valuePosAttr: 'y',\n        lineSizeAttr: 'width',\n        valueSizeAttr: 'height'\n      }));\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = attr === 'x';\n      var zeroBaseValue = attr === 'y';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }]);\n\n  return VerticalBarSeries;\n}(AbstractSeries);\n\nVerticalBarSeries.displayName = 'VerticalBarSeries';\n\nexport default VerticalBarSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport AbstractSeries from './abstract-series';\nimport BarSeries from './bar-series-canvas';\n\nvar HorizontalBarSeriesCanvas = function (_AbstractSeries) {\n  _inherits(HorizontalBarSeriesCanvas, _AbstractSeries);\n\n  function HorizontalBarSeriesCanvas() {\n    _classCallCheck(this, HorizontalBarSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (HorizontalBarSeriesCanvas.__proto__ || Object.getPrototypeOf(HorizontalBarSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(HorizontalBarSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = attr === 'x';\n      var zeroBaseValue = attr === 'y';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }, {\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      BarSeries.renderLayer(_extends({}, props, {\n        linePosAttr: 'x',\n        valuePosAttr: 'y',\n        lineSizeAttr: 'width',\n        valueSizeAttr: 'height'\n      }), ctx);\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return HorizontalBarSeriesCanvas;\n}(AbstractSeries);\n\nHorizontalBarSeriesCanvas.displayName = 'HorizontalBarSeriesCanvas';\nHorizontalBarSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default HorizontalBarSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport GridLines from './grid-lines';\nimport { DIRECTION } from '../utils/axis-utils';\n\nvar VERTICAL = DIRECTION.VERTICAL;\n\n\nvar propTypes = _extends({}, GridLines.propTypes, {\n  direction: PropTypes.oneOf([VERTICAL])\n});\n\nvar defaultProps = {\n  direction: VERTICAL,\n  attr: 'x'\n};\n\nfunction VerticalGridLines(props) {\n  return React.createElement(GridLines, props);\n}\n\nVerticalGridLines.displayName = 'VerticalGridLines';\nVerticalGridLines.propTypes = propTypes;\nVerticalGridLines.defaultProps = defaultProps;\nVerticalGridLines.requiresSVG = true;\n\nexport default VerticalGridLines;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport AbstractSeries from './abstract-series';\nimport RectSeries from './rect-series';\n\nvar VerticalRectSeries = function (_AbstractSeries) {\n  _inherits(VerticalRectSeries, _AbstractSeries);\n\n  function VerticalRectSeries() {\n    _classCallCheck(this, VerticalRectSeries);\n\n    return _possibleConstructorReturn(this, (VerticalRectSeries.__proto__ || Object.getPrototypeOf(VerticalRectSeries)).apply(this, arguments));\n  }\n\n  _createClass(VerticalRectSeries, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(RectSeries, _extends({}, this.props, {\n        linePosAttr: 'x',\n        valuePosAttr: 'y',\n        lineSizeAttr: 'width',\n        valueSizeAttr: 'height'\n      }));\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = false;\n      var zeroBaseValue = attr === 'y';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }]);\n\n  return VerticalRectSeries;\n}(AbstractSeries);\n\nVerticalRectSeries.displayName = 'VerticalRectSeries';\n\nexport default VerticalRectSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport AbstractSeries from './abstract-series';\nimport RectSeries from './rect-series-canvas';\n\nvar HorizontalRectSeriesCanvas = function (_AbstractSeries) {\n  _inherits(HorizontalRectSeriesCanvas, _AbstractSeries);\n\n  function HorizontalRectSeriesCanvas() {\n    _classCallCheck(this, HorizontalRectSeriesCanvas);\n\n    return _possibleConstructorReturn(this, (HorizontalRectSeriesCanvas.__proto__ || Object.getPrototypeOf(HorizontalRectSeriesCanvas)).apply(this, arguments));\n  }\n\n  _createClass(HorizontalRectSeriesCanvas, [{\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'getParentConfig',\n    value: function getParentConfig(attr) {\n      var isDomainAdjustmentNeeded = false;\n      var zeroBaseValue = attr === 'y';\n      return {\n        isDomainAdjustmentNeeded: isDomainAdjustmentNeeded,\n        zeroBaseValue: zeroBaseValue\n      };\n    }\n  }, {\n    key: 'renderLayer',\n    value: function renderLayer(props, ctx) {\n      RectSeries.renderLayer(_extends({}, props, {\n        linePosAttr: 'x',\n        valuePosAttr: 'y',\n        lineSizeAttr: 'width',\n        valueSizeAttr: 'height'\n      }), ctx);\n    }\n  }, {\n    key: 'requiresSVG',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isCanvas',\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return HorizontalRectSeriesCanvas;\n}(AbstractSeries);\n\nHorizontalRectSeriesCanvas.displayName = 'HorizontalRectSeriesCanvas';\nHorizontalRectSeriesCanvas.propTypes = _extends({}, AbstractSeries.propTypes);\n\nexport default HorizontalRectSeriesCanvas;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { voronoi } from 'd3-voronoi';\n\nimport { getAttributeFunctor } from '../utils/scales-utils';\n\nvar NOOP = function NOOP(f) {\n  return f;\n};\n\n// Find the index of the node at coordinates of a touch point\nfunction getNodeIndex(evt) {\n  var _evt$nativeEvent = evt.nativeEvent,\n      pageX = _evt$nativeEvent.pageX,\n      pageY = _evt$nativeEvent.pageY;\n\n  var target = document.elementFromPoint(pageX, pageY);\n  if (!target) {\n    return -1;\n  }\n  var parentNode = target.parentNode;\n\n  return Array.prototype.indexOf.call(parentNode.childNodes, target);\n}\n\nfunction getExtent(_ref) {\n  var innerWidth = _ref.innerWidth,\n      innerHeight = _ref.innerHeight,\n      marginLeft = _ref.marginLeft,\n      marginTop = _ref.marginTop;\n\n  return [[marginLeft, marginTop], [innerWidth + marginLeft, innerHeight + marginTop]];\n}\n\nfunction Voronoi(props) {\n  var className = props.className,\n      extent = props.extent,\n      nodes = props.nodes,\n      onBlur = props.onBlur,\n      _onClick = props.onClick,\n      _onMouseUp = props.onMouseUp,\n      _onMouseDown = props.onMouseDown,\n      onHover = props.onHover,\n      polygonStyle = props.polygonStyle,\n      style = props.style,\n      x = props.x,\n      y = props.y;\n  // Create a voronoi with each node center points\n\n  var voronoiInstance = voronoi().x(x || getAttributeFunctor(props, 'x')).y(y || getAttributeFunctor(props, 'y')).extent(extent || getExtent(props));\n\n  // Create an array of polygons corresponding to the cells in voronoi\n  var polygons = voronoiInstance.polygons(nodes);\n\n  // Create helper function to handle special logic for touch events\n  var handleTouchEvent = function handleTouchEvent(handler) {\n    return function (evt) {\n      evt.preventDefault();\n      var index = getNodeIndex(evt);\n      if (index > -1 && index < polygons.length) {\n        var d = polygons[index];\n        handler(d.data);\n      }\n    };\n  };\n\n  return React.createElement(\n    'g',\n    {\n      className: className + ' rv-voronoi',\n      style: style\n      // Because of the nature of how touch events, and more specifically touchmove\n      // and how it differs from mouseover, we must manage touch events on the parent\n      , onTouchEnd: handleTouchEvent(_onMouseUp),\n      onTouchStart: handleTouchEvent(_onMouseDown),\n      onTouchMove: handleTouchEvent(onHover),\n      onTouchCancel: handleTouchEvent(onBlur)\n    },\n    polygons.map(function (d, i) {\n      return React.createElement('path', {\n        className: 'rv-voronoi__cell ' + (d.data && d.data.className || ''),\n        d: 'M' + d.join('L') + 'Z',\n        onClick: function onClick() {\n          return _onClick(d.data);\n        },\n        onMouseUp: function onMouseUp() {\n          return _onMouseUp(d.data);\n        },\n        onMouseDown: function onMouseDown() {\n          return _onMouseDown(d.data);\n        },\n        onMouseOver: function onMouseOver() {\n          return onHover(d.data);\n        },\n        onMouseOut: function onMouseOut() {\n          return onBlur(d.data);\n        },\n        fill: 'none',\n        style: _extends({\n          pointerEvents: 'all'\n        }, polygonStyle, d.data && d.data.style),\n        key: i\n      });\n    })\n  );\n}\n\nVoronoi.requiresSVG = true;\nVoronoi.displayName = 'Voronoi';\nVoronoi.defaultProps = {\n  className: '',\n  onBlur: NOOP,\n  onClick: NOOP,\n  onHover: NOOP,\n  onMouseDown: NOOP,\n  onMouseUp: NOOP\n};\n\nVoronoi.propTypes = {\n  className: PropTypes.string,\n  extent: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\n  nodes: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  onHover: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  x: PropTypes.func,\n  y: PropTypes.func\n};\n\nexport default Voronoi;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Animation from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\nimport { DEFAULT_OPACITY } from '../../theme';\n\nimport AbstractSeries from './abstract-series';\n\nvar predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--whisker';\nvar DEFAULT_STROKE_WIDTH = 1;\nvar DEFAULT_CROSS_BAR_WIDTH = 6;\n\n/**\n * Render whisker lines for a data point.\n * @param {Object} whiskerMarkProps All the properties of the whisker mark.\n * @private\n */\nvar renderWhiskerMark = function renderWhiskerMark(whiskerMarkProps) {\n  return function (d, i) {\n    var crossBarWidth = whiskerMarkProps.crossBarWidth,\n        opacityFunctor = whiskerMarkProps.opacityFunctor,\n        sizeFunctor = whiskerMarkProps.sizeFunctor,\n        strokeFunctor = whiskerMarkProps.strokeFunctor,\n        strokeWidth = whiskerMarkProps.strokeWidth,\n        style = whiskerMarkProps.style,\n        valueClickHandler = whiskerMarkProps.valueClickHandler,\n        valueMouseOutHandler = whiskerMarkProps.valueMouseOutHandler,\n        valueMouseOverHandler = whiskerMarkProps.valueMouseOverHandler,\n        valueRightClickHandler = whiskerMarkProps.valueRightClickHandler,\n        xFunctor = whiskerMarkProps.xFunctor,\n        yFunctor = whiskerMarkProps.yFunctor;\n\n\n    var r = sizeFunctor ? sizeFunctor(d) : 0;\n    var cx = xFunctor(d);\n    var cy = yFunctor(d);\n    var positiveXVariance = xFunctor({ x: d.x + d.xVariance / 2 });\n    var negativeXVariance = xFunctor({ x: d.x - d.xVariance / 2 });\n    var positiveYVariance = yFunctor({ y: d.y + d.yVariance / 2 });\n    var negativeYVariance = yFunctor({ y: d.y - d.yVariance / 2 });\n    /**\n     * Determine whether on not we should draw whiskers in each direction.\n     * We need to see an actual variance value, and also have that value extend past the\n     * radius \"buffer\" region in which we won't be drawing (if any).\n     */\n    var hasXWhiskers = positiveXVariance && cx + r < positiveXVariance;\n    var hasYWhiskers = positiveYVariance && cy - r > positiveYVariance;\n    if (!hasXWhiskers && !hasYWhiskers) {\n      return null;\n    }\n\n    var styleAttr = _extends({\n      opacity: opacityFunctor ? opacityFunctor(d) : DEFAULT_OPACITY,\n      stroke: strokeFunctor && strokeFunctor(d),\n      strokeWidth: strokeWidth || DEFAULT_STROKE_WIDTH\n    }, style);\n    var crossBarExtension = crossBarWidth / 2;\n\n    var rightLineAttrs = {\n      x1: cx + r,\n      y1: cy,\n      x2: positiveXVariance,\n      y2: cy,\n      style: styleAttr\n    };\n    var leftLineAttrs = {\n      x1: cx - r,\n      y1: cy,\n      x2: negativeXVariance,\n      y2: cy,\n      style: styleAttr\n    };\n    var rightCrossBarAttrs = {\n      x1: positiveXVariance,\n      y1: cy - crossBarExtension,\n      x2: positiveXVariance,\n      y2: cy + crossBarExtension,\n      style: styleAttr\n    };\n    var leftCrossBarAttrs = {\n      x1: negativeXVariance,\n      y1: cy - crossBarExtension,\n      x2: negativeXVariance,\n      y2: cy + crossBarExtension,\n      style: styleAttr\n    };\n\n    var upperLineAttrs = {\n      x1: cx,\n      y1: cy - r,\n      x2: cx,\n      y2: positiveYVariance,\n      style: styleAttr\n    };\n    var lowerLineAttrs = {\n      x1: cx,\n      y1: cy + r,\n      x2: cx,\n      y2: negativeYVariance,\n      style: styleAttr\n    };\n    var upperCrossBarAttrs = {\n      x1: cx - crossBarExtension,\n      y1: positiveYVariance,\n      x2: cx + crossBarExtension,\n      y2: positiveYVariance,\n      style: styleAttr\n    };\n    var lowerCrossBarAttrs = {\n      x1: cx - crossBarExtension,\n      y1: negativeYVariance,\n      x2: cx + crossBarExtension,\n      y2: negativeYVariance,\n      style: styleAttr\n    };\n\n    return React.createElement(\n      'g',\n      {\n        className: 'mark-whiskers',\n        key: i,\n        onClick: function onClick(e) {\n          return valueClickHandler(d, e);\n        },\n        onContextMenu: function onContextMenu(e) {\n          return valueRightClickHandler(d, e);\n        },\n        onMouseOver: function onMouseOver(e) {\n          return valueMouseOverHandler(d, e);\n        },\n        onMouseOut: function onMouseOut(e) {\n          return valueMouseOutHandler(d, e);\n        }\n      },\n      hasXWhiskers ? React.createElement(\n        'g',\n        { className: 'x-whiskers' },\n        React.createElement('line', rightLineAttrs),\n        React.createElement('line', leftLineAttrs),\n        React.createElement('line', rightCrossBarAttrs),\n        React.createElement('line', leftCrossBarAttrs)\n      ) : null,\n      hasYWhiskers ? React.createElement(\n        'g',\n        { className: 'y-whiskers' },\n        React.createElement('line', upperLineAttrs),\n        React.createElement('line', lowerLineAttrs),\n        React.createElement('line', upperCrossBarAttrs),\n        React.createElement('line', lowerCrossBarAttrs)\n      ) : null\n    );\n  };\n};\n\nvar WhiskerSeries = function (_AbstractSeries) {\n  _inherits(WhiskerSeries, _AbstractSeries);\n\n  function WhiskerSeries() {\n    _classCallCheck(this, WhiskerSeries);\n\n    return _possibleConstructorReturn(this, (WhiskerSeries.__proto__ || Object.getPrototypeOf(WhiskerSeries)).apply(this, arguments));\n  }\n\n  _createClass(WhiskerSeries, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          animation = _props.animation,\n          className = _props.className,\n          crossBarWidth = _props.crossBarWidth,\n          data = _props.data,\n          marginLeft = _props.marginLeft,\n          marginTop = _props.marginTop,\n          strokeWidth = _props.strokeWidth,\n          style = _props.style;\n\n      if (!data) {\n        return null;\n      }\n      if (animation) {\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: ANIMATED_SERIES_PROPS }),\n          React.createElement(WhiskerSeries, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var whiskerMarkProps = {\n        crossBarWidth: crossBarWidth,\n        opacityFunctor: this._getAttributeFunctor('opacity'),\n        sizeFunctor: this._getAttributeFunctor('size'),\n        strokeFunctor: this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color'),\n        strokeWidth: strokeWidth,\n        style: style,\n        xFunctor: this._getAttributeFunctor('x'),\n        yFunctor: this._getAttributeFunctor('y'),\n        valueClickHandler: this._valueClickHandler,\n        valueRightClickHandler: this._valueRightClickHandler,\n        valueMouseOverHandler: this._valueMouseOverHandler,\n        valueMouseOutHandler: this._valueMouseOutHandler\n      };\n\n      return React.createElement(\n        'g',\n        {\n          className: predefinedClassName + ' ' + className,\n          transform: 'translate(' + marginLeft + ',' + marginTop + ')'\n        },\n        data.map(renderWhiskerMark(whiskerMarkProps))\n      );\n    }\n  }]);\n\n  return WhiskerSeries;\n}(AbstractSeries);\n\nWhiskerSeries.displayName = 'WhiskerSeries';\nWhiskerSeries.propTypes = _extends({}, AbstractSeries.propTypes, {\n  strokeWidth: PropTypes.number\n});\nWhiskerSeries.defaultProps = _extends({}, AbstractSeries.defaultProps, {\n  crossBarWidth: DEFAULT_CROSS_BAR_WIDTH,\n  size: 0,\n  strokeWidth: DEFAULT_STROKE_WIDTH\n});\nexport default WhiskerSeries;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport PropTypes from 'prop-types';\n\n/**\n * Get the dimensions of the component for the future use.\n * @param {Object} props Props.\n * @param {Object} defaultMargins Object with default margins.\n * @returns {Object} Dimensions of the component.\n */\nexport function getInnerDimensions(props, defaultMargins) {\n  var margin = props.margin,\n      width = props.width,\n      height = props.height;\n\n  var marginProps = _extends({}, defaultMargins, typeof margin === 'number' ? {\n    left: margin,\n    right: margin,\n    top: margin,\n    bottom: margin\n  } : margin);\n  var _marginProps$left = marginProps.left,\n      marginLeft = _marginProps$left === undefined ? 0 : _marginProps$left,\n      _marginProps$top = marginProps.top,\n      marginTop = _marginProps$top === undefined ? 0 : _marginProps$top,\n      _marginProps$right = marginProps.right,\n      marginRight = _marginProps$right === undefined ? 0 : _marginProps$right,\n      _marginProps$bottom = marginProps.bottom,\n      marginBottom = _marginProps$bottom === undefined ? 0 : _marginProps$bottom;\n\n  return {\n    marginLeft: marginLeft,\n    marginTop: marginTop,\n    marginRight: marginRight,\n    marginBottom: marginBottom,\n    innerHeight: height - marginBottom - marginTop,\n    innerWidth: width - marginLeft - marginRight\n  };\n}\n\n/**\n * Calculate the margin of the sunburst,\n * so it can be at the center of the container\n * @param  {Number} width - the width of the container\n * @param  {Number} height - the height of the container\n * @param  {Number} radius - the max radius of the sunburst\n * @return {Object} an object includes {bottom, left, right, top}\n */\nexport function getRadialLayoutMargin(width, height, radius) {\n  var marginX = width / 2 - radius;\n  var marginY = height / 2 - radius;\n  return {\n    bottom: marginY,\n    left: marginX,\n    right: marginX,\n    top: marginY\n  };\n}\n\nexport var MarginPropType = PropTypes.oneOfType([PropTypes.shape({\n  left: PropTypes.number,\n  top: PropTypes.number,\n  right: PropTypes.number,\n  bottom: PropTypes.number\n}), PropTypes.number]);\n\nexport var DEFAULT_MARGINS = {\n  left: 40,\n  right: 10,\n  top: 10,\n  bottom: 40\n};","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { interpolate } from 'd3-interpolate';\nimport { extractAnimatedPropValues } from '../../animation';\nimport { ANIMATED_SERIES_PROPS } from '../../utils/series-utils';\n\nvar MAX_DRAWS = 30;\n\n/**\n * Draw loop draws each of the layers until it should draw more\n * @param {CanvasContext} ctx - the context where the drawing will take place\n * @param {Number} height - height of the canvas\n * @param {Number} width - width of the canvas\n * @param {Array} layers - the layer objects to render\n */\nfunction engageDrawLoop(ctx, height, width, layers) {\n  var drawIteration = 0;\n  // using setInterval because request animation frame goes too fast\n  var drawCycle = setInterval(function () {\n    if (!ctx) {\n      clearInterval(drawCycle);\n      return;\n    }\n    drawLayers(ctx, height, width, layers, drawIteration);\n    if (drawIteration > MAX_DRAWS) {\n      clearInterval(drawCycle);\n    }\n    drawIteration += 1;\n  }, 1);\n}\n\n/**\n * Loops across each of the layers to be drawn and draws them\n * @param {CanvasContext} ctx - the context where the drawing will take place\n * @param {Number} height - height of the canvas\n * @param {Number} width - width of the canvas\n * @param {Array} layers - the layer objects to render\n * @param {Number} drawIteration - width of the canvas\n */\nfunction drawLayers(ctx, height, width, layers, drawIteration) {\n  ctx.clearRect(0, 0, width, height);\n  layers.forEach(function (layer) {\n    var interpolator = layer.interpolator,\n        newProps = layer.newProps,\n        animation = layer.animation;\n    // return an empty object if dont need to be animating\n\n    var interpolatedProps = animation ? interpolator ? interpolator(drawIteration / MAX_DRAWS) : interpolator : function () {\n      return {};\n    };\n    layer.renderLayer(_extends({}, newProps, interpolatedProps), ctx);\n  });\n}\n\n/**\n * Build an array of layer of objects the contain the method for drawing each series\n * as well as an interpolar (specifically a d3-interpolate interpolator)\n * @param {Object} newChildren the new children to be rendered.\n * @param {Object} oldChildren the old children to be rendered.\n * @returns {Array} Object for rendering\n */\nfunction buildLayers(newChildren, oldChildren) {\n  return newChildren.map(function (child, index) {\n    var oldProps = oldChildren[index] ? oldChildren[index].props : {};\n    var newProps = child.props;\n\n    var oldAnimatedProps = extractAnimatedPropValues(_extends({}, oldProps, {\n      animatedProps: ANIMATED_SERIES_PROPS\n    }));\n    var newAnimatedProps = newProps ? extractAnimatedPropValues(_extends({}, newProps, {\n      animatedProps: ANIMATED_SERIES_PROPS\n    })) : null;\n    var interpolator = interpolate(oldAnimatedProps, newAnimatedProps);\n\n    return {\n      renderLayer: child.type.renderLayer,\n      newProps: child.props,\n      animation: child.props.animation,\n      interpolator: interpolator\n    };\n  });\n}\n\nvar CanvasWrapper = function (_Component) {\n  _inherits(CanvasWrapper, _Component);\n\n  function CanvasWrapper() {\n    _classCallCheck(this, CanvasWrapper);\n\n    return _possibleConstructorReturn(this, (CanvasWrapper.__proto__ || Object.getPrototypeOf(CanvasWrapper)).apply(this, arguments));\n  }\n\n  _createClass(CanvasWrapper, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var ctx = this.canvas.getContext('2d');\n      if (!ctx) {\n        return;\n      }\n      var pixelRatio = this.props.pixelRatio;\n\n      if (!ctx) {\n        return;\n      }\n      ctx.scale(pixelRatio, pixelRatio);\n\n      this.drawChildren(null, this.props, ctx);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(oldProps) {\n      this.drawChildren(oldProps, this.props, this.canvas.getContext('2d'));\n    }\n\n    /**\n     * Check that we can and should be animating, then kick off animations as apporpriate\n     * @param {Object} newProps the new props to be interpolated to\n     * @param {Object} oldProps the old props to be interpolated against\n     * @param {DomRef} ctx the canvas context to be drawn on.\n     * @returns {Array} Object for rendering\n     */\n\n  }, {\n    key: 'drawChildren',\n    value: function drawChildren(oldProps, newProps, ctx) {\n      var children = newProps.children,\n          innerHeight = newProps.innerHeight,\n          innerWidth = newProps.innerWidth,\n          marginBottom = newProps.marginBottom,\n          marginLeft = newProps.marginLeft,\n          marginRight = newProps.marginRight,\n          marginTop = newProps.marginTop;\n\n      if (!ctx) {\n        return;\n      }\n\n      var childrenShouldAnimate = children.find(function (child) {\n        return child.props.animation;\n      });\n\n      var height = innerHeight + marginTop + marginBottom;\n      var width = innerWidth + marginLeft + marginRight;\n      var layers = buildLayers(newProps.children, oldProps ? oldProps.children : []);\n      // if we don't need to be animating, dont! cut short\n      if (!childrenShouldAnimate) {\n        drawLayers(ctx, height, width, layers);\n        return;\n      }\n\n      engageDrawLoop(ctx, height, width, layers);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          innerHeight = _props.innerHeight,\n          innerWidth = _props.innerWidth,\n          marginBottom = _props.marginBottom,\n          marginLeft = _props.marginLeft,\n          marginRight = _props.marginRight,\n          marginTop = _props.marginTop,\n          pixelRatio = _props.pixelRatio;\n\n\n      var height = innerHeight + marginTop + marginBottom;\n      var width = innerWidth + marginLeft + marginRight;\n\n      return React.createElement(\n        'div',\n        { style: { left: 0, top: 0 }, className: 'rv-xy-canvas' },\n        React.createElement('canvas', {\n          className: 'rv-xy-canvas-element',\n          height: height * pixelRatio,\n          width: width * pixelRatio,\n          style: {\n            height: height + 'px',\n            width: width + 'px'\n          },\n          ref: function ref(_ref) {\n            return _this2.canvas = _ref;\n          }\n        }),\n        this.props.children\n      );\n    }\n  }], [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        pixelRatio: window && window.devicePixelRatio || 1\n      };\n    }\n  }]);\n\n  return CanvasWrapper;\n}(Component);\n\nCanvasWrapper.displayName = 'CanvasWrapper';\nCanvasWrapper.propTypes = {\n  marginBottom: PropTypes.number.isRequired,\n  marginLeft: PropTypes.number.isRequired,\n  marginRight: PropTypes.number.isRequired,\n  marginTop: PropTypes.number.isRequired,\n  innerHeight: PropTypes.number.isRequired,\n  innerWidth: PropTypes.number.isRequired,\n  pixelRatio: PropTypes.number.isRequired\n};\n\nexport default CanvasWrapper;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport equal from 'deep-equal';\n\nimport { extractScalePropsFromProps, getMissingScaleProps, getOptionalScaleProps, getXYPlotValues } from '../utils/scales-utils';\nimport { getStackedData, getSeriesChildren, getSeriesPropsFromChildren } from '../utils/series-utils';\nimport { getInnerDimensions, MarginPropType, DEFAULT_MARGINS } from '../utils/chart-utils';\nimport { AnimationPropType } from '../animation';\nimport { CONTINUOUS_COLOR_RANGE, EXTENDED_DISCRETE_COLOR_RANGE, SIZE_RANGE, OPACITY_TYPE } from '../theme';\n\nimport CanvasWrapper from './series/canvas-wrapper';\n\nvar ATTRIBUTES = ['x', 'y', 'radius', 'angle', 'color', 'fill', 'stroke', 'opacity', 'size'];\n\n/**\n * Remove parents from tree formatted data. deep-equal doesnt play nice with data\n * that has circular structures, so we make every node single directional by pruning the parents.\n * @param {Array} data - the data object to have circular deps resolved in\n * @returns {Array} the sanitized data\n */\nfunction cleanseData(data) {\n  return data.map(function (series) {\n    if (!Array.isArray(series)) {\n      return series;\n    }\n    return series.map(function (row) {\n      return _extends({}, row, { parent: null });\n    });\n  });\n}\n\n/**\n * Wrapper on the deep-equal method for checking equality of next props vs current props\n * @param {Object} scaleMixins - Scale object.\n * @param {Object} nextScaleMixins - Scale object.\n * @param {Boolean} hasTreeStructure - Whether or not to cleanse the data of possible cyclic structures\n * @returns {Boolean} whether or not the two mixins objects are equal\n */\nfunction checkIfMixinsAreEqual(nextScaleMixins, scaleMixins, hasTreeStructure) {\n  var newMixins = _extends({}, nextScaleMixins, {\n    _allData: hasTreeStructure ? cleanseData(nextScaleMixins._allData) : nextScaleMixins._allData\n  });\n  var oldMixins = _extends({}, scaleMixins, {\n    _allData: hasTreeStructure ? cleanseData(scaleMixins._allData) : scaleMixins._allData\n  });\n  // it's hard to say if this function is reasonable?\n  return equal(newMixins, oldMixins);\n}\n\nvar XYPlot = function (_React$Component) {\n  _inherits(XYPlot, _React$Component);\n\n  _createClass(XYPlot, null, [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        className: ''\n      };\n    }\n  }, {\n    key: 'propTypes',\n    get: function get() {\n      return {\n        animation: AnimationPropType,\n        className: PropTypes.string,\n        dontCheckIfEmpty: PropTypes.bool,\n        height: PropTypes.number.isRequired,\n        margin: MarginPropType,\n        onClick: PropTypes.func,\n        onDoubleClick: PropTypes.func,\n        onMouseDown: PropTypes.func,\n        onMouseUp: PropTypes.func,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n        onMouseMove: PropTypes.func,\n        onTouchStart: PropTypes.func,\n        onTouchMove: PropTypes.func,\n        onTouchEnd: PropTypes.func,\n        onTouchCancel: PropTypes.func,\n        onWheel: PropTypes.func,\n        stackBy: PropTypes.oneOf(ATTRIBUTES),\n        style: PropTypes.object,\n        width: PropTypes.number.isRequired\n      };\n    }\n  }]);\n\n  function XYPlot(props) {\n    _classCallCheck(this, XYPlot);\n\n    var _this = _possibleConstructorReturn(this, (XYPlot.__proto__ || Object.getPrototypeOf(XYPlot)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var stackBy = props.stackBy;\n\n    var children = getSeriesChildren(props.children);\n    var data = getStackedData(children, stackBy);\n    _this.state = {\n      scaleMixins: _this._getScaleMixins(data, props),\n      data: data\n    };\n    return _this;\n  }\n\n  _createClass(XYPlot, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var children = getSeriesChildren(nextProps.children);\n      var nextData = getStackedData(children, nextProps.stackBy);\n      var scaleMixins = this.state.scaleMixins;\n\n      var nextScaleMixins = this._getScaleMixins(nextData, nextProps);\n      if (!checkIfMixinsAreEqual(nextScaleMixins, scaleMixins, nextProps.hasTreeStructure)) {\n        this.setState({\n          scaleMixins: nextScaleMixins,\n          data: nextData\n        });\n      }\n    }\n\n    /**\n     * Trigger click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Click event.\n     * @private\n     */\n\n\n    /**\n     * Trigger doule-click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Double-click event.\n     * @private\n     */\n\n  }, {\n    key: '_getClonedChildComponents',\n\n\n    /**\n     * Prepare the child components (including series) for rendering.\n     * @returns {Array} Array of child components.\n     * @private\n     */\n    value: function _getClonedChildComponents() {\n      var _this2 = this;\n\n      var props = this.props;\n      var animation = this.props.animation;\n      var _state = this.state,\n          scaleMixins = _state.scaleMixins,\n          data = _state.data;\n\n      var dimensions = getInnerDimensions(this.props, DEFAULT_MARGINS);\n      var children = React.Children.toArray(this.props.children);\n      var seriesProps = getSeriesPropsFromChildren(children);\n      var XYPlotValues = getXYPlotValues(props, children);\n      return children.map(function (child, index) {\n        var dataProps = null;\n        if (seriesProps[index]) {\n          // Get the index of the series in the list of props and retrieve\n          // the data property from it.\n          var seriesIndex = seriesProps[index].seriesIndex;\n\n          dataProps = { data: data[seriesIndex] };\n        }\n        return React.cloneElement(child, _extends({}, dimensions, {\n          animation: animation\n        }, dataProps && child.type.prototype && child.type.prototype.render ? {\n          ref: function ref(_ref) {\n            return _this2['series' + seriesProps[index].seriesIndex] = _ref;\n          }\n        } : {}, seriesProps[index], scaleMixins, child.props, XYPlotValues[index], dataProps));\n      });\n    }\n    /**\n     * Get the list of scale-related settings that should be applied by default.\n     * @param {Object} props Object of props.\n     * @returns {Object} Defaults.\n     * @private\n     */\n\n  }, {\n    key: '_getDefaultScaleProps',\n    value: function _getDefaultScaleProps(props) {\n      var _getInnerDimensions = getInnerDimensions(props, DEFAULT_MARGINS),\n          innerWidth = _getInnerDimensions.innerWidth,\n          innerHeight = _getInnerDimensions.innerHeight;\n\n      var colorRanges = ['color', 'fill', 'stroke'].reduce(function (acc, attr) {\n        var range = props[attr + 'Type'] === 'category' ? EXTENDED_DISCRETE_COLOR_RANGE : CONTINUOUS_COLOR_RANGE;\n        return _extends({}, acc, _defineProperty({}, attr + 'Range', range));\n      }, {});\n\n      return _extends({\n        xRange: [0, innerWidth],\n        yRange: [innerHeight, 0]\n      }, colorRanges, {\n        opacityType: OPACITY_TYPE,\n        sizeRange: SIZE_RANGE\n      });\n    }\n\n    /**\n     * Get the map of scales from the props, apply defaults to them and then pass\n     * them further.\n     * @param {Object} data Array of all data.\n     * @param {Object} props Props of the component.\n     * @returns {Object} Map of scale-related props.\n     * @private\n     */\n\n  }, {\n    key: '_getScaleMixins',\n    value: function _getScaleMixins(data, props) {\n      var _ref2;\n\n      var filteredData = data.filter(function (d) {\n        return d;\n      });\n      var allData = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(filteredData));\n\n      var defaultScaleProps = this._getDefaultScaleProps(props);\n      var optionalScaleProps = getOptionalScaleProps(props);\n      var userScaleProps = extractScalePropsFromProps(props, ATTRIBUTES);\n      var missingScaleProps = getMissingScaleProps(_extends({}, defaultScaleProps, optionalScaleProps, userScaleProps), allData, ATTRIBUTES);\n      var children = getSeriesChildren(props.children);\n      var zeroBaseProps = {};\n      var adjustBy = new Set();\n      var adjustWhat = new Set();\n      children.forEach(function (child, index) {\n        if (!child || !data[index]) {\n          return;\n        }\n        ATTRIBUTES.forEach(function (attr) {\n          var _child$type$getParent = child.type.getParentConfig(attr, child.props),\n              isDomainAdjustmentNeeded = _child$type$getParent.isDomainAdjustmentNeeded,\n              zeroBaseValue = _child$type$getParent.zeroBaseValue;\n\n          if (isDomainAdjustmentNeeded) {\n            adjustBy.add(attr);\n            adjustWhat.add(index);\n          }\n          if (zeroBaseValue) {\n            var specifiedDomain = props[attr + 'Domain'];\n            zeroBaseProps[attr + 'BaseValue'] = specifiedDomain ? specifiedDomain[0] : 0;\n          }\n        });\n      });\n      return _extends({}, defaultScaleProps, zeroBaseProps, userScaleProps, missingScaleProps, {\n        _allData: data,\n        _adjustBy: Array.from(adjustBy),\n        _adjustWhat: Array.from(adjustWhat),\n        _stackBy: props.stackBy\n      });\n    }\n\n    /**\n     * Checks if the plot is empty or not.\n     * Currently checks the data only.\n     * @returns {boolean} True for empty.\n     * @private\n     */\n\n  }, {\n    key: '_isPlotEmpty',\n    value: function _isPlotEmpty() {\n      var data = this.state.data;\n\n      return !data || !data.length || !data.some(function (series) {\n        return series && series.some(function (d) {\n          return d;\n        });\n      });\n    }\n\n    /**\n     * Trigger mouse-down related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse down event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onMouseEnter handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Mouse enter event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onMouseLeave handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Mouse leave event.\n     * @private\n     */\n\n\n    /**\n     * Trigger movement-related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse move event.\n     * @private\n     */\n\n\n    /**\n     * Trigger mouse-up related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse up event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onTouchCancel handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Touch Cancel event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onTouchEnd handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Touch End event.\n     * @private\n     */\n\n\n    /**\n     * Trigger touch movement-related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Touch move event.\n     * @private\n     */\n\n\n    /**\n     * Trigger touch-start related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Touch start event.\n     * @private\n     */\n\n\n    /**\n     * Trigger doule-click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Double-click event.\n     * @private\n     */\n\n  }, {\n    key: 'renderCanvasComponents',\n    value: function renderCanvasComponents(components, props) {\n      var componentsToRender = components.filter(function (c) {\n        return c && !c.type.requiresSVG && c.type.isCanvas;\n      });\n\n      if (componentsToRender.length === 0) {\n        return null;\n      }\n      var _componentsToRender$ = componentsToRender[0].props,\n          marginLeft = _componentsToRender$.marginLeft,\n          marginTop = _componentsToRender$.marginTop,\n          marginBottom = _componentsToRender$.marginBottom,\n          marginRight = _componentsToRender$.marginRight,\n          innerHeight = _componentsToRender$.innerHeight,\n          innerWidth = _componentsToRender$.innerWidth;\n\n      return React.createElement(\n        CanvasWrapper,\n        {\n          innerHeight: innerHeight,\n          innerWidth: innerWidth,\n          marginLeft: marginLeft,\n          marginTop: marginTop,\n          marginBottom: marginBottom,\n          marginRight: marginRight\n        },\n        componentsToRender\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          dontCheckIfEmpty = _props.dontCheckIfEmpty,\n          style = _props.style,\n          width = _props.width,\n          height = _props.height;\n\n\n      if (!dontCheckIfEmpty && this._isPlotEmpty()) {\n        return React.createElement('div', {\n          className: 'rv-xy-plot ' + className,\n          style: _extends({\n            width: width + 'px',\n            height: height + 'px'\n          }, this.props.style)\n        });\n      }\n      var components = this._getClonedChildComponents();\n      return React.createElement(\n        'div',\n        {\n          style: {\n            width: width + 'px',\n            height: height + 'px'\n          },\n          className: 'rv-xy-plot ' + className\n        },\n        React.createElement(\n          'svg',\n          {\n            className: 'rv-xy-plot__inner',\n            width: width,\n            height: height,\n            style: style,\n            onClick: this._clickHandler,\n            onDoubleClick: this._doubleClickHandler,\n            onMouseDown: this._mouseDownHandler,\n            onMouseUp: this._mouseUpHandler,\n            onMouseMove: this._mouseMoveHandler,\n            onMouseLeave: this._mouseLeaveHandler,\n            onMouseEnter: this._mouseEnterHandler,\n            onTouchStart: this._mouseDownHandler,\n            onTouchMove: this._touchMoveHandler,\n            onTouchEnd: this._touchEndHandler,\n            onTouchCancel: this._touchCancelHandler,\n            onWheel: this._wheelHandler\n          },\n          components.filter(function (c) {\n            return c && c.type.requiresSVG;\n          })\n        ),\n        this.renderCanvasComponents(components, this.props),\n        components.filter(function (c) {\n          return c && !c.type.requiresSVG && !c.type.isCanvas;\n        })\n      );\n    }\n  }]);\n\n  return XYPlot;\n}(React.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this._clickHandler = function (event) {\n    var onClick = _this3.props.onClick;\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  this._doubleClickHandler = function (event) {\n    var onDoubleClick = _this3.props.onDoubleClick;\n\n    if (onDoubleClick) {\n      onDoubleClick(event);\n    }\n  };\n\n  this._mouseDownHandler = function (event) {\n    var _props2 = _this3.props,\n        onMouseDown = _props2.onMouseDown,\n        children = _props2.children;\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseDown) {\n        component.onParentMouseDown(event);\n      }\n    });\n  };\n\n  this._mouseEnterHandler = function (event) {\n    var _props3 = _this3.props,\n        onMouseEnter = _props3.onMouseEnter,\n        children = _props3.children;\n\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseEnter) {\n        component.onParentMouseEnter(event);\n      }\n    });\n  };\n\n  this._mouseLeaveHandler = function (event) {\n    var _props4 = _this3.props,\n        onMouseLeave = _props4.onMouseLeave,\n        children = _props4.children;\n\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseLeave) {\n        component.onParentMouseLeave(event);\n      }\n    });\n  };\n\n  this._mouseMoveHandler = function (event) {\n    var _props5 = _this3.props,\n        onMouseMove = _props5.onMouseMove,\n        children = _props5.children;\n\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseMove) {\n        component.onParentMouseMove(event);\n      }\n    });\n  };\n\n  this._mouseUpHandler = function (event) {\n    var _props6 = _this3.props,\n        onMouseUp = _props6.onMouseUp,\n        children = _props6.children;\n\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseUp) {\n        component.onParentMouseUp(event);\n      }\n    });\n  };\n\n  this._touchCancelHandler = function (event) {\n    var onTouchCancel = _this3.props.onTouchCancel;\n\n    if (onTouchCancel) {\n      onTouchCancel(event);\n    }\n  };\n\n  this._touchEndHandler = function (event) {\n    var onTouchEnd = _this3.props.onTouchEnd;\n\n    if (onTouchEnd) {\n      onTouchEnd(event);\n    }\n  };\n\n  this._touchMoveHandler = function (event) {\n    var _props7 = _this3.props,\n        onTouchMove = _props7.onTouchMove,\n        children = _props7.children;\n\n    if (onTouchMove) {\n      onTouchMove(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentTouchMove) {\n        component.onParentTouchMove(event);\n      }\n    });\n  };\n\n  this._touchStartHandler = function (event) {\n    var _props8 = _this3.props,\n        onTouchStart = _props8.onTouchStart,\n        children = _props8.children;\n\n    if (onTouchStart) {\n      onTouchStart(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentTouchStart) {\n        component.onParentTouchStart(event);\n      }\n    });\n  };\n\n  this._wheelHandler = function (event) {\n    var onWheel = _this3.props.onWheel;\n\n    if (onWheel) {\n      onWheel(event);\n    }\n  };\n};\n\nXYPlot.displayName = 'XYPlot';\n\nexport default XYPlot;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { ORIENTATION } from '../../utils/axis-utils';\n\nvar LEFT = ORIENTATION.LEFT,\n    RIGHT = ORIENTATION.RIGHT,\n    TOP = ORIENTATION.TOP,\n    BOTTOM = ORIENTATION.BOTTOM;\n\n\nvar propTypes = {\n  height: PropTypes.number.isRequired,\n  style: PropTypes.object,\n  orientation: PropTypes.oneOf([LEFT, RIGHT, TOP, BOTTOM]).isRequired,\n  width: PropTypes.number.isRequired\n};\n\nvar defaultProps = {\n  style: {}\n};\n\nfunction AxisLine(_ref) {\n  var orientation = _ref.orientation,\n      width = _ref.width,\n      height = _ref.height,\n      style = _ref.style;\n\n  var lineProps = void 0;\n  if (orientation === LEFT) {\n    lineProps = {\n      x1: width,\n      x2: width,\n      y1: 0,\n      y2: height\n    };\n  } else if (orientation === RIGHT) {\n    lineProps = {\n      x1: 0,\n      x2: 0,\n      y1: 0,\n      y2: height\n    };\n  } else if (orientation === TOP) {\n    lineProps = {\n      x1: 0,\n      x2: width,\n      y1: height,\n      y2: height\n    };\n  } else {\n    lineProps = {\n      x1: 0,\n      x2: width,\n      y1: 0,\n      y2: 0\n    };\n  }\n  return React.createElement('line', _extends({}, lineProps, { className: 'rv-xy-plot__axis__line', style: style }));\n}\n\nAxisLine.defaultProps = defaultProps;\nAxisLine.displayName = 'AxisLine';\nAxisLine.propTypes = propTypes;\n\nexport default AxisLine;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { ORIENTATION, getTickValues } from '../../utils/axis-utils';\nimport { getAttributeScale } from '../../utils/scales-utils';\n\nvar LEFT = ORIENTATION.LEFT,\n    RIGHT = ORIENTATION.RIGHT,\n    TOP = ORIENTATION.TOP,\n    BOTTOM = ORIENTATION.BOTTOM;\n\n\nvar propTypes = {\n  height: PropTypes.number.isRequired,\n  orientation: PropTypes.oneOf([LEFT, RIGHT, TOP, BOTTOM]).isRequired,\n  style: PropTypes.object,\n  width: PropTypes.number.isRequired\n};\n\nvar defaultProps = {\n  style: {}\n};\n\nfunction _getTickFormatFn(scale, tickTotal, tickFormat) {\n  return !tickFormat ? scale.tickFormat ? scale.tickFormat(tickTotal) : function (v) {\n    return v;\n  } : tickFormat;\n}\n\nvar AxisTicks = function (_React$Component) {\n  _inherits(AxisTicks, _React$Component);\n\n  function AxisTicks() {\n    _classCallCheck(this, AxisTicks);\n\n    return _possibleConstructorReturn(this, (AxisTicks.__proto__ || Object.getPrototypeOf(AxisTicks)).apply(this, arguments));\n  }\n\n  _createClass(AxisTicks, [{\n    key: '_areTicksWrapped',\n\n    /**\n     * Check if axis ticks should be mirrored (for the right and top positions.\n     * @returns {boolean} True if mirrored.\n     * @private\n     */\n    value: function _areTicksWrapped() {\n      var orientation = this.props.orientation;\n\n      return orientation === LEFT || orientation === TOP;\n    }\n  }, {\n    key: '_getTickContainerPropsGetterFn',\n    value: function _getTickContainerPropsGetterFn() {\n      if (this._isAxisVertical()) {\n        return function (pos) {\n          return { transform: 'translate(0, ' + pos + ')' };\n        };\n      }\n      return function (pos) {\n        return { transform: 'translate(' + pos + ', 0)' };\n      };\n    }\n\n    /**\n     * Get attributes for the label of the tick.\n     * @returns {Object} Object with properties.\n     * @private\n     */\n\n  }, {\n    key: '_getTickLabelProps',\n    value: function _getTickLabelProps() {\n      var _props = this.props,\n          orientation = _props.orientation,\n          tickLabelAngle = _props.tickLabelAngle,\n          tickSize = _props.tickSize,\n          _props$tickSizeOuter = _props.tickSizeOuter,\n          tickSizeOuter = _props$tickSizeOuter === undefined ? tickSize : _props$tickSizeOuter,\n          _props$tickPadding = _props.tickPadding,\n          tickPadding = _props$tickPadding === undefined ? tickSize : _props$tickPadding;\n\n      // Assign the text orientation inside the label of the tick mark.\n\n      var textAnchor = void 0;\n      if (orientation === LEFT || orientation === BOTTOM && tickLabelAngle) {\n        textAnchor = 'end';\n      } else if (orientation === RIGHT || orientation === TOP && tickLabelAngle) {\n        textAnchor = 'start';\n      } else {\n        textAnchor = 'middle';\n      }\n\n      // The label's position is translated to the given padding and then the\n      // label is rotated to the given angle.\n      var isVertical = this._isAxisVertical();\n      var wrap = this._areTicksWrapped() ? -1 : 1;\n\n      var labelOffset = wrap * (tickSizeOuter + tickPadding);\n      var transform = (isVertical ? 'translate(' + labelOffset + ', 0)' : 'translate(0, ' + labelOffset + ')') + (tickLabelAngle ? ' rotate(' + tickLabelAngle + ')' : '');\n\n      // Set the vertical offset of the label according to the position of\n      // the axis.\n      var dy = orientation === TOP || tickLabelAngle ? '0' : orientation === BOTTOM ? '0.72em' : '0.32em';\n\n      return {\n        textAnchor: textAnchor,\n        dy: dy,\n        transform: transform\n      };\n    }\n\n    /**\n     * Get the props of the tick line.\n     * @returns {Object} Props.\n     * @private\n     */\n\n  }, {\n    key: '_getTickLineProps',\n    value: function _getTickLineProps() {\n      var _ref;\n\n      var _props2 = this.props,\n          tickSize = _props2.tickSize,\n          _props2$tickSizeOuter = _props2.tickSizeOuter,\n          tickSizeOuter = _props2$tickSizeOuter === undefined ? tickSize : _props2$tickSizeOuter,\n          _props2$tickSizeInner = _props2.tickSizeInner,\n          tickSizeInner = _props2$tickSizeInner === undefined ? tickSize : _props2$tickSizeInner;\n\n      var isVertical = this._isAxisVertical();\n      var tickXAttr = isVertical ? 'y' : 'x';\n      var tickYAttr = isVertical ? 'x' : 'y';\n      var wrap = this._areTicksWrapped() ? -1 : 1;\n      return _ref = {}, _defineProperty(_ref, tickXAttr + '1', 0), _defineProperty(_ref, tickXAttr + '2', 0), _defineProperty(_ref, tickYAttr + '1', -wrap * tickSizeInner), _defineProperty(_ref, tickYAttr + '2', wrap * tickSizeOuter), _ref;\n    }\n\n    /**\n     * Gets if the axis is vertical.\n     * @returns {boolean} True if vertical.\n     * @private\n     */\n\n  }, {\n    key: '_isAxisVertical',\n    value: function _isAxisVertical() {\n      var orientation = this.props.orientation;\n\n      return orientation === LEFT || orientation === RIGHT;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          attr = _props3.attr,\n          orientation = _props3.orientation,\n          width = _props3.width,\n          height = _props3.height,\n          style = _props3.style,\n          tickFormat = _props3.tickFormat,\n          tickTotal = _props3.tickTotal,\n          tickValues = _props3.tickValues;\n\n\n      var x = orientation === LEFT ? width : 0;\n      var y = orientation === TOP ? height : 0;\n\n      var scale = getAttributeScale(this.props, attr);\n\n      var values = getTickValues(scale, tickTotal, tickValues);\n      var tickFormatFn = _getTickFormatFn(scale, tickTotal, tickFormat);\n\n      var translateFn = this._getTickContainerPropsGetterFn();\n      var pathProps = this._getTickLineProps();\n      var textProps = this._getTickLabelProps();\n\n      var ticks = values.map(function (v, i) {\n        var pos = scale(v);\n        var labelNode = tickFormatFn(v, i, scale, tickTotal);\n        var shouldRenderAsOwnNode = React.isValidElement(labelNode) && !['tspan', 'textPath'].includes(labelNode.type);\n        var shouldAddProps = labelNode && typeof labelNode.type !== 'string';\n        return React.createElement(\n          'g',\n          _extends({\n            key: i\n          }, translateFn(pos, 0), {\n            className: 'rv-xy-plot__axis__tick',\n            style: style\n          }),\n          React.createElement('line', _extends({}, pathProps, {\n            className: 'rv-xy-plot__axis__tick__line',\n            style: _extends({}, style, style.line)\n          })),\n          shouldRenderAsOwnNode ? React.cloneElement(labelNode, shouldAddProps ? _extends({}, textProps, {\n            containerWidth: width,\n            tickCount: values.length\n          }) : undefined) : React.createElement(\n            'text',\n            _extends({}, textProps, {\n              className: 'rv-xy-plot__axis__tick__text',\n              style: _extends({}, style, style.text)\n            }),\n            labelNode\n          )\n        );\n      });\n\n      return React.createElement(\n        'g',\n        {\n          transform: 'translate(' + x + ', ' + y + ')',\n          className: 'rv-xy-plot__axis__ticks'\n        },\n        ticks\n      );\n    }\n  }]);\n\n  return AxisTicks;\n}(React.Component);\n\nAxisTicks.defaultProps = defaultProps;\nAxisTicks.displayName = 'AxisTicks';\nAxisTicks.propTypes = propTypes;\nAxisTicks.requiresSVG = true;\n\nexport default AxisTicks;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { ORIENTATION } from '../../utils/axis-utils';\n\n// Assuming that 16px = 1em\nvar ADJUSTMENT_FOR_TEXT_SIZE = 16;\nvar MARGIN = 6;\nvar LEFT = ORIENTATION.LEFT,\n    RIGHT = ORIENTATION.RIGHT,\n    TOP = ORIENTATION.TOP,\n    BOTTOM = ORIENTATION.BOTTOM;\n\nvar defaultProps = {\n  position: 'end'\n};\n\n/**\n * Compute transformations, keyed by orientation\n * @param {number} width - width of axis\n * @param {number} height - height of axis\n * @returns {Object} Object of transformations, keyed by orientation\n */\nvar transformation = function transformation(width, height) {\n  var _ref;\n\n  return _ref = {}, _defineProperty(_ref, LEFT, {\n    end: {\n      x: ADJUSTMENT_FOR_TEXT_SIZE,\n      y: MARGIN,\n      rotation: -90,\n      textAnchor: 'end'\n    },\n    middle: {\n      x: ADJUSTMENT_FOR_TEXT_SIZE,\n      y: height / 2 - MARGIN,\n      rotation: -90,\n      textAnchor: 'middle'\n    },\n    start: {\n      x: ADJUSTMENT_FOR_TEXT_SIZE,\n      y: height - MARGIN,\n      rotation: -90,\n      textAnchor: 'start'\n    }\n  }), _defineProperty(_ref, RIGHT, {\n    end: {\n      x: ADJUSTMENT_FOR_TEXT_SIZE * -0.5,\n      y: MARGIN,\n      rotation: -90,\n      textAnchor: 'end'\n    },\n    middle: {\n      x: ADJUSTMENT_FOR_TEXT_SIZE * -0.5,\n      y: height / 2 - MARGIN,\n      rotation: -90,\n      textAnchor: 'middle'\n    },\n    start: {\n      x: ADJUSTMENT_FOR_TEXT_SIZE * -0.5,\n      y: height - MARGIN,\n      rotation: -90,\n      textAnchor: 'start'\n    }\n  }), _defineProperty(_ref, TOP, {\n    start: {\n      x: MARGIN,\n      y: ADJUSTMENT_FOR_TEXT_SIZE,\n      rotation: 0,\n      textAnchor: 'start'\n    },\n    middle: {\n      x: width / 2 - MARGIN,\n      y: ADJUSTMENT_FOR_TEXT_SIZE,\n      rotation: 0,\n      textAnchor: 'middle'\n    },\n    end: {\n      x: width - MARGIN,\n      y: ADJUSTMENT_FOR_TEXT_SIZE,\n      rotation: 0,\n      textAnchor: 'end'\n    }\n  }), _defineProperty(_ref, BOTTOM, {\n    start: {\n      x: MARGIN,\n      y: -MARGIN,\n      rotation: 0,\n      textAnchor: 'start'\n    },\n    middle: {\n      x: width / 2 - MARGIN,\n      y: -MARGIN,\n      rotation: 0,\n      textAnchor: 'middle'\n    },\n    end: {\n      x: width - MARGIN,\n      y: -MARGIN,\n      rotation: 0,\n      textAnchor: 'end'\n    }\n  }), _ref;\n};\n\nvar propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  orientation: PropTypes.oneOf([LEFT, RIGHT, TOP, BOTTOM]).isRequired,\n  style: PropTypes.object,\n  title: PropTypes.string.isRequired\n};\n\nfunction AxisTitle(_ref2) {\n  var orientation = _ref2.orientation,\n      position = _ref2.position,\n      width = _ref2.width,\n      height = _ref2.height,\n      style = _ref2.style,\n      title = _ref2.title;\n\n  var outerGroupTranslateX = orientation === LEFT ? width : 0;\n  var outerGroupTranslateY = orientation === TOP ? height : 0;\n  var outerGroupTransform = 'translate(' + outerGroupTranslateX + ', ' + outerGroupTranslateY + ')';\n  var _transformation$orien = transformation(width, height)[orientation][position],\n      x = _transformation$orien.x,\n      y = _transformation$orien.y,\n      rotation = _transformation$orien.rotation,\n      textAnchor = _transformation$orien.textAnchor;\n\n  var innerGroupTransform = 'translate(' + x + ', ' + y + ') rotate(' + rotation + ')';\n\n  return React.createElement(\n    'g',\n    { transform: outerGroupTransform, className: 'rv-xy-plot__axis__title' },\n    React.createElement(\n      'g',\n      { style: _extends({ textAnchor: textAnchor }, style), transform: innerGroupTransform },\n      React.createElement(\n        'text',\n        { style: style },\n        title\n      )\n    )\n  );\n}\n\nAxisTitle.displayName = 'AxisTitle';\nAxisTitle.propTypes = propTypes;\nAxisTitle.defaultProps = defaultProps;\nexport default AxisTitle;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, { PureComponent } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Animation from '../../animation';\nimport { ORIENTATION, getTicksTotalFromSize } from '../../utils/axis-utils';\nimport { getAttributeScale } from '../../utils/scales-utils';\n\nimport AxisLine from './axis-line';\nimport AxisTicks from './axis-ticks';\nimport AxisTitle from './axis-title';\n\nvar defaultAnimatedProps = ['xRange', 'yRange', 'xDomain', 'yDomain', 'width', 'height', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom', 'tickSize', 'tickTotal', 'tickSizeInner', 'tickSizeOuter'];\n\nvar LEFT = ORIENTATION.LEFT,\n    RIGHT = ORIENTATION.RIGHT,\n    TOP = ORIENTATION.TOP,\n    BOTTOM = ORIENTATION.BOTTOM;\n\n\nvar propTypes = {\n  orientation: PropTypes.oneOf([LEFT, RIGHT, TOP, BOTTOM]),\n  attr: PropTypes.string.isRequired,\n  attrAxis: PropTypes.string,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  top: PropTypes.number,\n  left: PropTypes.number,\n  title: PropTypes.string,\n\n  style: PropTypes.object,\n\n  className: PropTypes.string,\n  hideTicks: PropTypes.bool,\n  hideLine: PropTypes.bool,\n  on0: PropTypes.bool,\n  tickLabelAngle: PropTypes.number,\n  tickSize: PropTypes.number,\n  tickSizeInner: PropTypes.number,\n  tickSizeOuter: PropTypes.number,\n  tickPadding: PropTypes.number,\n  tickValues: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])),\n  tickFormat: PropTypes.func,\n  tickTotal: PropTypes.number,\n\n  // Not expected to be used by the users.\n  // TODO: Add underscore to these properties later.\n  marginTop: PropTypes.number,\n  marginBottom: PropTypes.number,\n  marginLeft: PropTypes.number,\n  marginRight: PropTypes.number,\n  innerWidth: PropTypes.number,\n  innerHeight: PropTypes.number\n};\n\nvar defaultProps = {\n  className: '',\n  on0: false,\n  style: {},\n  tickSize: 6,\n  tickPadding: 8,\n  orientation: BOTTOM\n};\n\nvar predefinedClassName = 'rv-xy-plot__axis';\nvar VERTICAL_CLASS_NAME = 'rv-xy-plot__axis--vertical';\nvar HORIZONTAL_CLASS_NAME = 'rv-xy-plot__axis--horizontal';\n\nvar Axis = function (_PureComponent) {\n  _inherits(Axis, _PureComponent);\n\n  function Axis() {\n    _classCallCheck(this, Axis);\n\n    return _possibleConstructorReturn(this, (Axis.__proto__ || Object.getPrototypeOf(Axis)).apply(this, arguments));\n  }\n\n  _createClass(Axis, [{\n    key: '_getDefaultAxisProps',\n\n    /**\n     * Define the default values depending on the data passed from the outside.\n     * @returns {*} Object of default properties.\n     * @private\n     */\n    value: function _getDefaultAxisProps() {\n      var _props = this.props,\n          innerWidth = _props.innerWidth,\n          innerHeight = _props.innerHeight,\n          marginTop = _props.marginTop,\n          marginBottom = _props.marginBottom,\n          marginLeft = _props.marginLeft,\n          marginRight = _props.marginRight,\n          orientation = _props.orientation;\n\n      if (orientation === BOTTOM) {\n        return {\n          tickTotal: getTicksTotalFromSize(innerWidth),\n          top: innerHeight + marginTop,\n          left: marginLeft,\n          width: innerWidth,\n          height: marginBottom\n        };\n      } else if (orientation === TOP) {\n        return {\n          tickTotal: getTicksTotalFromSize(innerWidth),\n          top: 0,\n          left: marginLeft,\n          width: innerWidth,\n          height: marginTop\n        };\n      } else if (orientation === LEFT) {\n        return {\n          tickTotal: getTicksTotalFromSize(innerHeight),\n          top: marginTop,\n          left: 0,\n          width: marginLeft,\n          height: innerHeight\n        };\n      }\n      return {\n        tickTotal: getTicksTotalFromSize(innerHeight),\n        top: marginTop,\n        left: marginLeft + innerWidth,\n        width: marginRight,\n        height: innerHeight\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var animation = this.props.animation;\n\n\n      if (animation) {\n        var animatedProps = animation.nonAnimatedProps ? defaultAnimatedProps.filter(function (prop) {\n          return animation.nonAnimatedProps.indexOf(prop) < 0;\n        }) : defaultAnimatedProps;\n\n        return React.createElement(\n          Animation,\n          _extends({}, this.props, { animatedProps: animatedProps }),\n          React.createElement(Axis, _extends({}, this.props, { animation: null }))\n        );\n      }\n\n      var props = _extends({}, this._getDefaultAxisProps(), this.props);\n\n      var attrAxis = props.attrAxis,\n          className = props.className,\n          height = props.height,\n          hideLine = props.hideLine,\n          hideTicks = props.hideTicks,\n          left = props.left,\n          marginTop = props.marginTop,\n          on0 = props.on0,\n          orientation = props.orientation,\n          position = props.position,\n          style = props.style,\n          title = props.title,\n          top = props.top,\n          width = props.width;\n\n      var isVertical = [LEFT, RIGHT].indexOf(orientation) > -1;\n      var axisClassName = isVertical ? VERTICAL_CLASS_NAME : HORIZONTAL_CLASS_NAME;\n\n      var leftPos = left;\n      var topPos = top;\n      if (on0) {\n        var scale = getAttributeScale(props, attrAxis);\n        if (isVertical) {\n          leftPos = scale(0);\n        } else {\n          topPos = marginTop + scale(0);\n        }\n      }\n\n      return React.createElement(\n        'g',\n        {\n          transform: 'translate(' + leftPos + ',' + topPos + ')',\n          className: predefinedClassName + ' ' + axisClassName + ' ' + className,\n          style: style\n        },\n        !hideLine && React.createElement(AxisLine, {\n          height: height,\n          width: width,\n          orientation: orientation,\n          style: _extends({}, style, style.line)\n        }),\n        !hideTicks && React.createElement(AxisTicks, _extends({}, props, { style: _extends({}, style, style.ticks) })),\n        title ? React.createElement(AxisTitle, {\n          position: position,\n          title: title,\n          height: height,\n          width: width,\n          style: _extends({}, style, style.title),\n          orientation: orientation\n        }) : null\n      );\n    }\n  }]);\n\n  return Axis;\n}(PureComponent);\n\nAxis.displayName = 'Axis';\nAxis.propTypes = propTypes;\nAxis.defaultProps = defaultProps;\nAxis.requiresSVG = true;\n\nexport default Axis;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { ORIENTATION } from '../../utils/axis-utils';\n\nimport Axis from './axis';\n\nvar TOP = ORIENTATION.TOP,\n    BOTTOM = ORIENTATION.BOTTOM;\n\n\nvar propTypes = _extends({}, Axis.propTypes, {\n  orientation: PropTypes.oneOf([TOP, BOTTOM])\n});\n\nvar defaultProps = {\n  orientation: BOTTOM,\n  attr: 'x',\n  attrAxis: 'y'\n};\n\nfunction XAxis(props) {\n  return React.createElement(Axis, props);\n}\n\nXAxis.displayName = 'XAxis';\nXAxis.propTypes = propTypes;\nXAxis.defaultProps = defaultProps;\nXAxis.requiresSVG = true;\n\nexport default XAxis;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { ORIENTATION } from '../../utils/axis-utils';\n\nimport Axis from './axis';\n\nvar LEFT = ORIENTATION.LEFT,\n    RIGHT = ORIENTATION.RIGHT;\n\n\nvar propTypes = _extends({}, Axis.propTypes, {\n  orientation: PropTypes.oneOf([LEFT, RIGHT])\n});\n\nvar defaultProps = {\n  orientation: LEFT,\n  attr: 'y',\n  attrAxis: 'x'\n};\n\nfunction YAxis(props) {\n  return React.createElement(Axis, props);\n}\n\nYAxis.displayName = 'YAxis';\nYAxis.propTypes = propTypes;\nYAxis.defaultProps = defaultProps;\nYAxis.requiresSVG = true;\n\nexport default YAxis;","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { CONTINUOUS_COLOR_RANGE } from '../theme';\n\nvar propTypes = {\n  className: PropTypes.string,\n  height: PropTypes.number,\n  endColor: PropTypes.string,\n  endTitle: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  midColor: PropTypes.string,\n  midTitle: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  startColor: PropTypes.string,\n  startTitle: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  width: PropTypes.number\n};\n\nvar defaultProps = {\n  className: '',\n  startColor: CONTINUOUS_COLOR_RANGE[0],\n  endColor: CONTINUOUS_COLOR_RANGE[1]\n};\n\nfunction ContinuousColorLegend(_ref) {\n  var startColor = _ref.startColor,\n      midColor = _ref.midColor,\n      endColor = _ref.endColor,\n      startTitle = _ref.startTitle,\n      midTitle = _ref.midTitle,\n      endTitle = _ref.endTitle,\n      height = _ref.height,\n      width = _ref.width,\n      className = _ref.className;\n\n  var colors = [startColor];\n  if (midColor) {\n    colors.push(midColor);\n  }\n  colors.push(endColor);\n  return React.createElement(\n    'div',\n    {\n      className: 'rv-continuous-color-legend ' + className,\n      style: { width: width, height: height }\n    },\n    React.createElement('div', {\n      className: 'rv-gradient',\n      style: { background: 'linear-gradient(to right, ' + colors.join(',') + ')' }\n    }),\n    React.createElement(\n      'div',\n      { className: 'rv-legend-titles' },\n      React.createElement(\n        'span',\n        { className: 'rv-legend-titles__left' },\n        startTitle\n      ),\n      React.createElement(\n        'span',\n        { className: 'rv-legend-titles__right' },\n        endTitle\n      ),\n      midTitle ? React.createElement(\n        'span',\n        { className: 'rv-legend-titles__center' },\n        midTitle\n      ) : null\n    )\n  );\n}\n\nContinuousColorLegend.displayName = 'ContinuousColorLegend';\nContinuousColorLegend.propTypes = propTypes;\nContinuousColorLegend.defaultProps = defaultProps;\n\nexport default ContinuousColorLegend;","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nvar propTypes = {\n  className: PropTypes.string,\n  circlesTotal: PropTypes.number,\n  endSize: PropTypes.number,\n  endTitle: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  height: PropTypes.number,\n  startSize: PropTypes.number,\n  startTitle: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  width: PropTypes.number\n};\n\nvar defaultProps = {\n  circlesTotal: 10,\n  className: '',\n  endSize: 20,\n  startSize: 2\n};\n\nfunction ContinuousSizeLegend(_ref) {\n  var startTitle = _ref.startTitle,\n      endTitle = _ref.endTitle,\n      startSize = _ref.startSize,\n      endSize = _ref.endSize,\n      circlesTotal = _ref.circlesTotal,\n      height = _ref.height,\n      width = _ref.width,\n      className = _ref.className;\n\n  var circles = [];\n  var step = (endSize - startSize) / (circlesTotal - 1);\n\n  for (var i = 0; i < circlesTotal; i++) {\n    var size = step * i + startSize;\n    circles.push(React.createElement('div', {\n      key: i,\n      className: 'rv-bubble',\n      style: {\n        width: size,\n        height: size,\n        borderRadius: size / 2\n      }\n    }));\n    // Add the separator in order to justify the content (otherwise the tags\n    // will be stacked together without any margins around).\n    circles.push(' ');\n  }\n  return React.createElement(\n    'div',\n    {\n      className: 'rv-continuous-size-legend ' + className,\n      style: { width: width, height: height }\n    },\n    React.createElement(\n      'div',\n      { className: 'rv-bubbles', style: { height: endSize } },\n      circles,\n      React.createElement('div', { className: 'rv-spacer' })\n    ),\n    React.createElement(\n      'div',\n      { className: 'rv-legend-titles' },\n      React.createElement(\n        'span',\n        { className: 'rv-legend-titles__left' },\n        startTitle\n      ),\n      React.createElement(\n        'span',\n        { className: 'rv-legend-titles__right' },\n        endTitle\n      )\n    )\n  );\n}\n\nContinuousSizeLegend.displayName = 'ContinuousSizeLegend';\nContinuousSizeLegend.propTypes = propTypes;\nContinuousSizeLegend.defaultProps = defaultProps;\n\nexport default ContinuousSizeLegend;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nvar STROKE_STYLES = {\n  dashed: '6, 2',\n  solid: null\n};\n\nfunction DiscreteColorLegendItem(_ref) {\n  var color = _ref.color,\n      strokeDasharray = _ref.strokeDasharray,\n      strokeStyle = _ref.strokeStyle,\n      strokeWidth = _ref.strokeWidth,\n      disabled = _ref.disabled,\n      onClick = _ref.onClick,\n      orientation = _ref.orientation,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      title = _ref.title;\n\n  var className = 'rv-discrete-color-legend-item ' + orientation;\n  if (disabled) {\n    className += ' disabled';\n  }\n  if (onClick) {\n    className += ' clickable';\n  }\n  var strokeDasharrayStyle = STROKE_STYLES[strokeStyle] || strokeDasharray;\n  return React.createElement(\n    'div',\n    { className: className, onClick: onClick, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave },\n    React.createElement(\n      'svg',\n      { className: 'rv-discrete-color-legend-item__color', height: 2, width: 14 },\n      React.createElement('path', {\n        className: 'rv-discrete-color-legend-item__color__path',\n        d: 'M 0, 1 L 14, 1',\n        style: _extends({}, strokeWidth ? { strokeWidth: strokeWidth } : {}, strokeDasharrayStyle ? { strokeDasharray: strokeDasharrayStyle } : {}, {\n          stroke: disabled ? null : color\n        })\n\n      })\n    ),\n    React.createElement(\n      'span',\n      { className: 'rv-discrete-color-legend-item__title' },\n      title\n    )\n  );\n}\n\nDiscreteColorLegendItem.propTypes = {\n  color: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  onClick: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  orientation: PropTypes.oneOf(['vertical', 'horizontal']).isRequired,\n  strokeDasharray: PropTypes.string,\n  strokeWidth: PropTypes.number,\n  strokeStyle: PropTypes.oneOf(Object.keys(STROKE_STYLES))\n};\nDiscreteColorLegendItem.defaultProps = {\n  disabled: false,\n  strokeStyle: 'solid'\n};\nDiscreteColorLegendItem.displayName = 'DiscreteColorLegendItem';\n\nexport default DiscreteColorLegendItem;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport DiscreteColorLegendItem from './discrete-color-legend-item';\nimport { DISCRETE_COLOR_RANGE } from '../theme';\n\nfunction DiscreteColorLegend(_ref) {\n  var className = _ref.className,\n      colors = _ref.colors,\n      height = _ref.height,\n      items = _ref.items,\n      onItemClick = _ref.onItemClick,\n      onItemMouseEnter = _ref.onItemMouseEnter,\n      onItemMouseLeave = _ref.onItemMouseLeave,\n      orientation = _ref.orientation,\n      style = _ref.style,\n      width = _ref.width;\n\n  return React.createElement(\n    'div',\n    {\n      className: 'rv-discrete-color-legend ' + orientation + ' ' + className,\n      style: _extends({ width: width, height: height }, style)\n    },\n    items.map(function (item, i) {\n      return React.createElement(DiscreteColorLegendItem, {\n        title: item.title ? item.title : item,\n        color: item.color ? item.color : colors[i % colors.length],\n        strokeDasharray: item.strokeDasharray,\n        strokeStyle: item.strokeStyle,\n        strokeWidth: item.strokeWidth,\n        disabled: Boolean(item.disabled),\n        orientation: orientation,\n        key: i,\n        onClick: onItemClick ? function (e) {\n          return onItemClick(item, i, e);\n        } : null,\n        onMouseEnter: onItemMouseEnter ? function (e) {\n          return onItemMouseEnter(item, i, e);\n        } : null,\n        onMouseLeave: onItemMouseEnter ? function (e) {\n          return onItemMouseLeave(item, i, e);\n        } : null\n      });\n    })\n  );\n}\n\nDiscreteColorLegend.displayName = 'DiscreteColorLegendItem';\nDiscreteColorLegend.propTypes = {\n  className: PropTypes.string,\n  items: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.shape({\n    title: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n    color: PropTypes.string,\n    disabled: PropTypes.bool\n  }), PropTypes.string.isRequired, PropTypes.element])).isRequired,\n  onItemClick: PropTypes.func,\n  onItemMouseEnter: PropTypes.func,\n  onItemMouseLeave: PropTypes.func,\n  height: PropTypes.number,\n  width: PropTypes.number,\n  orientation: PropTypes.oneOf(['vertical', 'horizontal'])\n};\n\nDiscreteColorLegend.defaultProps = {\n  className: '',\n  colors: DISCRETE_COLOR_RANGE,\n  orientation: 'vertical'\n};\n\nexport default DiscreteColorLegend;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport DiscreteColorLegend from './discrete-color-legend';\n\nvar propTypes = _extends({}, DiscreteColorLegend.propTypes, {\n  searchText: PropTypes.string,\n  onSearchChange: PropTypes.func,\n  searchPlaceholder: PropTypes.string,\n  searchFn: PropTypes.func\n});\n\nvar defaultProps = {\n  className: '',\n  searchText: '',\n  searchFn: function searchFn(items, s) {\n    return items.filter(function (item) {\n      return String(item.title || item).toLowerCase().indexOf(s) !== -1;\n    });\n  }\n};\n\nfunction SearchableDiscreteColorLegend(props) {\n  var className = props.className,\n      colors = props.colors,\n      height = props.height,\n      items = props.items,\n      onItemClick = props.onItemClick,\n      onSearchChange = props.onSearchChange,\n      orientation = props.orientation,\n      searchFn = props.searchFn,\n      searchPlaceholder = props.searchPlaceholder,\n      searchText = props.searchText,\n      width = props.width;\n\n  var onChange = onSearchChange ? function (_ref) {\n    var value = _ref.target.value;\n    return onSearchChange(value);\n  } : null;\n  var filteredItems = searchFn(items, searchText);\n  return React.createElement(\n    'div',\n    { className: 'rv-search-wrapper ' + className, style: { width: width, height: height } },\n    React.createElement(\n      'form',\n      { className: 'rv-search-wrapper__form' },\n      React.createElement('input', {\n        type: 'search',\n        placeholder: searchPlaceholder,\n        className: 'rv-search-wrapper__form__input',\n        value: searchText,\n        onChange: onChange\n      })\n    ),\n    React.createElement(\n      'div',\n      { className: 'rv-search-wrapper__contents' },\n      React.createElement(DiscreteColorLegend, {\n        colors: colors,\n        items: filteredItems,\n        onItemClick: onItemClick,\n        orientation: orientation\n      })\n    )\n  );\n}\n\nSearchableDiscreteColorLegend.propTypes = propTypes;\nSearchableDiscreteColorLegend.defaultProps = defaultProps;\nSearchableDiscreteColorLegend.displayName = 'SearchableDiscreteColorLegend';\n\nexport default SearchableDiscreteColorLegend;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\n\nimport { AnimationPropType } from '../animation';\nimport XYPlot from '../plot/xy-plot';\nimport { DISCRETE_COLOR_RANGE } from '../theme';\nimport { MarginPropType, getInnerDimensions, DEFAULT_MARGINS } from '../utils/chart-utils';\nimport LineSeries from '../plot/series/line-series';\nimport LineMarkSeries from '../plot/series/line-mark-series';\nimport LabelSeries from '../plot/series/label-series';\nimport DecorativeAxis from '../plot/axis/decorative-axis';\n\nimport Highlight from '../plot/highlight';\n\nvar predefinedClassName = 'rv-parallel-coordinates-chart';\nvar DEFAULT_FORMAT = format('.2r');\n/**\n * Generate axes for each of the domains\n * @param {Object} props\n - props.animation {Boolean}\n - props.domains {Array} array of object specifying the way each axis is to be plotted\n - props.style {object} style object for the whole chart\n - props.tickFormat {Function} formatting function for axes\n * @return {Array} the plotted axis components\n */\nfunction getAxes(props) {\n  var animation = props.animation,\n      domains = props.domains,\n      style = props.style,\n      tickFormat = props.tickFormat;\n\n  return domains.map(function (domain, index) {\n    var sortedDomain = domain.domain;\n\n    var domainTickFormat = function domainTickFormat(t) {\n      return domain.tickFormat ? domain.tickFormat(t) : tickFormat(t);\n    };\n\n    return React.createElement(DecorativeAxis, {\n      animation: animation,\n      key: index + '-axis',\n      axisStart: { x: domain.name, y: 0 },\n      axisEnd: { x: domain.name, y: 1 },\n      axisDomain: sortedDomain,\n      numberOfTicks: 5,\n      tickValue: domainTickFormat,\n      style: style.axes\n    });\n  });\n}\n\n/**\n * Generate labels for the ends of the axes\n * @param {Object} props\n - props.domains {Array} array of object specifying the way each axis is to be plotted\n - props.style {object} style object for just the labels\n * @return {Array} the prepped data for the labelSeries\n */\nfunction getLabels(props) {\n  var domains = props.domains,\n      style = props.style;\n\n  return domains.map(function (domain, index) {\n    return {\n      x: domain.name,\n      y: 1.1,\n      label: domain.name,\n      style: style\n    };\n  });\n}\n\n/**\n * Generate the actual lines to be plotted\n * @param {Object} props\n - props.animation {Boolean}\n - props.data {Array} array of object specifying what values are to be plotted\n - props.domains {Array} array of object specifying the way each axis is to be plotted\n - props.style {object} style object for the whole chart\n - props.showMarks {Bool} whether or not to use the line mark series\n * @return {Array} the plotted axis components\n */\nfunction getLines(props) {\n  var animation = props.animation,\n      brushFilters = props.brushFilters,\n      colorRange = props.colorRange,\n      domains = props.domains,\n      data = props.data,\n      style = props.style,\n      showMarks = props.showMarks;\n\n  var scales = domains.reduce(function (acc, _ref) {\n    var domain = _ref.domain,\n        name = _ref.name;\n\n    acc[name] = scaleLinear().domain(domain).range([0, 1]);\n    return acc;\n  }, {});\n  // const\n\n  return data.map(function (row, rowIndex) {\n    var withinFilteredRange = true;\n    var mappedData = domains.map(function (domain, index) {\n      var getValue = domain.getValue,\n          name = domain.name;\n\n      // watch out! Gotcha afoot\n      // yVal after being scale is in [0, 1] range\n\n      var yVal = scales[name](getValue ? getValue(row) : row[name]);\n      var filter = brushFilters[name];\n      // filter value after being scale back from pixel space is also in [0, 1]\n      if (filter && (yVal < filter.min || yVal > filter.max)) {\n        withinFilteredRange = false;\n      }\n      return { x: name, y: yVal };\n    });\n    var selectedName = predefinedClassName + '-line';\n    var unselectedName = selectedName + ' ' + predefinedClassName + '-line-unselected';\n    var lineProps = {\n      animation: animation,\n      className: withinFilteredRange ? selectedName : unselectedName,\n      key: rowIndex + '-polygon',\n      data: mappedData,\n      color: row.color || colorRange[rowIndex % colorRange.length],\n      style: _extends({}, style.lines, row.style || {})\n    };\n    if (!withinFilteredRange) {\n      lineProps.style = _extends({}, lineProps.style, style.deselectedLineStyle);\n    }\n    return showMarks ? React.createElement(LineMarkSeries, lineProps) : React.createElement(LineSeries, lineProps);\n  });\n}\n\nvar ParallelCoordinates = function (_Component) {\n  _inherits(ParallelCoordinates, _Component);\n\n  function ParallelCoordinates() {\n    var _ref2;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ParallelCoordinates);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = ParallelCoordinates.__proto__ || Object.getPrototypeOf(ParallelCoordinates)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {\n      brushFilters: {}\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ParallelCoordinates, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var brushFilters = this.state.brushFilters;\n      var _props = this.props,\n          animation = _props.animation,\n          brushing = _props.brushing,\n          className = _props.className,\n          children = _props.children,\n          colorRange = _props.colorRange,\n          data = _props.data,\n          domains = _props.domains,\n          height = _props.height,\n          hideInnerMostValues = _props.hideInnerMostValues,\n          margin = _props.margin,\n          onMouseLeave = _props.onMouseLeave,\n          onMouseEnter = _props.onMouseEnter,\n          showMarks = _props.showMarks,\n          style = _props.style,\n          tickFormat = _props.tickFormat,\n          width = _props.width;\n\n\n      var axes = getAxes({\n        domains: domains,\n        animation: animation,\n        hideInnerMostValues: hideInnerMostValues,\n        style: style,\n        tickFormat: tickFormat\n      });\n\n      var lines = getLines({\n        animation: animation,\n        brushFilters: brushFilters,\n        colorRange: colorRange,\n        domains: domains,\n        data: data,\n        showMarks: showMarks,\n        style: style\n      });\n      var labelSeries = React.createElement(LabelSeries, {\n        animation: true,\n        key: className,\n        className: predefinedClassName + '-label',\n        data: getLabels({ domains: domains, style: style.labels })\n      });\n\n      var _getInnerDimensions = getInnerDimensions(this.props, DEFAULT_MARGINS),\n          marginLeft = _getInnerDimensions.marginLeft,\n          marginRight = _getInnerDimensions.marginRight;\n\n      return React.createElement(\n        XYPlot,\n        {\n          height: height,\n          width: width,\n          margin: margin,\n          dontCheckIfEmpty: true,\n          className: className + ' ' + predefinedClassName,\n          onMouseLeave: onMouseLeave,\n          onMouseEnter: onMouseEnter,\n          xType: 'ordinal',\n          yDomain: [0, 1]\n        },\n        children,\n        axes.concat(lines).concat(labelSeries),\n        brushing && domains.map(function (d) {\n          var trigger = function trigger(row) {\n            _this2.setState({\n              brushFilters: _extends({}, brushFilters, _defineProperty({}, d.name, row ? { min: row.bottom, max: row.top } : null))\n            });\n          };\n          return React.createElement(Highlight, {\n            key: d.name,\n            drag: true,\n            highlightX: d.name,\n            onBrushEnd: trigger,\n            onDragEnd: trigger,\n            highlightWidth: (width - marginLeft - marginRight) / domains.length,\n            enableX: false\n          });\n        })\n      );\n    }\n  }]);\n\n  return ParallelCoordinates;\n}(Component);\n\nParallelCoordinates.displayName = 'ParallelCoordinates';\nParallelCoordinates.propTypes = {\n  animation: AnimationPropType,\n  brushing: PropTypes.bool,\n  className: PropTypes.string,\n  colorType: PropTypes.string,\n  colorRange: PropTypes.arrayOf(PropTypes.string),\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  domains: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    domain: PropTypes.arrayOf(PropTypes.number).isRequired,\n    tickFormat: PropTypes.func\n  })).isRequired,\n  height: PropTypes.number.isRequired,\n  margin: MarginPropType,\n  style: PropTypes.shape({\n    axes: PropTypes.object,\n    labels: PropTypes.object,\n    lines: PropTypes.object\n  }),\n  showMarks: PropTypes.bool,\n  tickFormat: PropTypes.func,\n  width: PropTypes.number.isRequired\n};\nParallelCoordinates.defaultProps = {\n  className: '',\n  colorType: 'category',\n  colorRange: DISCRETE_COLOR_RANGE,\n  style: {\n    axes: {\n      line: {},\n      ticks: {},\n      text: {}\n    },\n    labels: {\n      fontSize: 10,\n      textAnchor: 'middle'\n    },\n    lines: {\n      strokeWidth: 1,\n      strokeOpacity: 1\n    },\n    deselectedLineStyle: {\n      strokeOpacity: 0.1\n    }\n  },\n  tickFormat: DEFAULT_FORMAT\n};\n\nexport default ParallelCoordinates;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\n\nimport { AnimationPropType } from '../animation';\nimport XYPlot from '../plot/xy-plot';\nimport { DISCRETE_COLOR_RANGE } from '../theme';\nimport { MarginPropType } from '../utils/chart-utils';\nimport MarkSeries from '../plot/series/mark-series';\nimport PolygonSeries from '../plot/series/polygon-series';\nimport LabelSeries from '../plot/series/label-series';\nimport DecorativeAxis from '../plot/axis/decorative-axis';\n\nvar predefinedClassName = 'rv-radar-chart';\nvar DEFAULT_FORMAT = format('.2r');\n/**\n * Generate axes for each of the domains\n * @param {Object} props\n - props.animation {Boolean}\n - props.domains {Array} array of object specifying the way each axis is to be plotted\n - props.style {object} style object for the whole chart\n - props.tickFormat {Function} formatting function for axes\n - props.startingAngle {number} the initial angle offset\n * @return {Array} the plotted axis components\n */\nfunction getAxes(props) {\n  var animation = props.animation,\n      domains = props.domains,\n      startingAngle = props.startingAngle,\n      style = props.style,\n      tickFormat = props.tickFormat,\n      hideInnerMostValues = props.hideInnerMostValues;\n\n  return domains.map(function (domain, index) {\n    var angle = index / domains.length * Math.PI * 2 + startingAngle;\n    var sortedDomain = domain.domain;\n\n    var domainTickFormat = function domainTickFormat(t) {\n      if (hideInnerMostValues && t === sortedDomain[0]) {\n        return '';\n      }\n      return domain.tickFormat ? domain.tickFormat(t) : tickFormat(t);\n    };\n\n    return React.createElement(DecorativeAxis, {\n      animation: animation,\n      key: index + '-axis',\n      axisStart: { x: 0, y: 0 },\n      axisEnd: {\n        x: getCoordinate(Math.cos(angle)),\n        y: getCoordinate(Math.sin(angle))\n      },\n      axisDomain: sortedDomain,\n      numberOfTicks: 5,\n      tickValue: domainTickFormat,\n      style: style.axes\n    });\n  });\n}\n\n/**\n * Generate x or y coordinate for axisEnd\n * @param {Number} axisEndPoint\n - epsilon is an arbitrarily chosen small number to approximate axisEndPoints\n - to true values resulting from trigonometry functions (sin, cos) on angles\n * @return {Number} the x or y coordinate accounting for exact trig values\n */\nfunction getCoordinate(axisEndPoint) {\n  var epsilon = 10e-13;\n  if (Math.abs(axisEndPoint) <= epsilon) {\n    axisEndPoint = 0;\n  } else if (axisEndPoint > 0) {\n    if (Math.abs(axisEndPoint - 0.5) <= epsilon) {\n      axisEndPoint = 0.5;\n    }\n  } else if (axisEndPoint < 0) {\n    if (Math.abs(axisEndPoint + 0.5) <= epsilon) {\n      axisEndPoint = -0.5;\n    }\n  }\n  return axisEndPoint;\n}\n\n/**\n * Generate labels for the ends of the axes\n * @param {Object} props\n - props.domains {Array} array of object specifying the way each axis is to be plotted\n  - props.startingAngle {number} the initial angle offset\n - props.style {object} style object for just the labels\n * @return {Array} the prepped data for the labelSeries\n */\nfunction getLabels(props) {\n  var domains = props.domains,\n      startingAngle = props.startingAngle,\n      style = props.style;\n\n  return domains.map(function (_ref, index) {\n    var name = _ref.name;\n\n    var angle = index / domains.length * Math.PI * 2 + startingAngle;\n    var radius = 1.2;\n    return {\n      x: radius * Math.cos(angle),\n      y: radius * Math.sin(angle),\n      label: name,\n      style: style\n    };\n  });\n}\n\n/**\n * Generate the actual polygons to be plotted\n * @param {Object} props\n - props.animation {Boolean}\n - props.data {Array} array of object specifying what values are to be plotted\n - props.domains {Array} array of object specifying the way each axis is to be plotted\n - props.startingAngle {number} the initial angle offset\n - props.style {object} style object for the whole chart\n * @return {Array} the plotted axis components\n */\nfunction getPolygons(props) {\n  var animation = props.animation,\n      colorRange = props.colorRange,\n      domains = props.domains,\n      data = props.data,\n      style = props.style,\n      startingAngle = props.startingAngle,\n      onSeriesMouseOver = props.onSeriesMouseOver,\n      onSeriesMouseOut = props.onSeriesMouseOut;\n\n  var scales = domains.reduce(function (acc, _ref2) {\n    var domain = _ref2.domain,\n        name = _ref2.name;\n\n    acc[name] = scaleLinear().domain(domain).range([0, 1]);\n    return acc;\n  }, {});\n\n  return data.map(function (row, rowIndex) {\n    var mappedData = domains.map(function (_ref3, index) {\n      var name = _ref3.name,\n          getValue = _ref3.getValue;\n\n      var dataPoint = getValue ? getValue(row) : row[name];\n      // error handling if point doesn't exist\n      var angle = index / domains.length * Math.PI * 2 + startingAngle;\n      // dont let the radius become negative\n      var radius = Math.max(scales[name](dataPoint), 0);\n      return { x: radius * Math.cos(angle), y: radius * Math.sin(angle), name: row.name };\n    });\n\n    return React.createElement(PolygonSeries, {\n      animation: animation,\n      className: predefinedClassName + '-polygon',\n      key: rowIndex + '-polygon',\n      data: mappedData,\n      style: _extends({\n        stroke: row.color || row.stroke || colorRange[rowIndex % colorRange.length],\n        fill: row.color || row.fill || colorRange[rowIndex % colorRange.length]\n      }, style.polygons),\n      onSeriesMouseOver: onSeriesMouseOver,\n      onSeriesMouseOut: onSeriesMouseOut\n    });\n  });\n}\n\n/**\n * Generate circles at the polygon points for Hover functionality\n * @param {Object} props\n - props.animation {Boolean}\n - props.data {Array} array of object specifying what values are to be plotted\n - props.domains {Array} array of object specifying the way each axis is to be plotted\n - props.startingAngle {number} the initial angle offset\n - props.style {object} style object for the whole chart\n - props.onValueMouseOver {function} function to call on mouse over a polygon point\n - props.onValueMouseOver {function} function to call when mouse leaves a polygon point\n * @return {Array} the plotted axis components\n */\nfunction getPolygonPoints(props) {\n  var animation = props.animation,\n      domains = props.domains,\n      data = props.data,\n      startingAngle = props.startingAngle,\n      style = props.style,\n      onValueMouseOver = props.onValueMouseOver,\n      onValueMouseOut = props.onValueMouseOut;\n\n  if (!onValueMouseOver) {\n    return;\n  }\n  var scales = domains.reduce(function (acc, _ref4) {\n    var domain = _ref4.domain,\n        name = _ref4.name;\n\n    acc[name] = scaleLinear().domain(domain).range([0, 1]);\n    return acc;\n  }, {});\n  return data.map(function (row, rowIndex) {\n    var mappedData = domains.map(function (_ref5, index) {\n      var name = _ref5.name,\n          getValue = _ref5.getValue;\n\n      var dataPoint = getValue ? getValue(row) : row[name];\n      // error handling if point doesn't exist\n      var angle = index / domains.length * Math.PI * 2 + startingAngle;\n      // dont let the radius become negative\n      var radius = Math.max(scales[name](dataPoint), 0);\n      return {\n        x: radius * Math.cos(angle),\n        y: radius * Math.sin(angle),\n        domain: name,\n        value: dataPoint,\n        dataName: row.name\n      };\n    });\n\n    return React.createElement(MarkSeries, {\n      animation: animation,\n      className: predefinedClassName + '-polygonPoint',\n      key: rowIndex + '-polygonPoint',\n      data: mappedData,\n      size: 10,\n      style: _extends({}, style.polygons, {\n        fill: 'transparent',\n        stroke: 'transparent'\n      }),\n      onValueMouseOver: onValueMouseOver,\n      onValueMouseOut: onValueMouseOut\n    });\n  });\n}\n\nfunction RadarChart(props) {\n  var animation = props.animation,\n      className = props.className,\n      children = props.children,\n      colorRange = props.colorRange,\n      data = props.data,\n      domains = props.domains,\n      height = props.height,\n      hideInnerMostValues = props.hideInnerMostValues,\n      margin = props.margin,\n      onMouseLeave = props.onMouseLeave,\n      onMouseEnter = props.onMouseEnter,\n      startingAngle = props.startingAngle,\n      style = props.style,\n      tickFormat = props.tickFormat,\n      width = props.width,\n      renderAxesOverPolygons = props.renderAxesOverPolygons,\n      onValueMouseOver = props.onValueMouseOver,\n      onValueMouseOut = props.onValueMouseOut,\n      onSeriesMouseOver = props.onSeriesMouseOver,\n      onSeriesMouseOut = props.onSeriesMouseOut;\n\n\n  var axes = getAxes({\n    domains: domains,\n    animation: animation,\n    hideInnerMostValues: hideInnerMostValues,\n    startingAngle: startingAngle,\n    style: style,\n    tickFormat: tickFormat\n  });\n\n  var polygons = getPolygons({\n    animation: animation,\n    colorRange: colorRange,\n    domains: domains,\n    data: data,\n    startingAngle: startingAngle,\n    style: style,\n    onSeriesMouseOver: onSeriesMouseOver,\n    onSeriesMouseOut: onSeriesMouseOut\n  });\n\n  var polygonPoints = getPolygonPoints({\n    animation: animation,\n    colorRange: colorRange,\n    domains: domains,\n    data: data,\n    startingAngle: startingAngle,\n    style: style,\n    onValueMouseOver: onValueMouseOver,\n    onValueMouseOut: onValueMouseOut\n  });\n\n  var labelSeries = React.createElement(LabelSeries, {\n    animation: animation,\n    key: className,\n    className: predefinedClassName + '-label',\n    data: getLabels({ domains: domains, style: style.labels, startingAngle: startingAngle }) });\n  return React.createElement(\n    XYPlot,\n    {\n      height: height,\n      width: width,\n      margin: margin,\n      dontCheckIfEmpty: true,\n      className: className + ' ' + predefinedClassName,\n      onMouseLeave: onMouseLeave,\n      onMouseEnter: onMouseEnter,\n      xDomain: [-1, 1],\n      yDomain: [-1, 1] },\n    children,\n    !renderAxesOverPolygons && axes.concat(polygons).concat(labelSeries).concat(polygonPoints),\n    renderAxesOverPolygons && polygons.concat(labelSeries).concat(axes).concat(polygonPoints)\n  );\n}\n\nRadarChart.displayName = 'RadarChart';\nRadarChart.propTypes = {\n  animation: AnimationPropType,\n  className: PropTypes.string,\n  colorType: PropTypes.string,\n  colorRange: PropTypes.arrayOf(PropTypes.string),\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  domains: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    domain: PropTypes.arrayOf(PropTypes.number).isRequired,\n    tickFormat: PropTypes.func\n  })).isRequired,\n  height: PropTypes.number.isRequired,\n  hideInnerMostValues: PropTypes.bool,\n  margin: MarginPropType,\n  startingAngle: PropTypes.number,\n  style: PropTypes.shape({\n    axes: PropTypes.object,\n    labels: PropTypes.object,\n    polygons: PropTypes.object\n  }),\n  tickFormat: PropTypes.func,\n  width: PropTypes.number.isRequired,\n  renderAxesOverPolygons: PropTypes.bool,\n  onValueMouseOver: PropTypes.func,\n  onValueMouseOut: PropTypes.func,\n  onSeriesMouseOver: PropTypes.func,\n  onSeriesMouseOut: PropTypes.func\n};\nRadarChart.defaultProps = {\n  className: '',\n  colorType: 'category',\n  colorRange: DISCRETE_COLOR_RANGE,\n  hideInnerMostValues: true,\n  startingAngle: Math.PI / 2,\n  style: {\n    axes: {\n      line: {},\n      ticks: {},\n      text: {}\n    },\n    labels: {\n      fontSize: 10,\n      textAnchor: 'middle'\n    },\n    polygons: {\n      strokeWidth: 0.5,\n      strokeOpacity: 1,\n      fillOpacity: 0.1\n    }\n  },\n  tickFormat: DEFAULT_FORMAT,\n  renderAxesOverPolygons: false\n};\n\nexport default RadarChart;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { pie as pieBuilder } from 'd3-shape';\n\nimport { AnimationPropType } from '../animation';\nimport ArcSeries from '../plot/series/arc-series';\nimport LabelSeries from '../plot/series/label-series';\nimport XYPlot from '../plot/xy-plot';\nimport { DISCRETE_COLOR_RANGE } from '../theme';\nimport { MarginPropType, getRadialLayoutMargin } from '../utils/chart-utils';\nimport { getRadialDomain } from '../utils/series-utils';\n\nvar predefinedClassName = 'rv-radial-chart';\n\nvar DEFAULT_RADIUS_MARGIN = 15;\n\n/**\n * Create the list of wedges to render.\n * @param {Object} props\n   props.data {Object} - tree structured data (each node has a name anc an array of children)\n * @returns {Array} Array of nodes.\n */\nfunction getWedgesToRender(_ref) {\n  var data = _ref.data,\n      getAngle = _ref.getAngle;\n\n  var pie = pieBuilder().sort(null).value(getAngle);\n  var pieData = pie(data).reverse();\n  return pieData.map(function (row, index) {\n    return _extends({}, row.data, {\n      angle0: row.startAngle,\n      angle: row.endAngle,\n      radius0: row.data.innerRadius || 0,\n      radius: row.data.radius || 1,\n      color: row.data.color || index\n    });\n  });\n}\n\nfunction generateLabels(mappedData, accessors) {\n  var labelsRadiusMultiplier = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1.1;\n  var getLabel = accessors.getLabel,\n      getSubLabel = accessors.getSubLabel;\n\n  return mappedData.reduce(function (res, row) {\n    var angle = row.angle,\n        angle0 = row.angle0,\n        radius = row.radius;\n\n    var centeredAngle = (angle + angle0) / 2;\n\n    // unfortunate, but true fact: d3 starts its radians at 12 oclock rather than 3\n    // and move clockwise rather than counter clockwise. why why why!\n    var updatedAngle = -1 * centeredAngle + Math.PI / 2;\n    var newLabels = [];\n    if (getLabel(row)) {\n      newLabels.push({\n        angle: updatedAngle,\n        radius: radius * labelsRadiusMultiplier,\n        label: getLabel(row)\n      });\n    }\n\n    if (getSubLabel(row)) {\n      newLabels.push({\n        angle: updatedAngle,\n        radius: radius * labelsRadiusMultiplier,\n        label: getSubLabel(row),\n        style: { fontSize: 10 },\n        yOffset: 12\n      });\n    }\n    return res.concat(newLabels);\n  }, []);\n  // could add force direction here to make sure the labels dont overlap\n}\n\n/**\n * Get the max radius so the chart can extend to the margin.\n * @param  {Number} width - container width\n * @param  {Number} height - container height\n * @return {Number} radius\n */\nfunction getMaxRadius(width, height) {\n  return Math.min(width, height) / 2 - DEFAULT_RADIUS_MARGIN;\n}\n\nfunction RadialChart(props) {\n  var animation = props.animation,\n      className = props.className,\n      children = props.children,\n      colorType = props.colorType,\n      data = props.data,\n      getAngle = props.getAngle,\n      getLabel = props.getLabel,\n      getSubLabel = props.getSubLabel,\n      height = props.height,\n      hideRootNode = props.hideRootNode,\n      innerRadius = props.innerRadius,\n      labelsAboveChildren = props.labelsAboveChildren,\n      labelsRadiusMultiplier = props.labelsRadiusMultiplier,\n      labelsStyle = props.labelsStyle,\n      margin = props.margin,\n      onMouseLeave = props.onMouseLeave,\n      onMouseEnter = props.onMouseEnter,\n      radius = props.radius,\n      showLabels = props.showLabels,\n      style = props.style,\n      width = props.width;\n\n  var mappedData = getWedgesToRender({\n    data: data,\n    height: height,\n    hideRootNode: hideRootNode,\n    width: width,\n    getAngle: getAngle\n  });\n  var radialDomain = getRadialDomain(mappedData);\n  var arcProps = _extends({\n    colorType: colorType\n  }, props, {\n    animation: animation,\n    radiusDomain: [0, radialDomain],\n    data: mappedData,\n    radiusNoFallBack: true,\n    style: style,\n    arcClassName: 'rv-radial-chart__series--pie__slice'\n  });\n  if (radius) {\n    arcProps.radiusDomain = [0, 1];\n    arcProps.radiusRange = [innerRadius || 0, radius];\n    arcProps.radiusType = 'linear';\n  }\n  var maxRadius = radius ? radius : getMaxRadius(width, height);\n  var defaultMargin = getRadialLayoutMargin(width, height, maxRadius);\n\n  var labels = generateLabels(mappedData, {\n    getLabel: getLabel,\n    getSubLabel: getSubLabel\n  }, labelsRadiusMultiplier);\n  return React.createElement(\n    XYPlot,\n    {\n      height: height,\n      width: width,\n      margin: _extends({}, margin, defaultMargin),\n      className: className + ' ' + predefinedClassName,\n      onMouseLeave: onMouseLeave,\n      onMouseEnter: onMouseEnter,\n      xDomain: [-radialDomain, radialDomain],\n      yDomain: [-radialDomain, radialDomain]\n    },\n    React.createElement(ArcSeries, _extends({}, arcProps, { getAngle: function getAngle(d) {\n        return d.angle;\n      } })),\n    showLabels && !labelsAboveChildren && React.createElement(LabelSeries, { data: labels, style: labelsStyle }),\n    children,\n    showLabels && labelsAboveChildren && React.createElement(LabelSeries, { data: labels, style: labelsStyle })\n  );\n}\n\nRadialChart.displayName = 'RadialChart';\nRadialChart.propTypes = {\n  animation: AnimationPropType,\n  className: PropTypes.string,\n  colorType: PropTypes.string,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    angle: PropTypes.number,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    radius: PropTypes.number,\n    style: PropTypes.object\n  })).isRequired,\n  getAngle: PropTypes.func,\n  getAngle0: PropTypes.func,\n  padAngle: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n  getRadius: PropTypes.func,\n  getRadius0: PropTypes.func,\n  getLabel: PropTypes.func,\n  height: PropTypes.number.isRequired,\n  labelsAboveChildren: PropTypes.bool,\n  labelsStyle: PropTypes.object,\n  margin: MarginPropType,\n  onValueClick: PropTypes.func,\n  onValueMouseOver: PropTypes.func,\n  onValueMouseOut: PropTypes.func,\n  showLabels: PropTypes.bool,\n  style: PropTypes.object,\n  subLabel: PropTypes.func,\n  width: PropTypes.number.isRequired\n};\nRadialChart.defaultProps = {\n  className: '',\n  colorType: 'category',\n  colorRange: DISCRETE_COLOR_RANGE,\n  padAngle: 0,\n  getAngle: function getAngle(d) {\n    return d.angle;\n  },\n  getAngle0: function getAngle0(d) {\n    return d.angle0;\n  },\n  getRadius: function getRadius(d) {\n    return d.radius;\n  },\n  getRadius0: function getRadius0(d) {\n    return d.radius0;\n  },\n  getLabel: function getLabel(d) {\n    return d.label;\n  },\n  getSubLabel: function getSubLabel(d) {\n    return d.subLabel;\n  }\n};\n\nexport default RadialChart;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport { DISCRETE_COLOR_RANGE } from '../theme';\nimport Animation from '../animation';\nimport { ANIMATED_SERIES_PROPS } from '../utils/series-utils';\n\nvar DEFAULT_LINK_COLOR = DISCRETE_COLOR_RANGE[1];\nvar DEFAULT_LINK_OPACITY = 0.7;\n\nfunction SankeyLink(props) {\n  var animation = props.animation,\n      data = props.data,\n      node = props.node,\n      opacity = props.opacity,\n      color = props.color,\n      strokeWidth = props.strokeWidth,\n      style = props.style,\n      onLinkClick = props.onLinkClick,\n      onLinkMouseOver = props.onLinkMouseOver,\n      onLinkMouseOut = props.onLinkMouseOut;\n\n  if (animation) {\n    return React.createElement(\n      Animation,\n      _extends({}, props, { animatedProps: ANIMATED_SERIES_PROPS }),\n      React.createElement(SankeyLink, _extends({}, props, { animation: null }))\n    );\n  }\n  return React.createElement('path', _extends({\n    d: data\n  }, style, {\n    className: 'rv-sankey__link',\n    opacity: Number.isFinite(opacity) ? opacity : DEFAULT_LINK_OPACITY,\n    stroke: color || DEFAULT_LINK_COLOR,\n    onClick: function onClick(e) {\n      return onLinkClick(node, e);\n    },\n    onMouseOver: function onMouseOver(e) {\n      return onLinkMouseOver(node, e);\n    },\n    onMouseOut: function onMouseOut(e) {\n      return onLinkMouseOut(node, e);\n    },\n    strokeWidth: strokeWidth,\n    fill: 'none'\n  }));\n}\n\nSankeyLink.displayName = 'SankeyLink';\nSankeyLink.requiresSVG = true;\nexport default SankeyLink;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { sankey, sankeyLinkHorizontal, sankeyLeft, sankeyRight, sankeyCenter, sankeyJustify } from 'd3-sankey';\nimport XYPlot from '../plot/xy-plot';\n\nimport { MarginPropType, getInnerDimensions } from '../utils/chart-utils';\nimport VerticalRectSeries from '../plot/series/vertical-rect-series';\nimport LabelSeries from '../plot/series/label-series';\nimport Voronoi from '../plot/voronoi';\nimport { DISCRETE_COLOR_RANGE } from '../theme';\n\nimport SankeyLink from './sankey-link';\nvar NOOP = function NOOP(f) {\n  return f;\n};\n\nvar ALIGNMENTS = {\n  justify: sankeyJustify,\n  center: sankeyCenter,\n  left: sankeyLeft,\n  right: sankeyRight\n};\n\nvar DEFAULT_MARGINS = {\n  top: 20,\n  left: 20,\n  right: 20,\n  bottom: 20\n};\n\nfunction Sankey(props) {\n  var align = props.align,\n      animation = props.animation,\n      children = props.children,\n      className = props.className,\n      hasVoronoi = props.hasVoronoi,\n      height = props.height,\n      hideLabels = props.hideLabels,\n      labelRotation = props.labelRotation,\n      layout = props.layout,\n      links = props.links,\n      linkOpacity = props.linkOpacity,\n      margin = props.margin,\n      nodePadding = props.nodePadding,\n      nodes = props.nodes,\n      nodeWidth = props.nodeWidth,\n      onValueClick = props.onValueClick,\n      onValueMouseOver = props.onValueMouseOver,\n      onValueMouseOut = props.onValueMouseOut,\n      onLinkClick = props.onLinkClick,\n      onLinkMouseOver = props.onLinkMouseOver,\n      onLinkMouseOut = props.onLinkMouseOut,\n      style = props.style,\n      width = props.width;\n\n  var nodesCopy = [].concat(_toConsumableArray(new Array(nodes.length))).map(function (e, i) {\n    return _extends({}, nodes[i]);\n  });\n  var linksCopy = [].concat(_toConsumableArray(new Array(links.length))).map(function (e, i) {\n    return _extends({}, links[i]);\n  });\n\n  var _getInnerDimensions = getInnerDimensions({\n    margin: margin,\n    height: height,\n    width: width\n  }, DEFAULT_MARGINS),\n      marginLeft = _getInnerDimensions.marginLeft,\n      marginTop = _getInnerDimensions.marginTop,\n      marginRight = _getInnerDimensions.marginRight,\n      marginBottom = _getInnerDimensions.marginBottom;\n\n  var sankeyInstance = sankey().extent([[marginLeft, marginTop], [width - marginRight, height - marginBottom - marginTop]]).nodeWidth(nodeWidth).nodePadding(nodePadding).nodes(nodesCopy).links(linksCopy).nodeAlign(ALIGNMENTS[align]).iterations(layout);\n  sankeyInstance(nodesCopy);\n\n  var nWidth = sankeyInstance.nodeWidth();\n  var path = sankeyLinkHorizontal();\n\n  return React.createElement(\n    XYPlot,\n    _extends({}, props, { yType: 'literal', className: 'rv-sankey ' + className }),\n    linksCopy.map(function (link, i) {\n      return React.createElement(SankeyLink, {\n        style: style.links,\n        data: path(link),\n        opacity: link.opacity || linkOpacity,\n        color: link.color,\n        onLinkClick: onLinkClick,\n        onLinkMouseOver: onLinkMouseOver,\n        onLinkMouseOut: onLinkMouseOut,\n        strokeWidth: Math.max(link.width, 1),\n        node: link,\n        nWidth: nWidth,\n        key: 'link-' + i\n      });\n    }),\n    React.createElement(VerticalRectSeries, {\n      animation: animation,\n      className: className + ' rv-sankey__node',\n      data: nodesCopy.map(function (node) {\n        return _extends({}, node, {\n          y: node.y1 - marginTop,\n          y0: node.y0 - marginTop,\n          x: node.x1,\n          x0: node.x0,\n          color: node.color || DISCRETE_COLOR_RANGE[0],\n          sourceLinks: null,\n          targetLinks: null\n        });\n      }),\n      style: style.rects,\n      onValueClick: onValueClick,\n      onValueMouseOver: onValueMouseOver,\n      onValueMouseOut: onValueMouseOut,\n      colorType: 'literal'\n    }),\n    !hideLabels && React.createElement(LabelSeries, {\n      animation: animation,\n      className: className,\n      rotation: labelRotation,\n      labelAnchorY: 'text-before-edge',\n      data: nodesCopy.map(function (node, i) {\n        return _extends({\n          x: node.x0 + (node.x0 < width / 2 ? nWidth + 10 : -10),\n          y: (node.y0 + node.y1) / 2 - marginTop,\n          label: node.name,\n          style: _extends({\n            textAnchor: node.x0 < width / 2 ? 'start' : 'end',\n            dy: '-.5em'\n          }, style.labels)\n        }, nodes[i]);\n      })\n    }),\n    hasVoronoi && React.createElement(Voronoi, {\n      className: 'rv-sankey__voronoi',\n      extent: [[-marginLeft, -marginTop], [width + marginRight, height + marginBottom]],\n      nodes: nodesCopy,\n      onClick: onValueClick,\n      onHover: onValueMouseOver,\n      onBlur: onValueMouseOut,\n      x: function x(d) {\n        return d.x0 + (d.x1 - d.x0) / 2;\n      },\n      y: function y(d) {\n        return d.y0 + (d.y1 - d.y0) / 2;\n      }\n    }),\n    children\n  );\n}\n\nSankey.defaultProps = {\n  align: 'justify',\n  className: '',\n  hasVoronoi: false,\n  hideLabels: false,\n  labelRotation: 0,\n  layout: 50,\n  margin: DEFAULT_MARGINS,\n  nodePadding: 10,\n  nodeWidth: 10,\n  onValueMouseOver: NOOP,\n  onValueClick: NOOP,\n  onValueMouseOut: NOOP,\n  onLinkClick: NOOP,\n  onLinkMouseOver: NOOP,\n  onLinkMouseOut: NOOP,\n  style: {\n    links: {},\n    rects: {},\n    labels: {}\n  }\n};\n\nSankey.propTypes = {\n  align: PropTypes.oneOf(['justify', 'left', 'right', 'center']),\n  className: PropTypes.string,\n  hasVoronoi: PropTypes.bool,\n  height: PropTypes.number.isRequired,\n  hideLabels: PropTypes.bool,\n  labelRotation: PropTypes.number,\n  layout: PropTypes.number,\n  links: PropTypes.arrayOf(PropTypes.shape({\n    source: PropTypes.oneOfType([PropTypes.number, PropTypes.object]).isRequired,\n    target: PropTypes.oneOfType([PropTypes.number, PropTypes.object]).isRequired\n  })).isRequired,\n  margin: MarginPropType,\n  nodePadding: PropTypes.number,\n  nodes: PropTypes.arrayOf(PropTypes.object).isRequired,\n  nodeWidth: PropTypes.number,\n  onValueMouseOver: PropTypes.func,\n  onValueClick: PropTypes.func,\n  onValueMouseOut: PropTypes.func,\n  onLinkClick: PropTypes.func,\n  onLinkMouseOver: PropTypes.func,\n  onLinkMouseOut: PropTypes.func,\n  style: PropTypes.shape({\n    links: PropTypes.object,\n    rects: PropTypes.object,\n    labels: PropTypes.object\n  }),\n  width: PropTypes.number.isRequired\n};\nexport default Sankey;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { hierarchy, partition } from 'd3-hierarchy';\n\nimport { scaleLinear, scaleSqrt } from 'd3-scale';\n\nimport { AnimationPropType } from '../animation';\nimport LabelSeries from '../plot/series/label-series';\nimport ArcSeries from '../plot/series/arc-series';\nimport XYPlot from '../plot/xy-plot';\nimport { getRadialDomain } from '../utils/series-utils';\nimport { getRadialLayoutMargin } from '../utils/chart-utils';\n\nvar predefinedClassName = 'rv-sunburst';\n\nvar LISTENERS_TO_OVERWRITE = ['onValueMouseOver', 'onValueMouseOut', 'onValueClick', 'onValueRightClick', 'onSeriesMouseOver', 'onSeriesMouseOut', 'onSeriesClick', 'onSeriesRightClick'];\n\n/**\n * Create the list of nodes to render.\n * @param {Object} props\n   props.data {Object} - tree structured data (each node has a name anc an array of children)\n   props.height {number} - the height of the graphic to be rendered\n   props.hideRootNode {boolean} - whether or not to hide the root node\n   props.width {number} - the width of the graphic to be rendered\n   props.getSize {function} - accessor for the size\n * @returns {Array} Array of nodes.\n */\nfunction getNodesToRender(_ref) {\n  var data = _ref.data,\n      height = _ref.height,\n      hideRootNode = _ref.hideRootNode,\n      width = _ref.width,\n      getSize = _ref.getSize;\n\n  var partitionFunction = partition();\n  var structuredInput = hierarchy(data).sum(getSize);\n  var radius = Math.min(width, height) / 2 - 10;\n  var x = scaleLinear().range([0, 2 * Math.PI]);\n  var y = scaleSqrt().range([0, radius]);\n\n  return partitionFunction(structuredInput).descendants().reduce(function (res, cell, index) {\n    if (hideRootNode && index === 0) {\n      return res;\n    }\n\n    return res.concat([_extends({\n      angle0: Math.max(0, Math.min(2 * Math.PI, x(cell.x0))),\n      angle: Math.max(0, Math.min(2 * Math.PI, x(cell.x1))),\n      radius0: Math.max(0, y(cell.y0)),\n      radius: Math.max(0, y(cell.y1)),\n      depth: cell.depth,\n      parent: cell.parent\n    }, cell.data)]);\n  }, []);\n}\n\n/**\n * Convert arc nodes into label rows.\n * Important to use mappedData rather than regular data, bc it is already unrolled\n * @param {Array} mappedData - Array of nodes.\n * @param {Object} accessors - object of accessors\n * @returns {Array} array of node for rendering as labels\n */\nfunction buildLabels(mappedData, accessors) {\n  var getAngle = accessors.getAngle,\n      getAngle0 = accessors.getAngle0,\n      getLabel = accessors.getLabel,\n      getRadius0 = accessors.getRadius0;\n\n\n  return mappedData.filter(getLabel).map(function (row) {\n    var truedAngle = -1 * getAngle(row) + Math.PI / 2;\n    var truedAngle0 = -1 * getAngle0(row) + Math.PI / 2;\n    var angle = (truedAngle0 + truedAngle) / 2;\n    var rotateLabels = !row.dontRotateLabel;\n    var rotAngle = -angle / (2 * Math.PI) * 360;\n\n    return _extends({}, row, {\n      children: null,\n      angle: null,\n      radius: null,\n      x: getRadius0(row) * Math.cos(angle),\n      y: getRadius0(row) * Math.sin(angle),\n      style: _extends({\n        textAnchor: rotAngle > 90 ? 'end' : 'start'\n      }, row.labelStyle),\n      rotation: rotateLabels ? rotAngle > 90 ? rotAngle + 180 : rotAngle === 90 ? 90 : rotAngle : null\n    });\n  });\n}\n\nvar NOOP = function NOOP() {};\n\nfunction Sunburst(props) {\n  var getAngle = props.getAngle,\n      getAngle0 = props.getAngle0,\n      animation = props.animation,\n      className = props.className,\n      children = props.children,\n      data = props.data,\n      height = props.height,\n      hideRootNode = props.hideRootNode,\n      getLabel = props.getLabel,\n      width = props.width,\n      getSize = props.getSize,\n      colorType = props.colorType;\n\n  var mappedData = getNodesToRender({\n    data: data,\n    height: height,\n    hideRootNode: hideRootNode,\n    width: width,\n    getSize: getSize\n  });\n  var radialDomain = getRadialDomain(mappedData);\n  var margin = getRadialLayoutMargin(width, height, radialDomain);\n\n  var labelData = buildLabels(mappedData, {\n    getAngle: getAngle,\n    getAngle0: getAngle0,\n    getLabel: getLabel,\n    getRadius0: function getRadius0(d) {\n      return d.radius0;\n    }\n  });\n\n  var hofBuilder = function hofBuilder(f) {\n    return function (e, i) {\n      return f ? f(mappedData[e.index], i) : NOOP;\n    };\n  };\n  return React.createElement(\n    XYPlot,\n    {\n      height: height,\n      hasTreeStructure: true,\n      width: width,\n      className: predefinedClassName + ' ' + className,\n      margin: margin,\n      xDomain: [-radialDomain, radialDomain],\n      yDomain: [-radialDomain, radialDomain]\n    },\n    React.createElement(ArcSeries, _extends({\n      colorType: colorType\n    }, props, {\n      animation: animation,\n      radiusDomain: [0, radialDomain],\n      // need to present a stripped down version for interpolation\n      data: animation ? mappedData.map(function (row, index) {\n        return _extends({}, row, {\n          parent: null,\n          children: null,\n          index: index\n        });\n      }) : mappedData,\n      _data: animation ? mappedData : null,\n      arcClassName: predefinedClassName + '__series--radial__arc'\n    }, LISTENERS_TO_OVERWRITE.reduce(function (acc, propName) {\n      var prop = props[propName];\n      acc[propName] = animation ? hofBuilder(prop) : prop;\n      return acc;\n    }, {}))),\n    labelData.length > 0 && React.createElement(LabelSeries, { data: labelData, getLabel: getLabel }),\n    children\n  );\n}\n\nSunburst.displayName = 'Sunburst';\nSunburst.propTypes = {\n  animation: AnimationPropType,\n  getAngle: PropTypes.func,\n  getAngle0: PropTypes.func,\n  className: PropTypes.string,\n  colorType: PropTypes.string,\n  data: PropTypes.object.isRequired,\n  height: PropTypes.number.isRequired,\n  hideRootNode: PropTypes.bool,\n  getLabel: PropTypes.func,\n  onValueClick: PropTypes.func,\n  onValueMouseOver: PropTypes.func,\n  onValueMouseOut: PropTypes.func,\n  getSize: PropTypes.func,\n  width: PropTypes.number.isRequired,\n  padAngle: PropTypes.oneOfType([PropTypes.func, PropTypes.number])\n};\nSunburst.defaultProps = {\n  getAngle: function getAngle(d) {\n    return d.angle;\n  },\n  getAngle0: function getAngle0(d) {\n    return d.angle0;\n  },\n  className: '',\n  colorType: 'literal',\n  getColor: function getColor(d) {\n    return d.color;\n  },\n  hideRootNode: false,\n  getLabel: function getLabel(d) {\n    return d.label;\n  },\n  getSize: function getSize(d) {\n    return d.size;\n  },\n  padAngle: 0\n};\n\nexport default Sunburst;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Animation, { AnimationPropType } from '../animation';\nimport { getFontColorFromBackground } from '../utils/scales-utils';\n\nvar ANIMATED_PROPS = ['colorRange', 'colorDomain', 'color', 'opacityRange', 'opacityDomain', 'opacity', 'x0', 'x1', 'y0', 'y1', 'r'];\n\nfunction TreemapLeaf(props) {\n  var animation = props.animation,\n      getLabel = props.getLabel,\n      mode = props.mode,\n      node = props.node,\n      onLeafClick = props.onLeafClick,\n      onLeafMouseOver = props.onLeafMouseOver,\n      onLeafMouseOut = props.onLeafMouseOut,\n      r = props.r,\n      scales = props.scales,\n      x0 = props.x0,\n      x1 = props.x1,\n      y0 = props.y0,\n      y1 = props.y1,\n      style = props.style;\n\n\n  if (animation) {\n    return React.createElement(\n      Animation,\n      _extends({}, props, { animatedProps: ANIMATED_PROPS }),\n      React.createElement(TreemapLeaf, _extends({}, props, { animation: null }))\n    );\n  }\n  var useCirclePacking = mode === 'circlePack';\n  var background = scales.color(node);\n  var opacity = scales.opacity(node);\n  var color = getFontColorFromBackground(background);\n  var data = node.data;\n\n  var title = getLabel(data);\n  var leafStyle = _extends({\n    top: useCirclePacking ? y0 - r : y0,\n    left: useCirclePacking ? x0 - r : x0,\n    width: useCirclePacking ? r * 2 : x1 - x0,\n    height: useCirclePacking ? r * 2 : y1 - y0,\n    background: background,\n    opacity: opacity,\n    color: color\n  }, style, node.data.style);\n\n  return React.createElement(\n    'div',\n    {\n      className: 'rv-treemap__leaf ' + (useCirclePacking ? 'rv-treemap__leaf--circle' : ''),\n      onMouseEnter: function onMouseEnter(event) {\n        return onLeafMouseOver(node, event);\n      },\n      onMouseLeave: function onMouseLeave(event) {\n        return onLeafMouseOut(node, event);\n      },\n      onClick: function onClick(event) {\n        return onLeafClick(node, event);\n      },\n      style: leafStyle\n    },\n    React.createElement(\n      'div',\n      { className: 'rv-treemap__leaf__content' },\n      title\n    )\n  );\n}\n\nTreemapLeaf.propTypes = {\n  animation: AnimationPropType,\n  height: PropTypes.number.isRequired,\n  mode: PropTypes.string,\n  node: PropTypes.object.isRequired,\n  onLeafClick: PropTypes.func,\n  onLeafMouseOver: PropTypes.func,\n  onLeafMouseOut: PropTypes.func,\n  scales: PropTypes.object.isRequired,\n  width: PropTypes.number.isRequired,\n  r: PropTypes.number.isRequired,\n  x0: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y0: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired\n};\nexport default TreemapLeaf;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React from 'react';\n\nimport TreemapLeaf from './treemap-leaf';\n\nfunction TreemapDOM(props) {\n  var animation = props.animation,\n      className = props.className,\n      height = props.height,\n      hideRootNode = props.hideRootNode,\n      getLabel = props.getLabel,\n      mode = props.mode,\n      nodes = props.nodes,\n      width = props.width,\n      scales = props.scales,\n      style = props.style;\n\n  var useCirclePacking = mode === 'circlePack';\n  return React.createElement(\n    'div',\n    {\n      className: 'rv-treemap ' + (useCirclePacking ? 'rv-treemap-circle-packed' : '') + ' ' + className,\n      style: { height: height, width: width }\n    },\n    nodes.map(function (node, index) {\n      // throw out the rootest node\n      if (hideRootNode && !index) {\n        return null;\n      }\n\n      var nodeProps = _extends({\n        animation: animation,\n        node: node,\n        getLabel: getLabel\n      }, props, {\n        x0: useCirclePacking ? node.x : node.x0,\n        x1: useCirclePacking ? node.x : node.x1,\n        y0: useCirclePacking ? node.y : node.y0,\n        y1: useCirclePacking ? node.y : node.y1,\n        r: useCirclePacking ? node.r : 1,\n        scales: scales,\n        style: style\n      });\n      return React.createElement(TreemapLeaf, _extends({}, nodeProps, { key: 'leaf-' + index }));\n    })\n  );\n}\n\nTreemapDOM.displayName = 'TreemapDOM';\nexport default TreemapDOM;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n\nimport XYPlot from '../plot/xy-plot';\nimport PolygonSeries from '../plot/series/polygon-series';\nimport MarkSeries from '../plot/series/mark-series';\nimport LabelSeries from '../plot/series/label-series';\n\nvar MARGIN_ADJUST = 1.2;\n\nvar TreemapSVG = function (_React$Component) {\n  _inherits(TreemapSVG, _React$Component);\n\n  function TreemapSVG() {\n    _classCallCheck(this, TreemapSVG);\n\n    return _possibleConstructorReturn(this, (TreemapSVG.__proto__ || Object.getPrototypeOf(TreemapSVG)).apply(this, arguments));\n  }\n\n  _createClass(TreemapSVG, [{\n    key: 'getCircularNodes',\n    value: function getCircularNodes() {\n      var _props = this.props,\n          animation = _props.animation,\n          hideRootNode = _props.hideRootNode,\n          nodes = _props.nodes,\n          onLeafMouseOver = _props.onLeafMouseOver,\n          onLeafMouseOut = _props.onLeafMouseOut,\n          onLeafClick = _props.onLeafClick,\n          scales = _props.scales,\n          style = _props.style;\n\n      var _nodes$reduce = nodes.reduce(function (acc, node, index) {\n        if (!index && hideRootNode) {\n          return acc;\n        }\n        var x = node.x,\n            y = node.y,\n            r = node.r;\n\n        return {\n          maxY: Math.max(y + r, acc.maxY),\n          minY: Math.min(y - r, acc.minY),\n          maxX: Math.max(x + MARGIN_ADJUST * r, acc.maxX),\n          minX: Math.min(x - MARGIN_ADJUST * r, acc.minX),\n          rows: acc.rows.concat([{\n            x: x,\n            y: y,\n            size: r,\n            color: scales.color(node)\n          }])\n        };\n      }, {\n        rows: [],\n        maxY: -Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        minX: Infinity\n      }),\n          rows = _nodes$reduce.rows,\n          minY = _nodes$reduce.minY,\n          maxY = _nodes$reduce.maxY,\n          minX = _nodes$reduce.minX,\n          maxX = _nodes$reduce.maxX;\n\n      return {\n        updatedNodes: React.createElement(MarkSeries, {\n          animation: animation,\n          className: 'rv-treemap__leaf rv-treemap__leaf--circle',\n          onSeriesMouseEnter: onLeafMouseOver,\n          onSeriesMouseLeave: onLeafMouseOut,\n          onSeriesClick: onLeafClick,\n          data: rows,\n          colorType: 'literal',\n          getColor: function getColor(d) {\n            return d.color;\n          },\n          sizeType: 'literal',\n          getSize: function getSize(d) {\n            return d.size;\n          },\n          style: style\n        }),\n        minY: minY,\n        maxY: maxY,\n        minX: minX,\n        maxX: maxX\n      };\n    }\n  }, {\n    key: 'getNonCircularNodes',\n    value: function getNonCircularNodes() {\n      var _props2 = this.props,\n          animation = _props2.animation,\n          hideRootNode = _props2.hideRootNode,\n          nodes = _props2.nodes,\n          onLeafMouseOver = _props2.onLeafMouseOver,\n          onLeafMouseOut = _props2.onLeafMouseOut,\n          onLeafClick = _props2.onLeafClick,\n          scales = _props2.scales,\n          style = _props2.style;\n      var color = scales.color;\n\n      return nodes.reduce(function (acc, node, index) {\n        if (!index && hideRootNode) {\n          return acc;\n        }\n        var x0 = node.x0,\n            x1 = node.x1,\n            y1 = node.y1,\n            y0 = node.y0;\n\n        var x = x0;\n        var y = y0;\n        var nodeHeight = y1 - y0;\n        var nodeWidth = x1 - x0;\n\n        acc.maxY = Math.max(y + nodeHeight, acc.maxY);\n        acc.minY = Math.min(y, acc.minY);\n        acc.maxX = Math.max(x + nodeWidth, acc.maxX);\n        acc.minX = Math.min(x, acc.minX);\n\n        var data = [{ x: x, y: y }, { x: x, y: y + nodeHeight }, { x: x + nodeWidth, y: y + nodeHeight }, { x: x + nodeWidth, y: y }];\n\n        acc.updatedNodes = acc.updatedNodes.concat([React.createElement(PolygonSeries, {\n          animation: animation,\n          className: 'rv-treemap__leaf',\n          key: index,\n          color: color(node),\n          type: 'literal',\n          onSeriesMouseEnter: onLeafMouseOver,\n          onSeriesMouseLeave: onLeafMouseOut,\n          onSeriesClick: onLeafClick,\n          data: data,\n          style: _extends({}, style, node.style)\n        })]);\n        return acc;\n      }, {\n        updatedNodes: [],\n        maxY: -Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        minX: Infinity\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          className = _props3.className,\n          height = _props3.height,\n          mode = _props3.mode,\n          nodes = _props3.nodes,\n          width = _props3.width;\n\n      var useCirclePacking = mode === 'circlePack';\n\n      var _ref = useCirclePacking ? this.getCircularNodes() : this.getNonCircularNodes(),\n          minY = _ref.minY,\n          maxY = _ref.maxY,\n          minX = _ref.minX,\n          maxX = _ref.maxX,\n          updatedNodes = _ref.updatedNodes;\n\n      var labels = nodes.reduce(function (acc, node) {\n        if (!node.data.title) {\n          return acc;\n        }\n        return acc.concat(_extends({}, node.data, {\n          x: node.x0 || node.x,\n          y: node.y0 || node.y,\n          label: '' + node.data.title\n        }));\n      }, []);\n\n      return React.createElement(\n        XYPlot,\n        _extends({\n          className: 'rv-treemap ' + (useCirclePacking ? 'rv-treemap-circle-packed' : '') + ' ' + className,\n          width: width,\n          height: height,\n          yDomain: [maxY, minY],\n          xDomain: [minX, maxX],\n          colorType: 'literal',\n          hasTreeStructure: true\n        }, this.props),\n        updatedNodes,\n        React.createElement(LabelSeries, { data: labels })\n      );\n    }\n  }]);\n\n  return TreemapSVG;\n}(React.Component);\n\nTreemapSVG.displayName = 'TreemapSVG';\n\nexport default TreemapSVG;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { hierarchy, pack, partition, treemapSquarify, treemapResquarify, treemapSlice, treemapDice, treemapSliceDice, treemapBinary, treemap } from 'd3-hierarchy';\n\nimport { CONTINUOUS_COLOR_RANGE, DEFAULT_COLOR, DEFAULT_OPACITY, OPACITY_TYPE } from '../theme';\nimport { AnimationPropType } from '../animation';\nimport { getAttributeFunctor, getMissingScaleProps } from '../utils/scales-utils';\nimport { MarginPropType, getInnerDimensions } from '../utils/chart-utils';\n\nimport TreemapDOM from './treemap-dom';\nimport TreemapSVG from './treemap-svg';\n\nvar TREEMAP_TILE_MODES = {\n  squarify: treemapSquarify,\n  resquarify: treemapResquarify,\n  slice: treemapSlice,\n  dice: treemapDice,\n  slicedice: treemapSliceDice,\n  binary: treemapBinary\n};\n\nvar TREEMAP_LAYOUT_MODES = ['circlePack', 'partition', 'partition-pivot'];\n\nvar NOOP = function NOOP(d) {\n  return d;\n};\n\nvar ATTRIBUTES = ['opacity', 'color'];\n\nvar DEFAULT_MARGINS = {\n  left: 40,\n  right: 10,\n  top: 10,\n  bottom: 40\n};\n\n/**\n * Get the map of scale functions from the given props.\n * @param {Object} props Props for the component.\n * @returns {Object} Map of scale functions.\n * @private\n */\nfunction _getScaleFns(props) {\n  var data = props.data;\n\n  var allData = data.children || [];\n\n  // Adding _allData property to the object to reuse the existing\n  // getAttributeFunctor function.\n  var compatibleProps = _extends({}, props, getMissingScaleProps(props, allData, ATTRIBUTES), {\n    _allData: allData\n  });\n  return {\n    opacity: getAttributeFunctor(compatibleProps, 'opacity'),\n    color: getAttributeFunctor(compatibleProps, 'color')\n  };\n}\n\nvar Treemap = function (_React$Component) {\n  _inherits(Treemap, _React$Component);\n\n  function Treemap(props) {\n    _classCallCheck(this, Treemap);\n\n    var _this = _possibleConstructorReturn(this, (Treemap.__proto__ || Object.getPrototypeOf(Treemap)).call(this, props));\n\n    _this.state = _extends({\n      scales: _getScaleFns(props)\n    }, getInnerDimensions(props, props.margin));\n    return _this;\n  }\n\n  _createClass(Treemap, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      this.setState(_extends({\n        scales: _getScaleFns(props)\n      }, getInnerDimensions(props, props.margin)));\n    }\n\n    /**\n     * Create the list of nodes to render.\n     * @returns {Array} Array of nodes.\n     * @private\n     */\n\n  }, {\n    key: '_getNodesToRender',\n    value: function _getNodesToRender() {\n      var _state = this.state,\n          innerWidth = _state.innerWidth,\n          innerHeight = _state.innerHeight;\n      var _props = this.props,\n          data = _props.data,\n          mode = _props.mode,\n          padding = _props.padding,\n          sortFunction = _props.sortFunction,\n          getSize = _props.getSize;\n\n      if (!data) {\n        return [];\n      }\n\n      if (mode === 'partition' || mode === 'partition-pivot') {\n        var partitionFunction = partition().size(mode === 'partition-pivot' ? [innerHeight, innerWidth] : [innerWidth, innerHeight]).padding(padding);\n        var _structuredInput = hierarchy(data).sum(getSize).sort(function (a, b) {\n          return sortFunction(a, b, getSize);\n        });\n        var mappedNodes = partitionFunction(_structuredInput).descendants();\n        if (mode === 'partition-pivot') {\n          return mappedNodes.map(function (node) {\n            return _extends({}, node, {\n              x0: node.y0,\n              x1: node.y1,\n              y0: node.x0,\n              y1: node.x1\n            });\n          });\n        }\n        return mappedNodes;\n      }\n      if (mode === 'circlePack') {\n        var packingFunction = pack().size([innerWidth, innerHeight]).padding(padding);\n        var _structuredInput2 = hierarchy(data).sum(getSize).sort(function (a, b) {\n          return sortFunction(a, b, getSize);\n        });\n        return packingFunction(_structuredInput2).descendants();\n      }\n\n      var tileFn = TREEMAP_TILE_MODES[mode];\n      var treemapingFunction = treemap(tileFn).tile(tileFn).size([innerWidth, innerHeight]).padding(padding);\n      var structuredInput = hierarchy(data).sum(getSize).sort(function (a, b) {\n        return sortFunction(a, b, getSize);\n      });\n      return treemapingFunction(structuredInput).descendants();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var renderMode = this.props.renderMode;\n      var scales = this.state.scales;\n\n      var nodes = this._getNodesToRender();\n      var TreemapElement = renderMode === 'SVG' ? TreemapSVG : TreemapDOM;\n      return React.createElement(TreemapElement, _extends({}, this.props, { nodes: nodes, scales: scales }));\n    }\n  }]);\n\n  return Treemap;\n}(React.Component);\n\nTreemap.displayName = 'Treemap';\nTreemap.propTypes = {\n  animation: AnimationPropType,\n  className: PropTypes.string,\n  data: PropTypes.object.isRequired,\n  height: PropTypes.number.isRequired,\n  hideRootNode: PropTypes.bool,\n  margin: MarginPropType,\n  mode: PropTypes.oneOf(Object.keys(TREEMAP_TILE_MODES).concat(TREEMAP_LAYOUT_MODES)),\n  onLeafClick: PropTypes.func,\n  onLeafMouseOver: PropTypes.func,\n  onLeafMouseOut: PropTypes.func,\n  useCirclePacking: PropTypes.bool,\n  padding: PropTypes.number.isRequired,\n  sortFunction: PropTypes.func,\n  width: PropTypes.number.isRequired,\n  getSize: PropTypes.func,\n  getColor: PropTypes.func\n};\n\nTreemap.defaultProps = {\n  className: '',\n  colorRange: CONTINUOUS_COLOR_RANGE,\n  _colorValue: DEFAULT_COLOR,\n  data: {\n    children: []\n  },\n  hideRootNode: false,\n  margin: DEFAULT_MARGINS,\n  mode: 'squarify',\n  onLeafClick: NOOP,\n  onLeafMouseOver: NOOP,\n  onLeafMouseOut: NOOP,\n  opacityType: OPACITY_TYPE,\n  _opacityValue: DEFAULT_OPACITY,\n  padding: 1,\n  sortFunction: function sortFunction(a, b, accessor) {\n    if (!accessor) {\n      return 0;\n    }\n    return accessor(a) - accessor(b);\n  },\n  getSize: function getSize(d) {\n    return d.size;\n  },\n  getColor: function getColor(d) {\n    return d.color;\n  },\n  getLabel: function getLabel(d) {\n    return d.title;\n  }\n};\nexport default Treemap;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport window from 'global/window';\n\nimport XYPlot from './plot/xy-plot';\nimport { getDOMNode } from './utils/react-utils';\n\nvar CONTAINER_REF = 'container';\n\n// As a performance enhancement, we want to only listen once\nvar resizeSubscribers = [];\nvar DEBOUNCE_DURATION = 100;\nvar timeoutId = null;\n\n/**\n * Calls each subscriber, debounced to the\n */\nfunction debounceEmitResize() {\n  window.clearTimeout(timeoutId);\n  timeoutId = window.setTimeout(emitResize, DEBOUNCE_DURATION);\n}\n\n/**\n * Calls each subscriber once syncronously.\n */\nfunction emitResize() {\n  resizeSubscribers.forEach(function (cb) {\n    return cb();\n  });\n}\n\n/**\n * Add the given callback to the list of subscribers to be caled when the\n * window resizes. Returns a function that, when called, removes the given\n * callback from the list of subscribers. This function is also resposible for\n * adding and removing the resize listener on `window`.\n *\n * @param {Function} cb - Subscriber callback function\n * @returns {Function} Unsubscribe function\n */\nfunction subscribeToDebouncedResize(cb) {\n  resizeSubscribers.push(cb);\n\n  // if we go from zero to one Flexible components instances, add the listener\n  if (resizeSubscribers.length === 1) {\n    window.addEventListener('resize', debounceEmitResize);\n  }\n  return function unsubscribe() {\n    removeSubscriber(cb);\n\n    // if we have no Flexible components, remove the listener\n    if (resizeSubscribers.length === 0) {\n      window.clearTimeout(timeoutId);\n      window.removeEventListener('resize', debounceEmitResize);\n    }\n  };\n}\n\n/**\n * Helper for removing the given callback from the list of subscribers.\n *\n * @param {Function} cb - Subscriber callback function\n */\nfunction removeSubscriber(cb) {\n  var index = resizeSubscribers.indexOf(cb);\n  if (index > -1) {\n    resizeSubscribers.splice(index, 1);\n  }\n}\n\n/**\n * Helper for getting a display name for the child component\n * @param {*} Component React class for the child component.\n * @returns {String} The child components name\n */\nfunction getDisplayName(Component) {\n  return Component.displayName || Component.name || 'Component';\n}\n\n/**\n * Add the ability to stretch the visualization on window resize.\n * @param {*} Component React class for the child component.\n * @returns {*} Flexible component.\n */\n\nfunction makeFlexible(Component, isWidthFlexible, isHeightFlexible) {\n  var ResultClass = function (_React$Component) {\n    _inherits(ResultClass, _React$Component);\n\n    _createClass(ResultClass, null, [{\n      key: 'propTypes',\n      get: function get() {\n        var _Component$propTypes = Component.propTypes,\n            height = _Component$propTypes.height,\n            width = _Component$propTypes.width,\n            otherPropTypes = _objectWithoutProperties(_Component$propTypes, ['height', 'width']); // eslint-disable-line no-unused-vars\n\n\n        return otherPropTypes;\n      }\n    }]);\n\n    function ResultClass(props) {\n      _classCallCheck(this, ResultClass);\n\n      var _this = _possibleConstructorReturn(this, (ResultClass.__proto__ || Object.getPrototypeOf(ResultClass)).call(this, props));\n\n      _this._onResize = function () {\n        var containerElement = getDOMNode(_this[CONTAINER_REF]);\n        var offsetHeight = containerElement.offsetHeight,\n            offsetWidth = containerElement.offsetWidth;\n\n\n        var newHeight = _this.state.height === offsetHeight ? {} : { height: offsetHeight };\n\n        var newWidth = _this.state.width === offsetWidth ? {} : { width: offsetWidth };\n\n        _this.setState(_extends({}, newHeight, newWidth));\n      };\n\n      _this.state = {\n        height: 0,\n        width: 0\n      };\n      return _this;\n    }\n\n    /**\n     * Get the width of the container and assign the width.\n     * @private\n     */\n\n\n    _createClass(ResultClass, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this._onResize();\n        this.cancelSubscription = subscribeToDebouncedResize(this._onResize);\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps() {\n        this._onResize();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.cancelSubscription();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var _state = this.state,\n            height = _state.height,\n            width = _state.width;\n\n        var props = _extends({}, this.props, {\n          animation: height === 0 && width === 0 ? null : this.props.animation\n        });\n\n        var updatedDimensions = _extends({}, isHeightFlexible ? { height: height } : {}, isWidthFlexible ? { width: width } : {});\n\n        return React.createElement(\n          'div',\n          {\n            ref: function ref(_ref) {\n              return _this2[CONTAINER_REF] = _ref;\n            },\n            style: { width: '100%', height: '100%' }\n          },\n          React.createElement(Component, _extends({}, updatedDimensions, props))\n        );\n      }\n    }]);\n\n    return ResultClass;\n  }(React.Component);\n\n  ResultClass.displayName = 'Flexible' + getDisplayName(Component);\n\n  return ResultClass;\n}\n\nexport function makeHeightFlexible(component) {\n  return makeFlexible(component, false, true);\n}\n\nexport function makeVisFlexible(component) {\n  return makeFlexible(component, true, true);\n}\n\nexport function makeWidthFlexible(component) {\n  return makeFlexible(component, true, false);\n}\n\nexport var FlexibleWidthXYPlot = makeWidthFlexible(XYPlot);\nexport var FlexibleHeightXYPlot = makeHeightFlexible(XYPlot);\nexport var FlexibleXYPlot = makeVisFlexible(XYPlot);","// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport _AbstractSeries from './plot/series/abstract-series';\nexport { _AbstractSeries as AbstractSeries };\nimport _ArcSeries from './plot/series/arc-series';\nexport { _ArcSeries as ArcSeries };\nimport _AreaSeries from './plot/series/area-series';\nexport { _AreaSeries as AreaSeries };\nimport _Borders from './plot/borders';\nexport { _Borders as Borders };\nimport _ChartLabel from './plot/chart-label';\nexport { _ChartLabel as ChartLabel };\nimport _CircularGridLines from './plot/circular-grid-lines';\nexport { _CircularGridLines as CircularGridLines };\nimport _ContourSeries from './plot/series/contour-series';\nexport { _ContourSeries as ContourSeries };\nimport _Crosshair from './plot/crosshair';\nexport { _Crosshair as Crosshair };\nimport _CustomSVGSeries from './plot/series/custom-svg-series';\nexport { _CustomSVGSeries as CustomSVGSeries };\nimport _DecorativeAxis from './plot/axis/decorative-axis';\nexport { _DecorativeAxis as DecorativeAxis };\nimport _GradientDefs from './plot/gradient-defs';\nexport { _GradientDefs as GradientDefs };\nimport _GridLines from './plot/grid-lines';\nexport { _GridLines as GridLines };\nimport _HeatmapSeries from './plot/series/heatmap-series';\nexport { _HeatmapSeries as HeatmapSeries };\nimport _HexbinSeries from './plot/series/hexbin-series';\nexport { _HexbinSeries as HexbinSeries };\nimport _Highlight from './plot/highlight';\nexport { _Highlight as Highlight };\nimport _Hint from './plot/hint';\nexport { _Hint as Hint };\nimport _HorizontalBarSeries from './plot/series/horizontal-bar-series';\nexport { _HorizontalBarSeries as HorizontalBarSeries };\nimport _HorizontalBarSeriesCanvas from './plot/series/horizontal-bar-series-canvas';\nexport { _HorizontalBarSeriesCanvas as HorizontalBarSeriesCanvas };\nimport _HorizontalGridLines from './plot/horizontal-grid-lines';\nexport { _HorizontalGridLines as HorizontalGridLines };\nimport _HorizontalRectSeries from './plot/series/horizontal-rect-series';\nexport { _HorizontalRectSeries as HorizontalRectSeries };\nimport _HorizontalRectSeriesCanvas from './plot/series/horizontal-rect-series-canvas';\nexport { _HorizontalRectSeriesCanvas as HorizontalRectSeriesCanvas };\nimport _LabelSeries from './plot/series/label-series';\nexport { _LabelSeries as LabelSeries };\nimport _LineMarkSeries from './plot/series/line-mark-series';\nexport { _LineMarkSeries as LineMarkSeries };\nimport _LineMarkSeriesCanvas from './plot/series/line-mark-series-canvas';\nexport { _LineMarkSeriesCanvas as LineMarkSeriesCanvas };\nimport _LineSeries from './plot/series/line-series';\nexport { _LineSeries as LineSeries };\nimport _LineSeriesCanvas from './plot/series/line-series-canvas';\nexport { _LineSeriesCanvas as LineSeriesCanvas };\nimport _MarkSeries from './plot/series/mark-series';\nexport { _MarkSeries as MarkSeries };\nimport _MarkSeriesCanvas from './plot/series/mark-series-canvas';\nexport { _MarkSeriesCanvas as MarkSeriesCanvas };\nimport _PolygonSeries from './plot/series/polygon-series';\nexport { _PolygonSeries as PolygonSeries };\nimport _VerticalBarSeries from './plot/series/vertical-bar-series';\nexport { _VerticalBarSeries as VerticalBarSeries };\nimport _VerticalBarSeriesCanvas from './plot/series/vertical-bar-series-canvas';\nexport { _VerticalBarSeriesCanvas as VerticalBarSeriesCanvas };\nimport _VerticalGridLines from './plot/vertical-grid-lines';\nexport { _VerticalGridLines as VerticalGridLines };\nimport _VerticalRectSeries from './plot/series/vertical-rect-series';\nexport { _VerticalRectSeries as VerticalRectSeries };\nimport _VerticalRectSeriesCanvas from './plot/series/vertical-rect-series-canvas';\nexport { _VerticalRectSeriesCanvas as VerticalRectSeriesCanvas };\nimport _Voronoi from './plot/voronoi';\nexport { _Voronoi as Voronoi };\nimport _RectSeries from './plot/series/rect-series';\nexport { _RectSeries as RectSeries };\nimport _RectSeriesCanvas from './plot/series/rect-series-canvas';\nexport { _RectSeriesCanvas as RectSeriesCanvas };\nimport _WhiskerSeries from './plot/series/whisker-series';\nexport { _WhiskerSeries as WhiskerSeries };\nimport _XYPlot from './plot/xy-plot';\nexport { _XYPlot as XYPlot };\nimport _XAxis from './plot/axis/x-axis';\nexport { _XAxis as XAxis };\nimport _YAxis from './plot/axis/y-axis';\nexport { _YAxis as YAxis };\nimport _ContinuousColorLegend from './legends/continuous-color-legend';\nexport { _ContinuousColorLegend as ContinuousColorLegend };\nimport _ContinuousSizeLegend from './legends/continuous-size-legend';\nexport { _ContinuousSizeLegend as ContinuousSizeLegend };\nimport _DiscreteColorLegend from './legends/discrete-color-legend';\nexport { _DiscreteColorLegend as DiscreteColorLegend };\nimport _SearchableDiscreteColorLegend from './legends/searchable-discrete-color-legend';\nexport { _SearchableDiscreteColorLegend as SearchableDiscreteColorLegend };\nimport _ParallelCoordinates from './parallel-coordinates';\nexport { _ParallelCoordinates as ParallelCoordinates };\nimport _RadarChart from './radar-chart';\nexport { _RadarChart as RadarChart };\nimport _RadialChart from './radial-chart';\nexport { _RadialChart as RadialChart };\nimport _Sankey from './sankey';\nexport { _Sankey as Sankey };\nimport _Sunburst from './sunburst';\nexport { _Sunburst as Sunburst };\nimport _Treemap from './treemap';\nexport { _Treemap as Treemap };\n\n\nexport { makeHeightFlexible, makeVisFlexible, makeWidthFlexible, FlexibleXYPlot, FlexibleWidthXYPlot, FlexibleHeightXYPlot } from './make-vis-flexible';\n\nimport _AxisUtils from './utils/axis-utils';\nexport { _AxisUtils as AxisUtils };\nimport _ScaleUtils from './utils/scales-utils';\nexport { _ScaleUtils as ScaleUtils };"],"sourceRoot":""}